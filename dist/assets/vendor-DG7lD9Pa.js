function MY(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}const EY="modulepreload",AY=function(t){return"/DASHBOARDS/"+t},kL={},TNe=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),s=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=AY(l),l in kL)return;kL[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":EY,u||(f.as="script"),f.crossOrigin="",f.href=l,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function o(a){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=a,window.dispatchEvent(s),!s.defaultPrevented)throw a}return i.then(a=>{for(const s of a||[])s.status==="rejected"&&o(s.reason);return e().catch(o)})};var $l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tz={exports:{}},pM={},Pz={exports:{}},Tn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __=Symbol.for("react.element"),TY=Symbol.for("react.portal"),PY=Symbol.for("react.fragment"),CY=Symbol.for("react.strict_mode"),OY=Symbol.for("react.profiler"),RY=Symbol.for("react.provider"),IY=Symbol.for("react.context"),LY=Symbol.for("react.forward_ref"),DY=Symbol.for("react.suspense"),NY=Symbol.for("react.memo"),kY=Symbol.for("react.lazy"),UL=Symbol.iterator;function UY(t){return t===null||typeof t!="object"?null:(t=UL&&t[UL]||t["@@iterator"],typeof t=="function"?t:null)}var Cz={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oz=Object.assign,Rz={};function Mg(t,e,n){this.props=t,this.context=e,this.refs=Rz,this.updater=n||Cz}Mg.prototype.isReactComponent={};Mg.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Mg.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Iz(){}Iz.prototype=Mg.prototype;function WO(t,e,n){this.props=t,this.context=e,this.refs=Rz,this.updater=n||Cz}var VO=WO.prototype=new Iz;VO.constructor=WO;Oz(VO,Mg.prototype);VO.isPureReactComponent=!0;var FL=Array.isArray,Lz=Object.prototype.hasOwnProperty,XO={current:null},Dz={key:!0,ref:!0,__self:!0,__source:!0};function Nz(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)Lz.call(e,r)&&!Dz.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:__,type:t,key:o,ref:a,props:i,_owner:XO.current}}function FY(t,e){return{$$typeof:__,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function qO(t){return typeof t=="object"&&t!==null&&t.$$typeof===__}function BY(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var BL=/\/+/g;function jA(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BY(""+t.key):e.toString(36)}function Tb(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case __:case TY:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+jA(a,0):r,FL(i)?(n="",t!=null&&(n=t.replace(BL,"$&/")+"/"),Tb(i,e,n,"",function(u){return u})):i!=null&&(qO(i)&&(i=FY(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(BL,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",FL(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+jA(o,s);a+=Tb(o,e,n,l,i)}else if(l=UY(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+jA(o,s++),a+=Tb(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Jx(t,e,n){if(t==null)return t;var r=[],i=0;return Tb(t,r,"","",function(o){return e.call(n,o,i++)}),r}function zY(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jo={current:null},Pb={transition:null},jY={ReactCurrentDispatcher:Jo,ReactCurrentBatchConfig:Pb,ReactCurrentOwner:XO};function kz(){throw Error("act(...) is not supported in production builds of React.")}Tn.Children={map:Jx,forEach:function(t,e,n){Jx(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Jx(t,function(){e++}),e},toArray:function(t){return Jx(t,function(e){return e})||[]},only:function(t){if(!qO(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Tn.Component=Mg;Tn.Fragment=PY;Tn.Profiler=OY;Tn.PureComponent=WO;Tn.StrictMode=CY;Tn.Suspense=DY;Tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jY;Tn.act=kz;Tn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Oz({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=XO.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)Lz.call(e,l)&&!Dz.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:__,type:t.type,key:i,ref:o,props:r,_owner:a}};Tn.createContext=function(t){return t={$$typeof:IY,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RY,_context:t},t.Consumer=t};Tn.createElement=Nz;Tn.createFactory=function(t){var e=Nz.bind(null,t);return e.type=t,e};Tn.createRef=function(){return{current:null}};Tn.forwardRef=function(t){return{$$typeof:LY,render:t}};Tn.isValidElement=qO;Tn.lazy=function(t){return{$$typeof:kY,_payload:{_status:-1,_result:t},_init:zY}};Tn.memo=function(t,e){return{$$typeof:NY,type:t,compare:e===void 0?null:e}};Tn.startTransition=function(t){var e=Pb.transition;Pb.transition={};try{t()}finally{Pb.transition=e}};Tn.unstable_act=kz;Tn.useCallback=function(t,e){return Jo.current.useCallback(t,e)};Tn.useContext=function(t){return Jo.current.useContext(t)};Tn.useDebugValue=function(){};Tn.useDeferredValue=function(t){return Jo.current.useDeferredValue(t)};Tn.useEffect=function(t,e){return Jo.current.useEffect(t,e)};Tn.useId=function(){return Jo.current.useId()};Tn.useImperativeHandle=function(t,e,n){return Jo.current.useImperativeHandle(t,e,n)};Tn.useInsertionEffect=function(t,e){return Jo.current.useInsertionEffect(t,e)};Tn.useLayoutEffect=function(t,e){return Jo.current.useLayoutEffect(t,e)};Tn.useMemo=function(t,e){return Jo.current.useMemo(t,e)};Tn.useReducer=function(t,e,n){return Jo.current.useReducer(t,e,n)};Tn.useRef=function(t){return Jo.current.useRef(t)};Tn.useState=function(t){return Jo.current.useState(t)};Tn.useSyncExternalStore=function(t,e,n){return Jo.current.useSyncExternalStore(t,e,n)};Tn.useTransition=function(){return Jo.current.useTransition()};Tn.version="18.3.1";Pz.exports=Tn;var oe=Pz.exports;const le=Nn(oe),Uz=MY({__proto__:null,default:le},[oe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $Y=oe,HY=Symbol.for("react.element"),GY=Symbol.for("react.fragment"),WY=Object.prototype.hasOwnProperty,VY=$Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XY={key:!0,ref:!0,__self:!0,__source:!0};function Fz(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)WY.call(e,r)&&!XY.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:HY,type:t,key:o,ref:a,props:i,_owner:VY.current}}pM.Fragment=GY;pM.jsx=Fz;pM.jsxs=Fz;Tz.exports=pM;var An=Tz.exports,zL={},Bz={exports:{}},Ja={},zz={exports:{}},jz={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,j){var X=F.length;F.push(j);e:for(;0<X;){var H=X-1>>>1,Y=F[H];if(0<i(Y,j))F[H]=j,F[X]=Y,X=H;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var j=F[0],X=F.pop();if(X!==j){F[0]=X;e:for(var H=0,Y=F.length,se=Y>>>1;H<se;){var re=2*(H+1)-1,ie=F[re],ge=re+1,de=F[ge];if(0>i(ie,X))ge<Y&&0>i(de,ie)?(F[H]=de,F[ge]=X,H=ge):(F[H]=ie,F[re]=X,H=re);else if(ge<Y&&0>i(de,X))F[H]=de,F[ge]=X,H=ge;else break e}}return j}function i(F,j){var X=F.sortIndex-j.sortIndex;return X!==0?X:F.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,h=3,g=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=F)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function E(F){if(b=!1,w(F),!v)if(n(l)!==null)v=!0,q(T);else{var j=n(u);j!==null&&Q(E,j.startTime-F)}}function T(F,j){v=!1,b&&(b=!1,_(O),O=-1),g=!0;var X=h;try{for(w(j),f=n(l);f!==null&&(!(f.expirationTime>j)||F&&!N());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var Y=H(f.expirationTime<=j);j=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(l)&&r(l),w(j)}else r(l);f=n(l)}if(f!==null)var se=!0;else{var re=n(u);re!==null&&Q(E,re.startTime-j),se=!1}return se}finally{f=null,h=X,g=!1}}var P=!1,I=null,O=-1,C=5,L=-1;function N(){return!(t.unstable_now()-L<C)}function U(){if(I!==null){var F=t.unstable_now();L=F;var j=!0;try{j=I(!0,F)}finally{j?z():(P=!1,I=null)}}else P=!1}var z;if(typeof S=="function")z=function(){S(U)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,K=$.port2;$.port1.onmessage=U,z=function(){K.postMessage(null)}}else z=function(){x(U,0)};function q(F){I=F,P||(P=!0,z())}function Q(F,j){O=x(function(){F(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,q(T))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var X=h;h=j;try{return F()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,j){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var X=h;h=F;try{return j()}finally{h=X}},t.unstable_scheduleCallback=function(F,j,X){var H=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?H+X:H):X=H,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=X+Y,F={id:c++,callback:j,priorityLevel:F,startTime:X,expirationTime:Y,sortIndex:-1},X>H?(F.sortIndex=X,e(u,F),n(l)===null&&F===n(u)&&(b?(_(O),O=-1):b=!0,Q(E,X-H))):(F.sortIndex=Y,e(l,F),v||g||(v=!0,q(T))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var j=h;return function(){var X=h;h=j;try{return F.apply(this,arguments)}finally{h=X}}}})(jz);zz.exports=jz;var qY=zz.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YY=oe,Ka=qY;function dt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $z=new Set,Qy={};function Ud(t,e){Bm(t,e),Bm(t+"Capture",e)}function Bm(t,e){for(Qy[t]=e,t=0;t<e.length;t++)$z.add(e[t])}var Qu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),W2=Object.prototype.hasOwnProperty,KY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jL={},$L={};function ZY(t){return W2.call($L,t)?!0:W2.call(jL,t)?!1:KY.test(t)?$L[t]=!0:(jL[t]=!0,!1)}function JY(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function QY(t,e,n,r){if(e===null||typeof e>"u"||JY(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qo(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var lo={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lo[t]=new Qo(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lo[e]=new Qo(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lo[t]=new Qo(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lo[t]=new Qo(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lo[t]=new Qo(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lo[t]=new Qo(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lo[t]=new Qo(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lo[t]=new Qo(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lo[t]=new Qo(t,5,!1,t.toLowerCase(),null,!1,!1)});var YO=/[\-:]([a-z])/g;function KO(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(YO,KO);lo[e]=new Qo(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(YO,KO);lo[e]=new Qo(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(YO,KO);lo[e]=new Qo(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lo[t]=new Qo(t,1,!1,t.toLowerCase(),null,!1,!1)});lo.xlinkHref=new Qo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lo[t]=new Qo(t,1,!1,t.toLowerCase(),null,!0,!0)});function ZO(t,e,n,r){var i=lo.hasOwnProperty(e)?lo[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(QY(e,n,i,r)&&(n=null),r||i===null?ZY(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fc=YY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Qx=Symbol.for("react.element"),im=Symbol.for("react.portal"),om=Symbol.for("react.fragment"),JO=Symbol.for("react.strict_mode"),V2=Symbol.for("react.profiler"),Hz=Symbol.for("react.provider"),Gz=Symbol.for("react.context"),QO=Symbol.for("react.forward_ref"),X2=Symbol.for("react.suspense"),q2=Symbol.for("react.suspense_list"),eR=Symbol.for("react.memo"),nf=Symbol.for("react.lazy"),Wz=Symbol.for("react.offscreen"),HL=Symbol.iterator;function Dv(t){return t===null||typeof t!="object"?null:(t=HL&&t[HL]||t["@@iterator"],typeof t=="function"?t:null)}var kr=Object.assign,$A;function my(t){if($A===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$A=e&&e[1]||""}return`
`+$A+t}var HA=!1;function GA(t,e){if(!t||HA)return"";HA=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{HA=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?my(t):""}function eK(t){switch(t.tag){case 5:return my(t.type);case 16:return my("Lazy");case 13:return my("Suspense");case 19:return my("SuspenseList");case 0:case 2:case 15:return t=GA(t.type,!1),t;case 11:return t=GA(t.type.render,!1),t;case 1:return t=GA(t.type,!0),t;default:return""}}function Y2(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case om:return"Fragment";case im:return"Portal";case V2:return"Profiler";case JO:return"StrictMode";case X2:return"Suspense";case q2:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gz:return(t.displayName||"Context")+".Consumer";case Hz:return(t._context.displayName||"Context")+".Provider";case QO:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case eR:return e=t.displayName||null,e!==null?e:Y2(t.type)||"Memo";case nf:e=t._payload,t=t._init;try{return Y2(t(e))}catch{}}return null}function tK(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Y2(e);case 8:return e===JO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Af(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vz(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nK(t){var e=Vz(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function e1(t){t._valueTracker||(t._valueTracker=nK(t))}function Xz(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Vz(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wb(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function K2(t,e){var n=e.checked;return kr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function GL(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Af(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function qz(t,e){e=e.checked,e!=null&&ZO(t,"checked",e,!1)}function Z2(t,e){qz(t,e);var n=Af(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?J2(t,e.type,n):e.hasOwnProperty("defaultValue")&&J2(t,e.type,Af(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function WL(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function J2(t,e,n){(e!=="number"||Wb(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gy=Array.isArray;function Tm(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Af(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Q2(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(dt(91));return kr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function VL(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(dt(92));if(gy(n)){if(1<n.length)throw Error(dt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Af(n)}}function Yz(t,e){var n=Af(e.value),r=Af(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function XL(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Kz(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eP(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kz(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var t1,Zz=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(t1=t1||document.createElement("div"),t1.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=t1.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function e0(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rK=["Webkit","ms","Moz","O"];Object.keys(wy).forEach(function(t){rK.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wy[e]=wy[t]})});function Jz(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wy.hasOwnProperty(t)&&wy[t]?(""+e).trim():e+"px"}function Qz(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Jz(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var iK=kr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tP(t,e){if(e){if(iK[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(dt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(dt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(dt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(dt(62))}}function nP(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rP=null;function tR(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var iP=null,Pm=null,Cm=null;function qL(t){if(t=S_(t)){if(typeof iP!="function")throw Error(dt(280));var e=t.stateNode;e&&(e=_M(e),iP(t.stateNode,t.type,e))}}function e5(t){Pm?Cm?Cm.push(t):Cm=[t]:Pm=t}function t5(){if(Pm){var t=Pm,e=Cm;if(Cm=Pm=null,qL(t),e)for(t=0;t<e.length;t++)qL(e[t])}}function n5(t,e){return t(e)}function r5(){}var WA=!1;function i5(t,e,n){if(WA)return t(e,n);WA=!0;try{return n5(t,e,n)}finally{WA=!1,(Pm!==null||Cm!==null)&&(r5(),t5())}}function t0(t,e){var n=t.stateNode;if(n===null)return null;var r=_M(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(dt(231,e,typeof n));return n}var oP=!1;if(Qu)try{var Nv={};Object.defineProperty(Nv,"passive",{get:function(){oP=!0}}),window.addEventListener("test",Nv,Nv),window.removeEventListener("test",Nv,Nv)}catch{oP=!1}function oK(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var My=!1,Vb=null,Xb=!1,aP=null,aK={onError:function(t){My=!0,Vb=t}};function sK(t,e,n,r,i,o,a,s,l){My=!1,Vb=null,oK.apply(aK,arguments)}function lK(t,e,n,r,i,o,a,s,l){if(sK.apply(this,arguments),My){if(My){var u=Vb;My=!1,Vb=null}else throw Error(dt(198));Xb||(Xb=!0,aP=u)}}function Fd(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function o5(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function YL(t){if(Fd(t)!==t)throw Error(dt(188))}function uK(t){var e=t.alternate;if(!e){if(e=Fd(t),e===null)throw Error(dt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return YL(i),t;if(o===r)return YL(i),e;o=o.sibling}throw Error(dt(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(dt(189))}}if(n.alternate!==r)throw Error(dt(190))}if(n.tag!==3)throw Error(dt(188));return n.stateNode.current===n?t:e}function a5(t){return t=uK(t),t!==null?s5(t):null}function s5(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=s5(t);if(e!==null)return e;t=t.sibling}return null}var l5=Ka.unstable_scheduleCallback,KL=Ka.unstable_cancelCallback,cK=Ka.unstable_shouldYield,fK=Ka.unstable_requestPaint,ri=Ka.unstable_now,hK=Ka.unstable_getCurrentPriorityLevel,nR=Ka.unstable_ImmediatePriority,u5=Ka.unstable_UserBlockingPriority,qb=Ka.unstable_NormalPriority,dK=Ka.unstable_LowPriority,c5=Ka.unstable_IdlePriority,mM=null,Xl=null;function pK(t){if(Xl&&typeof Xl.onCommitFiberRoot=="function")try{Xl.onCommitFiberRoot(mM,t,void 0,(t.current.flags&128)===128)}catch{}}var ll=Math.clz32?Math.clz32:vK,mK=Math.log,gK=Math.LN2;function vK(t){return t>>>=0,t===0?32:31-(mK(t)/gK|0)|0}var n1=64,r1=4194304;function vy(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Yb(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=vy(s):(o&=a,o!==0&&(r=vy(o)))}else a=n&~i,a!==0?r=vy(a):o!==0&&(r=vy(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ll(e),i=1<<n,r|=t[n],e&=~i;return r}function yK(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _K(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ll(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=yK(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function sP(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function f5(){var t=n1;return n1<<=1,!(n1&4194240)&&(n1=64),t}function VA(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function x_(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ll(e),t[e]=n}function xK(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-ll(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function rR(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ll(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Yn=0;function h5(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var d5,iR,p5,m5,g5,lP=!1,i1=[],mf=null,gf=null,vf=null,n0=new Map,r0=new Map,af=[],bK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZL(t,e){switch(t){case"focusin":case"focusout":mf=null;break;case"dragenter":case"dragleave":gf=null;break;case"mouseover":case"mouseout":vf=null;break;case"pointerover":case"pointerout":n0.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":r0.delete(e.pointerId)}}function kv(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=S_(e),e!==null&&iR(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function SK(t,e,n,r,i){switch(e){case"focusin":return mf=kv(mf,t,e,n,r,i),!0;case"dragenter":return gf=kv(gf,t,e,n,r,i),!0;case"mouseover":return vf=kv(vf,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return n0.set(o,kv(n0.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,r0.set(o,kv(r0.get(o)||null,t,e,n,r,i)),!0}return!1}function v5(t){var e=td(t.target);if(e!==null){var n=Fd(e);if(n!==null){if(e=n.tag,e===13){if(e=o5(n),e!==null){t.blockedOn=e,g5(t.priority,function(){p5(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cb(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=uP(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);rP=r,n.target.dispatchEvent(r),rP=null}else return e=S_(n),e!==null&&iR(e),t.blockedOn=n,!1;e.shift()}return!0}function JL(t,e,n){Cb(t)&&n.delete(e)}function wK(){lP=!1,mf!==null&&Cb(mf)&&(mf=null),gf!==null&&Cb(gf)&&(gf=null),vf!==null&&Cb(vf)&&(vf=null),n0.forEach(JL),r0.forEach(JL)}function Uv(t,e){t.blockedOn===e&&(t.blockedOn=null,lP||(lP=!0,Ka.unstable_scheduleCallback(Ka.unstable_NormalPriority,wK)))}function i0(t){function e(i){return Uv(i,t)}if(0<i1.length){Uv(i1[0],t);for(var n=1;n<i1.length;n++){var r=i1[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mf!==null&&Uv(mf,t),gf!==null&&Uv(gf,t),vf!==null&&Uv(vf,t),n0.forEach(e),r0.forEach(e),n=0;n<af.length;n++)r=af[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<af.length&&(n=af[0],n.blockedOn===null);)v5(n),n.blockedOn===null&&af.shift()}var Om=fc.ReactCurrentBatchConfig,Kb=!0;function MK(t,e,n,r){var i=Yn,o=Om.transition;Om.transition=null;try{Yn=1,oR(t,e,n,r)}finally{Yn=i,Om.transition=o}}function EK(t,e,n,r){var i=Yn,o=Om.transition;Om.transition=null;try{Yn=4,oR(t,e,n,r)}finally{Yn=i,Om.transition=o}}function oR(t,e,n,r){if(Kb){var i=uP(t,e,n,r);if(i===null)nT(t,e,r,Zb,n),ZL(t,r);else if(SK(i,t,e,n,r))r.stopPropagation();else if(ZL(t,r),e&4&&-1<bK.indexOf(t)){for(;i!==null;){var o=S_(i);if(o!==null&&d5(o),o=uP(t,e,n,r),o===null&&nT(t,e,r,Zb,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else nT(t,e,r,null,n)}}var Zb=null;function uP(t,e,n,r){if(Zb=null,t=tR(r),t=td(t),t!==null)if(e=Fd(t),e===null)t=null;else if(n=e.tag,n===13){if(t=o5(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zb=t,null}function y5(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hK()){case nR:return 1;case u5:return 4;case qb:case dK:return 16;case c5:return 536870912;default:return 16}default:return 16}}var cf=null,aR=null,Ob=null;function _5(){if(Ob)return Ob;var t,e=aR,n=e.length,r,i="value"in cf?cf.value:cf.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return Ob=i.slice(t,1<r?1-r:void 0)}function Rb(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function o1(){return!0}function QL(){return!1}function Qa(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?o1:QL,this.isPropagationStopped=QL,this}return kr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=o1)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=o1)},persist:function(){},isPersistent:o1}),e}var Eg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sR=Qa(Eg),b_=kr({},Eg,{view:0,detail:0}),AK=Qa(b_),XA,qA,Fv,gM=kr({},b_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lR,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fv&&(Fv&&t.type==="mousemove"?(XA=t.screenX-Fv.screenX,qA=t.screenY-Fv.screenY):qA=XA=0,Fv=t),XA)},movementY:function(t){return"movementY"in t?t.movementY:qA}}),eD=Qa(gM),TK=kr({},gM,{dataTransfer:0}),PK=Qa(TK),CK=kr({},b_,{relatedTarget:0}),YA=Qa(CK),OK=kr({},Eg,{animationName:0,elapsedTime:0,pseudoElement:0}),RK=Qa(OK),IK=kr({},Eg,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LK=Qa(IK),DK=kr({},Eg,{data:0}),tD=Qa(DK),NK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function FK(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UK[t])?!!e[t]:!1}function lR(){return FK}var BK=kr({},b_,{key:function(t){if(t.key){var e=NK[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rb(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kK[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lR,charCode:function(t){return t.type==="keypress"?Rb(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rb(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zK=Qa(BK),jK=kr({},gM,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nD=Qa(jK),$K=kr({},b_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lR}),HK=Qa($K),GK=kr({},Eg,{propertyName:0,elapsedTime:0,pseudoElement:0}),WK=Qa(GK),VK=kr({},gM,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XK=Qa(VK),qK=[9,13,27,32],uR=Qu&&"CompositionEvent"in window,Ey=null;Qu&&"documentMode"in document&&(Ey=document.documentMode);var YK=Qu&&"TextEvent"in window&&!Ey,x5=Qu&&(!uR||Ey&&8<Ey&&11>=Ey),rD=" ",iD=!1;function b5(t,e){switch(t){case"keyup":return qK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function S5(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var am=!1;function KK(t,e){switch(t){case"compositionend":return S5(e);case"keypress":return e.which!==32?null:(iD=!0,rD);case"textInput":return t=e.data,t===rD&&iD?null:t;default:return null}}function ZK(t,e){if(am)return t==="compositionend"||!uR&&b5(t,e)?(t=_5(),Ob=aR=cf=null,am=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return x5&&e.locale!=="ko"?null:e.data;default:return null}}var JK={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oD(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JK[t.type]:e==="textarea"}function w5(t,e,n,r){e5(r),e=Jb(e,"onChange"),0<e.length&&(n=new sR("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ay=null,o0=null;function QK(t){D5(t,0)}function vM(t){var e=um(t);if(Xz(e))return t}function eZ(t,e){if(t==="change")return e}var M5=!1;if(Qu){var KA;if(Qu){var ZA="oninput"in document;if(!ZA){var aD=document.createElement("div");aD.setAttribute("oninput","return;"),ZA=typeof aD.oninput=="function"}KA=ZA}else KA=!1;M5=KA&&(!document.documentMode||9<document.documentMode)}function sD(){Ay&&(Ay.detachEvent("onpropertychange",E5),o0=Ay=null)}function E5(t){if(t.propertyName==="value"&&vM(o0)){var e=[];w5(e,o0,t,tR(t)),i5(QK,e)}}function tZ(t,e,n){t==="focusin"?(sD(),Ay=e,o0=n,Ay.attachEvent("onpropertychange",E5)):t==="focusout"&&sD()}function nZ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vM(o0)}function rZ(t,e){if(t==="click")return vM(e)}function iZ(t,e){if(t==="input"||t==="change")return vM(e)}function oZ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hl=typeof Object.is=="function"?Object.is:oZ;function a0(t,e){if(hl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!W2.call(e,i)||!hl(t[i],e[i]))return!1}return!0}function lD(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function uD(t,e){var n=lD(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lD(n)}}function A5(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?A5(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function T5(){for(var t=window,e=Wb();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wb(t.document)}return e}function cR(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aZ(t){var e=T5(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&A5(n.ownerDocument.documentElement,n)){if(r!==null&&cR(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=uD(n,o);var a=uD(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sZ=Qu&&"documentMode"in document&&11>=document.documentMode,sm=null,cP=null,Ty=null,fP=!1;function cD(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fP||sm==null||sm!==Wb(r)||(r=sm,"selectionStart"in r&&cR(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ty&&a0(Ty,r)||(Ty=r,r=Jb(cP,"onSelect"),0<r.length&&(e=new sR("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=sm)))}function a1(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lm={animationend:a1("Animation","AnimationEnd"),animationiteration:a1("Animation","AnimationIteration"),animationstart:a1("Animation","AnimationStart"),transitionend:a1("Transition","TransitionEnd")},JA={},P5={};Qu&&(P5=document.createElement("div").style,"AnimationEvent"in window||(delete lm.animationend.animation,delete lm.animationiteration.animation,delete lm.animationstart.animation),"TransitionEvent"in window||delete lm.transitionend.transition);function yM(t){if(JA[t])return JA[t];if(!lm[t])return t;var e=lm[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in P5)return JA[t]=e[n];return t}var C5=yM("animationend"),O5=yM("animationiteration"),R5=yM("animationstart"),I5=yM("transitionend"),L5=new Map,fD="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rf(t,e){L5.set(t,e),Ud(e,[t])}for(var QA=0;QA<fD.length;QA++){var eT=fD[QA],lZ=eT.toLowerCase(),uZ=eT[0].toUpperCase()+eT.slice(1);Rf(lZ,"on"+uZ)}Rf(C5,"onAnimationEnd");Rf(O5,"onAnimationIteration");Rf(R5,"onAnimationStart");Rf("dblclick","onDoubleClick");Rf("focusin","onFocus");Rf("focusout","onBlur");Rf(I5,"onTransitionEnd");Bm("onMouseEnter",["mouseout","mouseover"]);Bm("onMouseLeave",["mouseout","mouseover"]);Bm("onPointerEnter",["pointerout","pointerover"]);Bm("onPointerLeave",["pointerout","pointerover"]);Ud("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ud("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ud("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ud("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ud("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ud("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cZ=new Set("cancel close invalid load scroll toggle".split(" ").concat(yy));function hD(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lK(r,e,void 0,t),t.currentTarget=null}function D5(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;hD(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;hD(i,s,u),o=l}}}if(Xb)throw t=aP,Xb=!1,aP=null,t}function pr(t,e){var n=e[gP];n===void 0&&(n=e[gP]=new Set);var r=t+"__bubble";n.has(r)||(N5(e,t,2,!1),n.add(r))}function tT(t,e,n){var r=0;e&&(r|=4),N5(n,t,r,e)}var s1="_reactListening"+Math.random().toString(36).slice(2);function s0(t){if(!t[s1]){t[s1]=!0,$z.forEach(function(n){n!=="selectionchange"&&(cZ.has(n)||tT(n,!1,t),tT(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[s1]||(e[s1]=!0,tT("selectionchange",!1,e))}}function N5(t,e,n,r){switch(y5(e)){case 1:var i=MK;break;case 4:i=EK;break;default:i=oR}n=i.bind(null,e,n,t),i=void 0,!oP||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function nT(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=td(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}i5(function(){var u=o,c=tR(n),f=[];e:{var h=L5.get(t);if(h!==void 0){var g=sR,v=t;switch(t){case"keypress":if(Rb(n)===0)break e;case"keydown":case"keyup":g=zK;break;case"focusin":v="focus",g=YA;break;case"focusout":v="blur",g=YA;break;case"beforeblur":case"afterblur":g=YA;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=eD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=PK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=HK;break;case C5:case O5:case R5:g=RK;break;case I5:g=WK;break;case"scroll":g=AK;break;case"wheel":g=XK;break;case"copy":case"cut":case"paste":g=LK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=nD}var b=(e&4)!==0,x=!b&&t==="scroll",_=b?h!==null?h+"Capture":null:h;b=[];for(var S=u,w;S!==null;){w=S;var E=w.stateNode;if(w.tag===5&&E!==null&&(w=E,_!==null&&(E=t0(S,_),E!=null&&b.push(l0(S,E,w)))),x)break;S=S.return}0<b.length&&(h=new g(h,v,null,n,c),f.push({event:h,listeners:b}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",h&&n!==rP&&(v=n.relatedTarget||n.fromElement)&&(td(v)||v[ec]))break e;if((g||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,g?(v=n.relatedTarget||n.toElement,g=u,v=v?td(v):null,v!==null&&(x=Fd(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(b=eD,E="onMouseLeave",_="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(b=nD,E="onPointerLeave",_="onPointerEnter",S="pointer"),x=g==null?h:um(g),w=v==null?h:um(v),h=new b(E,S+"leave",g,n,c),h.target=x,h.relatedTarget=w,E=null,td(c)===u&&(b=new b(_,S+"enter",v,n,c),b.target=w,b.relatedTarget=x,E=b),x=E,g&&v)t:{for(b=g,_=v,S=0,w=b;w;w=Cp(w))S++;for(w=0,E=_;E;E=Cp(E))w++;for(;0<S-w;)b=Cp(b),S--;for(;0<w-S;)_=Cp(_),w--;for(;S--;){if(b===_||_!==null&&b===_.alternate)break t;b=Cp(b),_=Cp(_)}b=null}else b=null;g!==null&&dD(f,h,g,b,!1),v!==null&&x!==null&&dD(f,x,v,b,!0)}}e:{if(h=u?um(u):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var T=eZ;else if(oD(h))if(M5)T=iZ;else{T=nZ;var P=tZ}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(T=rZ);if(T&&(T=T(t,u))){w5(f,T,n,c);break e}P&&P(t,h,u),t==="focusout"&&(P=h._wrapperState)&&P.controlled&&h.type==="number"&&J2(h,"number",h.value)}switch(P=u?um(u):window,t){case"focusin":(oD(P)||P.contentEditable==="true")&&(sm=P,cP=u,Ty=null);break;case"focusout":Ty=cP=sm=null;break;case"mousedown":fP=!0;break;case"contextmenu":case"mouseup":case"dragend":fP=!1,cD(f,n,c);break;case"selectionchange":if(sZ)break;case"keydown":case"keyup":cD(f,n,c)}var I;if(uR)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else am?b5(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(x5&&n.locale!=="ko"&&(am||O!=="onCompositionStart"?O==="onCompositionEnd"&&am&&(I=_5()):(cf=c,aR="value"in cf?cf.value:cf.textContent,am=!0)),P=Jb(u,O),0<P.length&&(O=new tD(O,t,null,n,c),f.push({event:O,listeners:P}),I?O.data=I:(I=S5(n),I!==null&&(O.data=I)))),(I=YK?KK(t,n):ZK(t,n))&&(u=Jb(u,"onBeforeInput"),0<u.length&&(c=new tD("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=I))}D5(f,e)})}function l0(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jb(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=t0(t,n),o!=null&&r.unshift(l0(t,o,i)),o=t0(t,e),o!=null&&r.push(l0(t,o,i))),t=t.return}return r}function Cp(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function dD(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=t0(n,o),l!=null&&a.unshift(l0(n,l,s))):i||(l=t0(n,o),l!=null&&a.push(l0(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var fZ=/\r\n?/g,hZ=/\u0000|\uFFFD/g;function pD(t){return(typeof t=="string"?t:""+t).replace(fZ,`
`).replace(hZ,"")}function l1(t,e,n){if(e=pD(e),pD(t)!==e&&n)throw Error(dt(425))}function Qb(){}var hP=null,dP=null;function pP(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var mP=typeof setTimeout=="function"?setTimeout:void 0,dZ=typeof clearTimeout=="function"?clearTimeout:void 0,mD=typeof Promise=="function"?Promise:void 0,pZ=typeof queueMicrotask=="function"?queueMicrotask:typeof mD<"u"?function(t){return mD.resolve(null).then(t).catch(mZ)}:mP;function mZ(t){setTimeout(function(){throw t})}function rT(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),i0(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);i0(e)}function yf(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gD(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ag=Math.random().toString(36).slice(2),Hl="__reactFiber$"+Ag,u0="__reactProps$"+Ag,ec="__reactContainer$"+Ag,gP="__reactEvents$"+Ag,gZ="__reactListeners$"+Ag,vZ="__reactHandles$"+Ag;function td(t){var e=t[Hl];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ec]||n[Hl]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gD(t);t!==null;){if(n=t[Hl])return n;t=gD(t)}return e}t=n,n=t.parentNode}return null}function S_(t){return t=t[Hl]||t[ec],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function um(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(dt(33))}function _M(t){return t[u0]||null}var vP=[],cm=-1;function If(t){return{current:t}}function _r(t){0>cm||(t.current=vP[cm],vP[cm]=null,cm--)}function cr(t,e){cm++,vP[cm]=t.current,t.current=e}var Tf={},Ao=If(Tf),va=If(!1),Sd=Tf;function zm(t,e){var n=t.type.contextTypes;if(!n)return Tf;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ya(t){return t=t.childContextTypes,t!=null}function eS(){_r(va),_r(Ao)}function vD(t,e,n){if(Ao.current!==Tf)throw Error(dt(168));cr(Ao,e),cr(va,n)}function k5(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(dt(108,tK(t)||"Unknown",i));return kr({},n,r)}function tS(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tf,Sd=Ao.current,cr(Ao,t),cr(va,va.current),!0}function yD(t,e,n){var r=t.stateNode;if(!r)throw Error(dt(169));n?(t=k5(t,e,Sd),r.__reactInternalMemoizedMergedChildContext=t,_r(va),_r(Ao),cr(Ao,t)):_r(va),cr(va,n)}var ku=null,xM=!1,iT=!1;function U5(t){ku===null?ku=[t]:ku.push(t)}function yZ(t){xM=!0,U5(t)}function Lf(){if(!iT&&ku!==null){iT=!0;var t=0,e=Yn;try{var n=ku;for(Yn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ku=null,xM=!1}catch(i){throw ku!==null&&(ku=ku.slice(t+1)),l5(nR,Lf),i}finally{Yn=e,iT=!1}}return null}var fm=[],hm=0,nS=null,rS=0,xs=[],bs=0,wd=null,ju=1,$u="";function Gh(t,e){fm[hm++]=rS,fm[hm++]=nS,nS=t,rS=e}function F5(t,e,n){xs[bs++]=ju,xs[bs++]=$u,xs[bs++]=wd,wd=t;var r=ju;t=$u;var i=32-ll(r)-1;r&=~(1<<i),n+=1;var o=32-ll(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ju=1<<32-ll(e)+i|n<<i|r,$u=o+t}else ju=1<<o|n<<i|r,$u=t}function fR(t){t.return!==null&&(Gh(t,1),F5(t,1,0))}function hR(t){for(;t===nS;)nS=fm[--hm],fm[hm]=null,rS=fm[--hm],fm[hm]=null;for(;t===wd;)wd=xs[--bs],xs[bs]=null,$u=xs[--bs],xs[bs]=null,ju=xs[--bs],xs[bs]=null}var Xa=null,Va=null,wr=!1,il=null;function B5(t,e){var n=ws(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function _D(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xa=t,Va=yf(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xa=t,Va=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=wd!==null?{id:ju,overflow:$u}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ws(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xa=t,Va=null,!0):!1;default:return!1}}function yP(t){return(t.mode&1)!==0&&(t.flags&128)===0}function _P(t){if(wr){var e=Va;if(e){var n=e;if(!_D(t,e)){if(yP(t))throw Error(dt(418));e=yf(n.nextSibling);var r=Xa;e&&_D(t,e)?B5(r,n):(t.flags=t.flags&-4097|2,wr=!1,Xa=t)}}else{if(yP(t))throw Error(dt(418));t.flags=t.flags&-4097|2,wr=!1,Xa=t}}}function xD(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xa=t}function u1(t){if(t!==Xa)return!1;if(!wr)return xD(t),wr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pP(t.type,t.memoizedProps)),e&&(e=Va)){if(yP(t))throw z5(),Error(dt(418));for(;e;)B5(t,e),e=yf(e.nextSibling)}if(xD(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(dt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Va=yf(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Va=null}}else Va=Xa?yf(t.stateNode.nextSibling):null;return!0}function z5(){for(var t=Va;t;)t=yf(t.nextSibling)}function jm(){Va=Xa=null,wr=!1}function dR(t){il===null?il=[t]:il.push(t)}var _Z=fc.ReactCurrentBatchConfig;function Bv(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(dt(309));var r=n.stateNode}if(!r)throw Error(dt(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(dt(284));if(!n._owner)throw Error(dt(290,t))}return t}function c1(t,e){throw t=Object.prototype.toString.call(e),Error(dt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bD(t){var e=t._init;return e(t._payload)}function j5(t){function e(_,S){if(t){var w=_.deletions;w===null?(_.deletions=[S],_.flags|=16):w.push(S)}}function n(_,S){if(!t)return null;for(;S!==null;)e(_,S),S=S.sibling;return null}function r(_,S){for(_=new Map;S!==null;)S.key!==null?_.set(S.key,S):_.set(S.index,S),S=S.sibling;return _}function i(_,S){return _=Sf(_,S),_.index=0,_.sibling=null,_}function o(_,S,w){return _.index=w,t?(w=_.alternate,w!==null?(w=w.index,w<S?(_.flags|=2,S):w):(_.flags|=2,S)):(_.flags|=1048576,S)}function a(_){return t&&_.alternate===null&&(_.flags|=2),_}function s(_,S,w,E){return S===null||S.tag!==6?(S=fT(w,_.mode,E),S.return=_,S):(S=i(S,w),S.return=_,S)}function l(_,S,w,E){var T=w.type;return T===om?c(_,S,w.props.children,E,w.key):S!==null&&(S.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===nf&&bD(T)===S.type)?(E=i(S,w.props),E.ref=Bv(_,S,w),E.return=_,E):(E=Fb(w.type,w.key,w.props,null,_.mode,E),E.ref=Bv(_,S,w),E.return=_,E)}function u(_,S,w,E){return S===null||S.tag!==4||S.stateNode.containerInfo!==w.containerInfo||S.stateNode.implementation!==w.implementation?(S=hT(w,_.mode,E),S.return=_,S):(S=i(S,w.children||[]),S.return=_,S)}function c(_,S,w,E,T){return S===null||S.tag!==7?(S=dd(w,_.mode,E,T),S.return=_,S):(S=i(S,w),S.return=_,S)}function f(_,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return S=fT(""+S,_.mode,w),S.return=_,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Qx:return w=Fb(S.type,S.key,S.props,null,_.mode,w),w.ref=Bv(_,null,S),w.return=_,w;case im:return S=hT(S,_.mode,w),S.return=_,S;case nf:var E=S._init;return f(_,E(S._payload),w)}if(gy(S)||Dv(S))return S=dd(S,_.mode,w,null),S.return=_,S;c1(_,S)}return null}function h(_,S,w,E){var T=S!==null?S.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return T!==null?null:s(_,S,""+w,E);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Qx:return w.key===T?l(_,S,w,E):null;case im:return w.key===T?u(_,S,w,E):null;case nf:return T=w._init,h(_,S,T(w._payload),E)}if(gy(w)||Dv(w))return T!==null?null:c(_,S,w,E,null);c1(_,w)}return null}function g(_,S,w,E,T){if(typeof E=="string"&&E!==""||typeof E=="number")return _=_.get(w)||null,s(S,_,""+E,T);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Qx:return _=_.get(E.key===null?w:E.key)||null,l(S,_,E,T);case im:return _=_.get(E.key===null?w:E.key)||null,u(S,_,E,T);case nf:var P=E._init;return g(_,S,w,P(E._payload),T)}if(gy(E)||Dv(E))return _=_.get(w)||null,c(S,_,E,T,null);c1(S,E)}return null}function v(_,S,w,E){for(var T=null,P=null,I=S,O=S=0,C=null;I!==null&&O<w.length;O++){I.index>O?(C=I,I=null):C=I.sibling;var L=h(_,I,w[O],E);if(L===null){I===null&&(I=C);break}t&&I&&L.alternate===null&&e(_,I),S=o(L,S,O),P===null?T=L:P.sibling=L,P=L,I=C}if(O===w.length)return n(_,I),wr&&Gh(_,O),T;if(I===null){for(;O<w.length;O++)I=f(_,w[O],E),I!==null&&(S=o(I,S,O),P===null?T=I:P.sibling=I,P=I);return wr&&Gh(_,O),T}for(I=r(_,I);O<w.length;O++)C=g(I,_,O,w[O],E),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?O:C.key),S=o(C,S,O),P===null?T=C:P.sibling=C,P=C);return t&&I.forEach(function(N){return e(_,N)}),wr&&Gh(_,O),T}function b(_,S,w,E){var T=Dv(w);if(typeof T!="function")throw Error(dt(150));if(w=T.call(w),w==null)throw Error(dt(151));for(var P=T=null,I=S,O=S=0,C=null,L=w.next();I!==null&&!L.done;O++,L=w.next()){I.index>O?(C=I,I=null):C=I.sibling;var N=h(_,I,L.value,E);if(N===null){I===null&&(I=C);break}t&&I&&N.alternate===null&&e(_,I),S=o(N,S,O),P===null?T=N:P.sibling=N,P=N,I=C}if(L.done)return n(_,I),wr&&Gh(_,O),T;if(I===null){for(;!L.done;O++,L=w.next())L=f(_,L.value,E),L!==null&&(S=o(L,S,O),P===null?T=L:P.sibling=L,P=L);return wr&&Gh(_,O),T}for(I=r(_,I);!L.done;O++,L=w.next())L=g(I,_,O,L.value,E),L!==null&&(t&&L.alternate!==null&&I.delete(L.key===null?O:L.key),S=o(L,S,O),P===null?T=L:P.sibling=L,P=L);return t&&I.forEach(function(U){return e(_,U)}),wr&&Gh(_,O),T}function x(_,S,w,E){if(typeof w=="object"&&w!==null&&w.type===om&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Qx:e:{for(var T=w.key,P=S;P!==null;){if(P.key===T){if(T=w.type,T===om){if(P.tag===7){n(_,P.sibling),S=i(P,w.props.children),S.return=_,_=S;break e}}else if(P.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===nf&&bD(T)===P.type){n(_,P.sibling),S=i(P,w.props),S.ref=Bv(_,P,w),S.return=_,_=S;break e}n(_,P);break}else e(_,P);P=P.sibling}w.type===om?(S=dd(w.props.children,_.mode,E,w.key),S.return=_,_=S):(E=Fb(w.type,w.key,w.props,null,_.mode,E),E.ref=Bv(_,S,w),E.return=_,_=E)}return a(_);case im:e:{for(P=w.key;S!==null;){if(S.key===P)if(S.tag===4&&S.stateNode.containerInfo===w.containerInfo&&S.stateNode.implementation===w.implementation){n(_,S.sibling),S=i(S,w.children||[]),S.return=_,_=S;break e}else{n(_,S);break}else e(_,S);S=S.sibling}S=hT(w,_.mode,E),S.return=_,_=S}return a(_);case nf:return P=w._init,x(_,S,P(w._payload),E)}if(gy(w))return v(_,S,w,E);if(Dv(w))return b(_,S,w,E);c1(_,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,S!==null&&S.tag===6?(n(_,S.sibling),S=i(S,w),S.return=_,_=S):(n(_,S),S=fT(w,_.mode,E),S.return=_,_=S),a(_)):n(_,S)}return x}var $m=j5(!0),$5=j5(!1),iS=If(null),oS=null,dm=null,pR=null;function mR(){pR=dm=oS=null}function gR(t){var e=iS.current;_r(iS),t._currentValue=e}function xP(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Rm(t,e){oS=t,pR=dm=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pa=!0),t.firstContext=null)}function Ps(t){var e=t._currentValue;if(pR!==t)if(t={context:t,memoizedValue:e,next:null},dm===null){if(oS===null)throw Error(dt(308));dm=t,oS.dependencies={lanes:0,firstContext:t}}else dm=dm.next=t;return e}var nd=null;function vR(t){nd===null?nd=[t]:nd.push(t)}function H5(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,vR(e)):(n.next=i.next,i.next=n),e.interleaved=n,tc(t,r)}function tc(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var rf=!1;function yR(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G5(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _f(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Fn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,tc(t,n)}return i=r.interleaved,i===null?(e.next=e,vR(r)):(e.next=i.next,i.next=e),r.interleaved=e,tc(t,n)}function Ib(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rR(t,n)}}function SD(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function aS(t,e,n,r){var i=t.updateQueue;rf=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,g=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:g,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var v=t,b=s;switch(h=e,g=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(g,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,h=typeof v=="function"?v.call(g,f,h):v,h==null)break e;f=kr({},f,h);break e;case 2:rf=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else g={eventTime:g,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=g,l=f):c=c.next=g,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ed|=a,t.lanes=a,t.memoizedState=f}}function wD(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(dt(191,i));i.call(r)}}}var w_={},ql=If(w_),c0=If(w_),f0=If(w_);function rd(t){if(t===w_)throw Error(dt(174));return t}function _R(t,e){switch(cr(f0,e),cr(c0,t),cr(ql,w_),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:eP(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=eP(e,t)}_r(ql),cr(ql,e)}function Hm(){_r(ql),_r(c0),_r(f0)}function W5(t){rd(f0.current);var e=rd(ql.current),n=eP(e,t.type);e!==n&&(cr(c0,t),cr(ql,n))}function xR(t){c0.current===t&&(_r(ql),_r(c0))}var Ir=If(0);function sS(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var oT=[];function bR(){for(var t=0;t<oT.length;t++)oT[t]._workInProgressVersionPrimary=null;oT.length=0}var Lb=fc.ReactCurrentDispatcher,aT=fc.ReactCurrentBatchConfig,Md=0,Nr=null,bi=null,Gi=null,lS=!1,Py=!1,h0=0,xZ=0;function go(){throw Error(dt(321))}function SR(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hl(t[n],e[n]))return!1;return!0}function wR(t,e,n,r,i,o){if(Md=o,Nr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lb.current=t===null||t.memoizedState===null?MZ:EZ,t=n(r,i),Py){o=0;do{if(Py=!1,h0=0,25<=o)throw Error(dt(301));o+=1,Gi=bi=null,e.updateQueue=null,Lb.current=AZ,t=n(r,i)}while(Py)}if(Lb.current=uS,e=bi!==null&&bi.next!==null,Md=0,Gi=bi=Nr=null,lS=!1,e)throw Error(dt(300));return t}function MR(){var t=h0!==0;return h0=0,t}function jl(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gi===null?Nr.memoizedState=Gi=t:Gi=Gi.next=t,Gi}function Cs(){if(bi===null){var t=Nr.alternate;t=t!==null?t.memoizedState:null}else t=bi.next;var e=Gi===null?Nr.memoizedState:Gi.next;if(e!==null)Gi=e,bi=t;else{if(t===null)throw Error(dt(310));bi=t,t={memoizedState:bi.memoizedState,baseState:bi.baseState,baseQueue:bi.baseQueue,queue:bi.queue,next:null},Gi===null?Nr.memoizedState=Gi=t:Gi=Gi.next=t}return Gi}function d0(t,e){return typeof e=="function"?e(t):e}function sT(t){var e=Cs(),n=e.queue;if(n===null)throw Error(dt(311));n.lastRenderedReducer=t;var r=bi,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Md&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,Nr.lanes|=c,Ed|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,hl(r,e.memoizedState)||(pa=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Nr.lanes|=o,Ed|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function lT(t){var e=Cs(),n=e.queue;if(n===null)throw Error(dt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);hl(o,e.memoizedState)||(pa=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function V5(){}function X5(t,e){var n=Nr,r=Cs(),i=e(),o=!hl(r.memoizedState,i);if(o&&(r.memoizedState=i,pa=!0),r=r.queue,ER(K5.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Gi!==null&&Gi.memoizedState.tag&1){if(n.flags|=2048,p0(9,Y5.bind(null,n,r,i,e),void 0,null),Vi===null)throw Error(dt(349));Md&30||q5(n,e,i)}return i}function q5(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Nr.updateQueue,e===null?(e={lastEffect:null,stores:null},Nr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Y5(t,e,n,r){e.value=n,e.getSnapshot=r,Z5(e)&&J5(t)}function K5(t,e,n){return n(function(){Z5(e)&&J5(t)})}function Z5(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hl(t,n)}catch{return!0}}function J5(t){var e=tc(t,1);e!==null&&ul(e,t,1,-1)}function MD(t){var e=jl();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d0,lastRenderedState:t},e.queue=t,t=t.dispatch=wZ.bind(null,Nr,t),[e.memoizedState,t]}function p0(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Nr.updateQueue,e===null?(e={lastEffect:null,stores:null},Nr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Q5(){return Cs().memoizedState}function Db(t,e,n,r){var i=jl();Nr.flags|=t,i.memoizedState=p0(1|e,n,void 0,r===void 0?null:r)}function bM(t,e,n,r){var i=Cs();r=r===void 0?null:r;var o=void 0;if(bi!==null){var a=bi.memoizedState;if(o=a.destroy,r!==null&&SR(r,a.deps)){i.memoizedState=p0(e,n,o,r);return}}Nr.flags|=t,i.memoizedState=p0(1|e,n,o,r)}function ED(t,e){return Db(8390656,8,t,e)}function ER(t,e){return bM(2048,8,t,e)}function e6(t,e){return bM(4,2,t,e)}function t6(t,e){return bM(4,4,t,e)}function n6(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function r6(t,e,n){return n=n!=null?n.concat([t]):null,bM(4,4,n6.bind(null,e,t),n)}function AR(){}function i6(t,e){var n=Cs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&SR(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function o6(t,e){var n=Cs();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&SR(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function a6(t,e,n){return Md&21?(hl(n,e)||(n=f5(),Nr.lanes|=n,Ed|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pa=!0),t.memoizedState=n)}function bZ(t,e){var n=Yn;Yn=n!==0&&4>n?n:4,t(!0);var r=aT.transition;aT.transition={};try{t(!1),e()}finally{Yn=n,aT.transition=r}}function s6(){return Cs().memoizedState}function SZ(t,e,n){var r=bf(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},l6(t))u6(e,n);else if(n=H5(t,e,n,r),n!==null){var i=Yo();ul(n,t,r,i),c6(n,e,r)}}function wZ(t,e,n){var r=bf(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(l6(t))u6(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,hl(s,a)){var l=e.interleaved;l===null?(i.next=i,vR(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=H5(t,e,i,r),n!==null&&(i=Yo(),ul(n,t,r,i),c6(n,e,r))}}function l6(t){var e=t.alternate;return t===Nr||e!==null&&e===Nr}function u6(t,e){Py=lS=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function c6(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,rR(t,n)}}var uS={readContext:Ps,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},MZ={readContext:Ps,useCallback:function(t,e){return jl().memoizedState=[t,e===void 0?null:e],t},useContext:Ps,useEffect:ED,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Db(4194308,4,n6.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Db(4194308,4,t,e)},useInsertionEffect:function(t,e){return Db(4,2,t,e)},useMemo:function(t,e){var n=jl();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jl();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SZ.bind(null,Nr,t),[r.memoizedState,t]},useRef:function(t){var e=jl();return t={current:t},e.memoizedState=t},useState:MD,useDebugValue:AR,useDeferredValue:function(t){return jl().memoizedState=t},useTransition:function(){var t=MD(!1),e=t[0];return t=bZ.bind(null,t[1]),jl().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Nr,i=jl();if(wr){if(n===void 0)throw Error(dt(407));n=n()}else{if(n=e(),Vi===null)throw Error(dt(349));Md&30||q5(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,ED(K5.bind(null,r,o,t),[t]),r.flags|=2048,p0(9,Y5.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=jl(),e=Vi.identifierPrefix;if(wr){var n=$u,r=ju;n=(r&~(1<<32-ll(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=h0++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xZ++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},EZ={readContext:Ps,useCallback:i6,useContext:Ps,useEffect:ER,useImperativeHandle:r6,useInsertionEffect:e6,useLayoutEffect:t6,useMemo:o6,useReducer:sT,useRef:Q5,useState:function(){return sT(d0)},useDebugValue:AR,useDeferredValue:function(t){var e=Cs();return a6(e,bi.memoizedState,t)},useTransition:function(){var t=sT(d0)[0],e=Cs().memoizedState;return[t,e]},useMutableSource:V5,useSyncExternalStore:X5,useId:s6,unstable_isNewReconciler:!1},AZ={readContext:Ps,useCallback:i6,useContext:Ps,useEffect:ER,useImperativeHandle:r6,useInsertionEffect:e6,useLayoutEffect:t6,useMemo:o6,useReducer:lT,useRef:Q5,useState:function(){return lT(d0)},useDebugValue:AR,useDeferredValue:function(t){var e=Cs();return bi===null?e.memoizedState=t:a6(e,bi.memoizedState,t)},useTransition:function(){var t=lT(d0)[0],e=Cs().memoizedState;return[t,e]},useMutableSource:V5,useSyncExternalStore:X5,useId:s6,unstable_isNewReconciler:!1};function Qs(t,e){if(t&&t.defaultProps){e=kr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function bP(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:kr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var SM={isMounted:function(t){return(t=t._reactInternals)?Fd(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Yo(),i=bf(t),o=Xu(r,i);o.payload=e,n!=null&&(o.callback=n),e=_f(t,o,i),e!==null&&(ul(e,t,i,r),Ib(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Yo(),i=bf(t),o=Xu(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=_f(t,o,i),e!==null&&(ul(e,t,i,r),Ib(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Yo(),r=bf(t),i=Xu(n,r);i.tag=2,e!=null&&(i.callback=e),e=_f(t,i,r),e!==null&&(ul(e,t,r,n),Ib(e,t,r))}};function AD(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!a0(n,r)||!a0(i,o):!0}function f6(t,e,n){var r=!1,i=Tf,o=e.contextType;return typeof o=="object"&&o!==null?o=Ps(o):(i=ya(e)?Sd:Ao.current,r=e.contextTypes,o=(r=r!=null)?zm(t,i):Tf),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=SM,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function TD(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&SM.enqueueReplaceState(e,e.state,null)}function SP(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},yR(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Ps(o):(o=ya(e)?Sd:Ao.current,i.context=zm(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(bP(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&SM.enqueueReplaceState(i,i.state,null),aS(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Gm(t,e){try{var n="",r=e;do n+=eK(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function uT(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function wP(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TZ=typeof WeakMap=="function"?WeakMap:Map;function h6(t,e,n){n=Xu(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){fS||(fS=!0,LP=r),wP(t,e)},n}function d6(t,e,n){n=Xu(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){wP(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){wP(t,e),typeof r!="function"&&(xf===null?xf=new Set([this]):xf.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function PD(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TZ;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jZ.bind(null,t,e,n),e.then(t,t))}function CD(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function OD(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Xu(-1,1),e.tag=2,_f(n,e,1))),n.lanes|=1),t)}var PZ=fc.ReactCurrentOwner,pa=!1;function Go(t,e,n,r){e.child=t===null?$5(e,null,n,r):$m(e,t.child,n,r)}function RD(t,e,n,r,i){n=n.render;var o=e.ref;return Rm(e,i),r=wR(t,e,n,r,o,i),n=MR(),t!==null&&!pa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nc(t,e,i)):(wr&&n&&fR(e),e.flags|=1,Go(t,e,r,i),e.child)}function ID(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!DR(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,p6(t,e,o,r,i)):(t=Fb(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:a0,n(a,r)&&t.ref===e.ref)return nc(t,e,i)}return e.flags|=1,t=Sf(o,r),t.ref=e.ref,t.return=e,e.child=t}function p6(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(a0(o,r)&&t.ref===e.ref)if(pa=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(pa=!0);else return e.lanes=t.lanes,nc(t,e,i)}return MP(t,e,n,r,i)}function m6(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},cr(mm,Ha),Ha|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,cr(mm,Ha),Ha|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,cr(mm,Ha),Ha|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,cr(mm,Ha),Ha|=r;return Go(t,e,i,n),e.child}function g6(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function MP(t,e,n,r,i){var o=ya(n)?Sd:Ao.current;return o=zm(e,o),Rm(e,i),n=wR(t,e,n,r,o,i),r=MR(),t!==null&&!pa?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,nc(t,e,i)):(wr&&r&&fR(e),e.flags|=1,Go(t,e,n,i),e.child)}function LD(t,e,n,r,i){if(ya(n)){var o=!0;tS(e)}else o=!1;if(Rm(e,i),e.stateNode===null)Nb(t,e),f6(e,n,r),SP(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ps(u):(u=ya(n)?Sd:Ao.current,u=zm(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&TD(e,a,r,u),rf=!1;var h=e.memoizedState;a.state=h,aS(e,r,a,i),l=e.memoizedState,s!==r||h!==l||va.current||rf?(typeof c=="function"&&(bP(e,n,c,r),l=e.memoizedState),(s=rf||AD(e,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,G5(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Qs(e.type,s),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ps(l):(l=ya(n)?Sd:Ao.current,l=zm(e,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&TD(e,a,r,l),rf=!1,h=e.memoizedState,a.state=h,aS(e,r,a,i);var v=e.memoizedState;s!==f||h!==v||va.current||rf?(typeof g=="function"&&(bP(e,n,g,r),v=e.memoizedState),(u=rf||AD(e,n,u,r,h,v,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return EP(t,e,n,r,o,i)}function EP(t,e,n,r,i,o){g6(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&yD(e,n,!1),nc(t,e,o);r=e.stateNode,PZ.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=$m(e,t.child,null,o),e.child=$m(e,null,s,o)):Go(t,e,s,o),e.memoizedState=r.state,i&&yD(e,n,!0),e.child}function v6(t){var e=t.stateNode;e.pendingContext?vD(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vD(t,e.context,!1),_R(t,e.containerInfo)}function DD(t,e,n,r,i){return jm(),dR(i),e.flags|=256,Go(t,e,n,r),e.child}var AP={dehydrated:null,treeContext:null,retryLane:0};function TP(t){return{baseLanes:t,cachePool:null,transitions:null}}function y6(t,e,n){var r=e.pendingProps,i=Ir.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),cr(Ir,i&1),t===null)return _P(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=EM(a,r,0,null),t=dd(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=TP(n),e.memoizedState=AP,t):TR(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return CZ(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Sf(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=Sf(s,o):(o=dd(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?TP(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=AP,r}return o=t.child,t=o.sibling,r=Sf(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function TR(t,e){return e=EM({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function f1(t,e,n,r){return r!==null&&dR(r),$m(e,t.child,null,n),t=TR(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CZ(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=uT(Error(dt(422))),f1(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=EM({mode:"visible",children:r.children},i,0,null),o=dd(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&$m(e,t.child,null,a),e.child.memoizedState=TP(a),e.memoizedState=AP,o);if(!(e.mode&1))return f1(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(dt(419)),r=uT(o,r,void 0),f1(t,e,a,r)}if(s=(a&t.childLanes)!==0,pa||s){if(r=Vi,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,tc(t,i),ul(r,t,i,-1))}return LR(),r=uT(Error(dt(421))),f1(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$Z.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Va=yf(i.nextSibling),Xa=e,wr=!0,il=null,t!==null&&(xs[bs++]=ju,xs[bs++]=$u,xs[bs++]=wd,ju=t.id,$u=t.overflow,wd=e),e=TR(e,r.children),e.flags|=4096,e)}function ND(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xP(t.return,e,n)}function cT(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function _6(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Go(t,e,r.children,n),r=Ir.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ND(t,n,e);else if(t.tag===19)ND(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(cr(Ir,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sS(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),cT(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sS(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}cT(e,!0,n,null,o);break;case"together":cT(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nb(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function nc(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ed|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(dt(153));if(e.child!==null){for(t=e.child,n=Sf(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Sf(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function OZ(t,e,n){switch(e.tag){case 3:v6(e),jm();break;case 5:W5(e);break;case 1:ya(e.type)&&tS(e);break;case 4:_R(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;cr(iS,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(cr(Ir,Ir.current&1),e.flags|=128,null):n&e.child.childLanes?y6(t,e,n):(cr(Ir,Ir.current&1),t=nc(t,e,n),t!==null?t.sibling:null);cr(Ir,Ir.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _6(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),cr(Ir,Ir.current),r)break;return null;case 22:case 23:return e.lanes=0,m6(t,e,n)}return nc(t,e,n)}var x6,PP,b6,S6;x6=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};PP=function(){};b6=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,rd(ql.current);var o=null;switch(n){case"input":i=K2(t,i),r=K2(t,r),o=[];break;case"select":i=kr({},i,{value:void 0}),r=kr({},r,{value:void 0}),o=[];break;case"textarea":i=Q2(t,i),r=Q2(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qb)}tP(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Qy.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Qy.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&pr("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};S6=function(t,e,n,r){n!==r&&(e.flags|=4)};function zv(t,e){if(!wr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function vo(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function RZ(t,e,n){var r=e.pendingProps;switch(hR(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vo(e),null;case 1:return ya(e.type)&&eS(),vo(e),null;case 3:return r=e.stateNode,Hm(),_r(va),_r(Ao),bR(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(u1(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,il!==null&&(kP(il),il=null))),PP(t,e),vo(e),null;case 5:xR(e);var i=rd(f0.current);if(n=e.type,t!==null&&e.stateNode!=null)b6(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(dt(166));return vo(e),null}if(t=rd(ql.current),u1(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Hl]=e,r[u0]=o,t=(e.mode&1)!==0,n){case"dialog":pr("cancel",r),pr("close",r);break;case"iframe":case"object":case"embed":pr("load",r);break;case"video":case"audio":for(i=0;i<yy.length;i++)pr(yy[i],r);break;case"source":pr("error",r);break;case"img":case"image":case"link":pr("error",r),pr("load",r);break;case"details":pr("toggle",r);break;case"input":GL(r,o),pr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},pr("invalid",r);break;case"textarea":VL(r,o),pr("invalid",r)}tP(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&l1(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&l1(r.textContent,s,t),i=["children",""+s]):Qy.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&pr("scroll",r)}switch(n){case"input":e1(r),WL(r,o,!0);break;case"textarea":e1(r),XL(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Qb)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kz(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Hl]=e,t[u0]=r,x6(t,e,!1,!1),e.stateNode=t;e:{switch(a=nP(n,r),n){case"dialog":pr("cancel",t),pr("close",t),i=r;break;case"iframe":case"object":case"embed":pr("load",t),i=r;break;case"video":case"audio":for(i=0;i<yy.length;i++)pr(yy[i],t);i=r;break;case"source":pr("error",t),i=r;break;case"img":case"image":case"link":pr("error",t),pr("load",t),i=r;break;case"details":pr("toggle",t),i=r;break;case"input":GL(t,r),i=K2(t,r),pr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=kr({},r,{value:void 0}),pr("invalid",t);break;case"textarea":VL(t,r),i=Q2(t,r),pr("invalid",t);break;default:i=r}tP(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?Qz(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Zz(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&e0(t,l):typeof l=="number"&&e0(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Qy.hasOwnProperty(o)?l!=null&&o==="onScroll"&&pr("scroll",t):l!=null&&ZO(t,o,l,a))}switch(n){case"input":e1(t),WL(t,r,!1);break;case"textarea":e1(t),XL(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Af(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Tm(t,!!r.multiple,o,!1):r.defaultValue!=null&&Tm(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qb)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vo(e),null;case 6:if(t&&e.stateNode!=null)S6(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(dt(166));if(n=rd(f0.current),rd(ql.current),u1(e)){if(r=e.stateNode,n=e.memoizedProps,r[Hl]=e,(o=r.nodeValue!==n)&&(t=Xa,t!==null))switch(t.tag){case 3:l1(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&l1(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Hl]=e,e.stateNode=r}return vo(e),null;case 13:if(_r(Ir),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wr&&Va!==null&&e.mode&1&&!(e.flags&128))z5(),jm(),e.flags|=98560,o=!1;else if(o=u1(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(dt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(dt(317));o[Hl]=e}else jm(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vo(e),o=!1}else il!==null&&(kP(il),il=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ir.current&1?Si===0&&(Si=3):LR())),e.updateQueue!==null&&(e.flags|=4),vo(e),null);case 4:return Hm(),PP(t,e),t===null&&s0(e.stateNode.containerInfo),vo(e),null;case 10:return gR(e.type._context),vo(e),null;case 17:return ya(e.type)&&eS(),vo(e),null;case 19:if(_r(Ir),o=e.memoizedState,o===null)return vo(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)zv(o,!1);else{if(Si!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=sS(t),a!==null){for(e.flags|=128,zv(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return cr(Ir,Ir.current&1|2),e.child}t=t.sibling}o.tail!==null&&ri()>Wm&&(e.flags|=128,r=!0,zv(o,!1),e.lanes=4194304)}else{if(!r)if(t=sS(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),zv(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!wr)return vo(e),null}else 2*ri()-o.renderingStartTime>Wm&&n!==1073741824&&(e.flags|=128,r=!0,zv(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ri(),e.sibling=null,n=Ir.current,cr(Ir,r?n&1|2:n&1),e):(vo(e),null);case 22:case 23:return IR(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ha&1073741824&&(vo(e),e.subtreeFlags&6&&(e.flags|=8192)):vo(e),null;case 24:return null;case 25:return null}throw Error(dt(156,e.tag))}function IZ(t,e){switch(hR(e),e.tag){case 1:return ya(e.type)&&eS(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Hm(),_r(va),_r(Ao),bR(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xR(e),null;case 13:if(_r(Ir),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(dt(340));jm()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return _r(Ir),null;case 4:return Hm(),null;case 10:return gR(e.type._context),null;case 22:case 23:return IR(),null;case 24:return null;default:return null}}var h1=!1,So=!1,LZ=typeof WeakSet=="function"?WeakSet:Set,Ct=null;function pm(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Gr(t,e,r)}else n.current=null}function CP(t,e,n){try{n()}catch(r){Gr(t,e,r)}}var kD=!1;function DZ(t,e){if(hP=Kb,t=T5(),cR(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(dP={focusedElem:t,selectionRange:n},Kb=!1,Ct=e;Ct!==null;)if(e=Ct,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ct=t;else for(;Ct!==null;){e=Ct;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,x=v.memoizedState,_=e.stateNode,S=_.getSnapshotBeforeUpdate(e.elementType===e.type?b:Qs(e.type,b),x);_.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(dt(163))}}catch(E){Gr(e,e.return,E)}if(t=e.sibling,t!==null){t.return=e.return,Ct=t;break}Ct=e.return}return v=kD,kD=!1,v}function Cy(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&CP(e,n,o)}i=i.next}while(i!==r)}}function wM(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function OP(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function w6(t){var e=t.alternate;e!==null&&(t.alternate=null,w6(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Hl],delete e[u0],delete e[gP],delete e[gZ],delete e[vZ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function M6(t){return t.tag===5||t.tag===3||t.tag===4}function UD(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||M6(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function RP(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qb));else if(r!==4&&(t=t.child,t!==null))for(RP(t,e,n),t=t.sibling;t!==null;)RP(t,e,n),t=t.sibling}function IP(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(IP(t,e,n),t=t.sibling;t!==null;)IP(t,e,n),t=t.sibling}var ro=null,tl=!1;function Vc(t,e,n){for(n=n.child;n!==null;)E6(t,e,n),n=n.sibling}function E6(t,e,n){if(Xl&&typeof Xl.onCommitFiberUnmount=="function")try{Xl.onCommitFiberUnmount(mM,n)}catch{}switch(n.tag){case 5:So||pm(n,e);case 6:var r=ro,i=tl;ro=null,Vc(t,e,n),ro=r,tl=i,ro!==null&&(tl?(t=ro,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ro.removeChild(n.stateNode));break;case 18:ro!==null&&(tl?(t=ro,n=n.stateNode,t.nodeType===8?rT(t.parentNode,n):t.nodeType===1&&rT(t,n),i0(t)):rT(ro,n.stateNode));break;case 4:r=ro,i=tl,ro=n.stateNode.containerInfo,tl=!0,Vc(t,e,n),ro=r,tl=i;break;case 0:case 11:case 14:case 15:if(!So&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&CP(n,e,a),i=i.next}while(i!==r)}Vc(t,e,n);break;case 1:if(!So&&(pm(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Gr(n,e,s)}Vc(t,e,n);break;case 21:Vc(t,e,n);break;case 22:n.mode&1?(So=(r=So)||n.memoizedState!==null,Vc(t,e,n),So=r):Vc(t,e,n);break;default:Vc(t,e,n)}}function FD(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LZ),e.forEach(function(r){var i=HZ.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qs(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:ro=s.stateNode,tl=!1;break e;case 3:ro=s.stateNode.containerInfo,tl=!0;break e;case 4:ro=s.stateNode.containerInfo,tl=!0;break e}s=s.return}if(ro===null)throw Error(dt(160));E6(o,a,i),ro=null,tl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Gr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)A6(e,t),e=e.sibling}function A6(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qs(e,t),zl(t),r&4){try{Cy(3,t,t.return),wM(3,t)}catch(b){Gr(t,t.return,b)}try{Cy(5,t,t.return)}catch(b){Gr(t,t.return,b)}}break;case 1:qs(e,t),zl(t),r&512&&n!==null&&pm(n,n.return);break;case 5:if(qs(e,t),zl(t),r&512&&n!==null&&pm(n,n.return),t.flags&32){var i=t.stateNode;try{e0(i,"")}catch(b){Gr(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&qz(i,o),nP(s,a);var u=nP(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?Qz(i,f):c==="dangerouslySetInnerHTML"?Zz(i,f):c==="children"?e0(i,f):ZO(i,c,f,u)}switch(s){case"input":Z2(i,o);break;case"textarea":Yz(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Tm(i,!!o.multiple,g,!1):h!==!!o.multiple&&(o.defaultValue!=null?Tm(i,!!o.multiple,o.defaultValue,!0):Tm(i,!!o.multiple,o.multiple?[]:"",!1))}i[u0]=o}catch(b){Gr(t,t.return,b)}}break;case 6:if(qs(e,t),zl(t),r&4){if(t.stateNode===null)throw Error(dt(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(b){Gr(t,t.return,b)}}break;case 3:if(qs(e,t),zl(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{i0(e.containerInfo)}catch(b){Gr(t,t.return,b)}break;case 4:qs(e,t),zl(t);break;case 13:qs(e,t),zl(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(OR=ri())),r&4&&FD(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(So=(u=So)||c,qs(e,t),So=u):qs(e,t),zl(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(Ct=t,c=t.child;c!==null;){for(f=Ct=c;Ct!==null;){switch(h=Ct,g=h.child,h.tag){case 0:case 11:case 14:case 15:Cy(4,h,h.return);break;case 1:pm(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){Gr(r,n,b)}}break;case 5:pm(h,h.return);break;case 22:if(h.memoizedState!==null){zD(f);continue}}g!==null?(g.return=h,Ct=g):zD(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=Jz("display",a))}catch(b){Gr(t,t.return,b)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(b){Gr(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qs(e,t),zl(t),r&4&&FD(t);break;case 21:break;default:qs(e,t),zl(t)}}function zl(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(M6(n)){var r=n;break e}n=n.return}throw Error(dt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(e0(i,""),r.flags&=-33);var o=UD(t);IP(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=UD(t);RP(t,s,a);break;default:throw Error(dt(161))}}catch(l){Gr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NZ(t,e,n){Ct=t,T6(t)}function T6(t,e,n){for(var r=(t.mode&1)!==0;Ct!==null;){var i=Ct,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||h1;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||So;s=h1;var u=So;if(h1=a,(So=l)&&!u)for(Ct=i;Ct!==null;)a=Ct,l=a.child,a.tag===22&&a.memoizedState!==null?jD(i):l!==null?(l.return=a,Ct=l):jD(i);for(;o!==null;)Ct=o,T6(o),o=o.sibling;Ct=i,h1=s,So=u}BD(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ct=o):BD(t)}}function BD(t){for(;Ct!==null;){var e=Ct;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:So||wM(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!So)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Qs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&wD(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wD(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&i0(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(dt(163))}So||e.flags&512&&OP(e)}catch(h){Gr(e,e.return,h)}}if(e===t){Ct=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ct=n;break}Ct=e.return}}function zD(t){for(;Ct!==null;){var e=Ct;if(e===t){Ct=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ct=n;break}Ct=e.return}}function jD(t){for(;Ct!==null;){var e=Ct;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{wM(4,e)}catch(l){Gr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Gr(e,i,l)}}var o=e.return;try{OP(e)}catch(l){Gr(e,o,l)}break;case 5:var a=e.return;try{OP(e)}catch(l){Gr(e,a,l)}}}catch(l){Gr(e,e.return,l)}if(e===t){Ct=null;break}var s=e.sibling;if(s!==null){s.return=e.return,Ct=s;break}Ct=e.return}}var kZ=Math.ceil,cS=fc.ReactCurrentDispatcher,PR=fc.ReactCurrentOwner,As=fc.ReactCurrentBatchConfig,Fn=0,Vi=null,di=null,io=0,Ha=0,mm=If(0),Si=0,m0=null,Ed=0,MM=0,CR=0,Oy=null,ha=null,OR=0,Wm=1/0,Lu=null,fS=!1,LP=null,xf=null,d1=!1,ff=null,hS=0,Ry=0,DP=null,kb=-1,Ub=0;function Yo(){return Fn&6?ri():kb!==-1?kb:kb=ri()}function bf(t){return t.mode&1?Fn&2&&io!==0?io&-io:_Z.transition!==null?(Ub===0&&(Ub=f5()),Ub):(t=Yn,t!==0||(t=window.event,t=t===void 0?16:y5(t.type)),t):1}function ul(t,e,n,r){if(50<Ry)throw Ry=0,DP=null,Error(dt(185));x_(t,n,r),(!(Fn&2)||t!==Vi)&&(t===Vi&&(!(Fn&2)&&(MM|=n),Si===4&&sf(t,io)),_a(t,r),n===1&&Fn===0&&!(e.mode&1)&&(Wm=ri()+500,xM&&Lf()))}function _a(t,e){var n=t.callbackNode;_K(t,e);var r=Yb(t,t===Vi?io:0);if(r===0)n!==null&&KL(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&KL(n),e===1)t.tag===0?yZ($D.bind(null,t)):U5($D.bind(null,t)),pZ(function(){!(Fn&6)&&Lf()}),n=null;else{switch(h5(r)){case 1:n=nR;break;case 4:n=u5;break;case 16:n=qb;break;case 536870912:n=c5;break;default:n=qb}n=N6(n,P6.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function P6(t,e){if(kb=-1,Ub=0,Fn&6)throw Error(dt(327));var n=t.callbackNode;if(Im()&&t.callbackNode!==n)return null;var r=Yb(t,t===Vi?io:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dS(t,r);else{e=r;var i=Fn;Fn|=2;var o=O6();(Vi!==t||io!==e)&&(Lu=null,Wm=ri()+500,hd(t,e));do try{BZ();break}catch(s){C6(t,s)}while(!0);mR(),cS.current=o,Fn=i,di!==null?e=0:(Vi=null,io=0,e=Si)}if(e!==0){if(e===2&&(i=sP(t),i!==0&&(r=i,e=NP(t,i))),e===1)throw n=m0,hd(t,0),sf(t,r),_a(t,ri()),n;if(e===6)sf(t,r);else{if(i=t.current.alternate,!(r&30)&&!UZ(i)&&(e=dS(t,r),e===2&&(o=sP(t),o!==0&&(r=o,e=NP(t,o))),e===1))throw n=m0,hd(t,0),sf(t,r),_a(t,ri()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(dt(345));case 2:Wh(t,ha,Lu);break;case 3:if(sf(t,r),(r&130023424)===r&&(e=OR+500-ri(),10<e)){if(Yb(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Yo(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=mP(Wh.bind(null,t,ha,Lu),e);break}Wh(t,ha,Lu);break;case 4:if(sf(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-ll(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=ri()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kZ(r/1960))-r,10<r){t.timeoutHandle=mP(Wh.bind(null,t,ha,Lu),r);break}Wh(t,ha,Lu);break;case 5:Wh(t,ha,Lu);break;default:throw Error(dt(329))}}}return _a(t,ri()),t.callbackNode===n?P6.bind(null,t):null}function NP(t,e){var n=Oy;return t.current.memoizedState.isDehydrated&&(hd(t,e).flags|=256),t=dS(t,e),t!==2&&(e=ha,ha=n,e!==null&&kP(e)),t}function kP(t){ha===null?ha=t:ha.push.apply(ha,t)}function UZ(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!hl(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function sf(t,e){for(e&=~CR,e&=~MM,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ll(e),r=1<<n;t[n]=-1,e&=~r}}function $D(t){if(Fn&6)throw Error(dt(327));Im();var e=Yb(t,0);if(!(e&1))return _a(t,ri()),null;var n=dS(t,e);if(t.tag!==0&&n===2){var r=sP(t);r!==0&&(e=r,n=NP(t,r))}if(n===1)throw n=m0,hd(t,0),sf(t,e),_a(t,ri()),n;if(n===6)throw Error(dt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Wh(t,ha,Lu),_a(t,ri()),null}function RR(t,e){var n=Fn;Fn|=1;try{return t(e)}finally{Fn=n,Fn===0&&(Wm=ri()+500,xM&&Lf())}}function Ad(t){ff!==null&&ff.tag===0&&!(Fn&6)&&Im();var e=Fn;Fn|=1;var n=As.transition,r=Yn;try{if(As.transition=null,Yn=1,t)return t()}finally{Yn=r,As.transition=n,Fn=e,!(Fn&6)&&Lf()}}function IR(){Ha=mm.current,_r(mm)}function hd(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dZ(n)),di!==null)for(n=di.return;n!==null;){var r=n;switch(hR(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&eS();break;case 3:Hm(),_r(va),_r(Ao),bR();break;case 5:xR(r);break;case 4:Hm();break;case 13:_r(Ir);break;case 19:_r(Ir);break;case 10:gR(r.type._context);break;case 22:case 23:IR()}n=n.return}if(Vi=t,di=t=Sf(t.current,null),io=Ha=e,Si=0,m0=null,CR=MM=Ed=0,ha=Oy=null,nd!==null){for(e=0;e<nd.length;e++)if(n=nd[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}nd=null}return t}function C6(t,e){do{var n=di;try{if(mR(),Lb.current=uS,lS){for(var r=Nr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}lS=!1}if(Md=0,Gi=bi=Nr=null,Py=!1,h0=0,PR.current=null,n===null||n.return===null){Si=1,m0=e,di=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=io,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=CD(a);if(g!==null){g.flags&=-257,OD(g,a,s,o,e),g.mode&1&&PD(o,u,e),e=g,l=u;var v=e.updateQueue;if(v===null){var b=new Set;b.add(l),e.updateQueue=b}else v.add(l);break e}else{if(!(e&1)){PD(o,u,e),LR();break e}l=Error(dt(426))}}else if(wr&&s.mode&1){var x=CD(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),OD(x,a,s,o,e),dR(Gm(l,s));break e}}o=l=Gm(l,s),Si!==4&&(Si=2),Oy===null?Oy=[o]:Oy.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=h6(o,l,e);SD(o,_);break e;case 1:s=l;var S=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(xf===null||!xf.has(w)))){o.flags|=65536,e&=-e,o.lanes|=e;var E=d6(o,s,e);SD(o,E);break e}}o=o.return}while(o!==null)}I6(n)}catch(T){e=T,di===n&&n!==null&&(di=n=n.return);continue}break}while(!0)}function O6(){var t=cS.current;return cS.current=uS,t===null?uS:t}function LR(){(Si===0||Si===3||Si===2)&&(Si=4),Vi===null||!(Ed&268435455)&&!(MM&268435455)||sf(Vi,io)}function dS(t,e){var n=Fn;Fn|=2;var r=O6();(Vi!==t||io!==e)&&(Lu=null,hd(t,e));do try{FZ();break}catch(i){C6(t,i)}while(!0);if(mR(),Fn=n,cS.current=r,di!==null)throw Error(dt(261));return Vi=null,io=0,Si}function FZ(){for(;di!==null;)R6(di)}function BZ(){for(;di!==null&&!cK();)R6(di)}function R6(t){var e=D6(t.alternate,t,Ha);t.memoizedProps=t.pendingProps,e===null?I6(t):di=e,PR.current=null}function I6(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=IZ(n,e),n!==null){n.flags&=32767,di=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Si=6,di=null;return}}else if(n=RZ(n,e,Ha),n!==null){di=n;return}if(e=e.sibling,e!==null){di=e;return}di=e=t}while(e!==null);Si===0&&(Si=5)}function Wh(t,e,n){var r=Yn,i=As.transition;try{As.transition=null,Yn=1,zZ(t,e,n,r)}finally{As.transition=i,Yn=r}return null}function zZ(t,e,n,r){do Im();while(ff!==null);if(Fn&6)throw Error(dt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(dt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(xK(t,o),t===Vi&&(di=Vi=null,io=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||d1||(d1=!0,N6(qb,function(){return Im(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=As.transition,As.transition=null;var a=Yn;Yn=1;var s=Fn;Fn|=4,PR.current=null,DZ(t,n),A6(n,t),aZ(dP),Kb=!!hP,dP=hP=null,t.current=n,NZ(n),fK(),Fn=s,Yn=a,As.transition=o}else t.current=n;if(d1&&(d1=!1,ff=t,hS=i),o=t.pendingLanes,o===0&&(xf=null),pK(n.stateNode),_a(t,ri()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(fS)throw fS=!1,t=LP,LP=null,t;return hS&1&&t.tag!==0&&Im(),o=t.pendingLanes,o&1?t===DP?Ry++:(Ry=0,DP=t):Ry=0,Lf(),null}function Im(){if(ff!==null){var t=h5(hS),e=As.transition,n=Yn;try{if(As.transition=null,Yn=16>t?16:t,ff===null)var r=!1;else{if(t=ff,ff=null,hS=0,Fn&6)throw Error(dt(331));var i=Fn;for(Fn|=4,Ct=t.current;Ct!==null;){var o=Ct,a=o.child;if(Ct.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(Ct=u;Ct!==null;){var c=Ct;switch(c.tag){case 0:case 11:case 15:Cy(8,c,o)}var f=c.child;if(f!==null)f.return=c,Ct=f;else for(;Ct!==null;){c=Ct;var h=c.sibling,g=c.return;if(w6(c),c===u){Ct=null;break}if(h!==null){h.return=g,Ct=h;break}Ct=g}}}var v=o.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}Ct=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,Ct=a;else e:for(;Ct!==null;){if(o=Ct,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Cy(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,Ct=_;break e}Ct=o.return}}var S=t.current;for(Ct=S;Ct!==null;){a=Ct;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,Ct=w;else e:for(a=S;Ct!==null;){if(s=Ct,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:wM(9,s)}}catch(T){Gr(s,s.return,T)}if(s===a){Ct=null;break e}var E=s.sibling;if(E!==null){E.return=s.return,Ct=E;break e}Ct=s.return}}if(Fn=i,Lf(),Xl&&typeof Xl.onPostCommitFiberRoot=="function")try{Xl.onPostCommitFiberRoot(mM,t)}catch{}r=!0}return r}finally{Yn=n,As.transition=e}}return!1}function HD(t,e,n){e=Gm(n,e),e=h6(t,e,1),t=_f(t,e,1),e=Yo(),t!==null&&(x_(t,1,e),_a(t,e))}function Gr(t,e,n){if(t.tag===3)HD(t,t,n);else for(;e!==null;){if(e.tag===3){HD(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xf===null||!xf.has(r))){t=Gm(n,t),t=d6(e,t,1),e=_f(e,t,1),t=Yo(),e!==null&&(x_(e,1,t),_a(e,t));break}}e=e.return}}function jZ(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Yo(),t.pingedLanes|=t.suspendedLanes&n,Vi===t&&(io&n)===n&&(Si===4||Si===3&&(io&130023424)===io&&500>ri()-OR?hd(t,0):CR|=n),_a(t,e)}function L6(t,e){e===0&&(t.mode&1?(e=r1,r1<<=1,!(r1&130023424)&&(r1=4194304)):e=1);var n=Yo();t=tc(t,e),t!==null&&(x_(t,e,n),_a(t,n))}function $Z(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),L6(t,n)}function HZ(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(dt(314))}r!==null&&r.delete(e),L6(t,n)}var D6;D6=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||va.current)pa=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pa=!1,OZ(t,e,n);pa=!!(t.flags&131072)}else pa=!1,wr&&e.flags&1048576&&F5(e,rS,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nb(t,e),t=e.pendingProps;var i=zm(e,Ao.current);Rm(e,n),i=wR(null,e,r,t,i,n);var o=MR();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ya(r)?(o=!0,tS(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yR(e),i.updater=SM,e.stateNode=i,i._reactInternals=e,SP(e,r,t,n),e=EP(null,e,r,!0,o,n)):(e.tag=0,wr&&o&&fR(e),Go(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nb(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=WZ(r),t=Qs(r,t),i){case 0:e=MP(null,e,r,t,n);break e;case 1:e=LD(null,e,r,t,n);break e;case 11:e=RD(null,e,r,t,n);break e;case 14:e=ID(null,e,r,Qs(r.type,t),n);break e}throw Error(dt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qs(r,i),MP(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qs(r,i),LD(t,e,r,i,n);case 3:e:{if(v6(e),t===null)throw Error(dt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,G5(t,e),aS(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Gm(Error(dt(423)),e),e=DD(t,e,r,n,i);break e}else if(r!==i){i=Gm(Error(dt(424)),e),e=DD(t,e,r,n,i);break e}else for(Va=yf(e.stateNode.containerInfo.firstChild),Xa=e,wr=!0,il=null,n=$5(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jm(),r===i){e=nc(t,e,n);break e}Go(t,e,r,n)}e=e.child}return e;case 5:return W5(e),t===null&&_P(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,pP(r,i)?a=null:o!==null&&pP(r,o)&&(e.flags|=32),g6(t,e),Go(t,e,a,n),e.child;case 6:return t===null&&_P(e),null;case 13:return y6(t,e,n);case 4:return _R(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$m(e,null,r,n):Go(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qs(r,i),RD(t,e,r,i,n);case 7:return Go(t,e,e.pendingProps,n),e.child;case 8:return Go(t,e,e.pendingProps.children,n),e.child;case 12:return Go(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,cr(iS,r._currentValue),r._currentValue=a,o!==null)if(hl(o.value,a)){if(o.children===i.children&&!va.current){e=nc(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Xu(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),xP(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(dt(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),xP(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Go(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Rm(e,n),i=Ps(i),r=r(i),e.flags|=1,Go(t,e,r,n),e.child;case 14:return r=e.type,i=Qs(r,e.pendingProps),i=Qs(r.type,i),ID(t,e,r,i,n);case 15:return p6(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Qs(r,i),Nb(t,e),e.tag=1,ya(r)?(t=!0,tS(e)):t=!1,Rm(e,n),f6(e,r,i),SP(e,r,i,n),EP(null,e,r,!0,t,n);case 19:return _6(t,e,n);case 22:return m6(t,e,n)}throw Error(dt(156,e.tag))};function N6(t,e){return l5(t,e)}function GZ(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ws(t,e,n,r){return new GZ(t,e,n,r)}function DR(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WZ(t){if(typeof t=="function")return DR(t)?1:0;if(t!=null){if(t=t.$$typeof,t===QO)return 11;if(t===eR)return 14}return 2}function Sf(t,e){var n=t.alternate;return n===null?(n=ws(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Fb(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")DR(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case om:return dd(n.children,i,o,e);case JO:a=8,i|=8;break;case V2:return t=ws(12,n,e,i|2),t.elementType=V2,t.lanes=o,t;case X2:return t=ws(13,n,e,i),t.elementType=X2,t.lanes=o,t;case q2:return t=ws(19,n,e,i),t.elementType=q2,t.lanes=o,t;case Wz:return EM(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hz:a=10;break e;case Gz:a=9;break e;case QO:a=11;break e;case eR:a=14;break e;case nf:a=16,r=null;break e}throw Error(dt(130,t==null?t:typeof t,""))}return e=ws(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function dd(t,e,n,r){return t=ws(7,t,r,e),t.lanes=n,t}function EM(t,e,n,r){return t=ws(22,t,r,e),t.elementType=Wz,t.lanes=n,t.stateNode={isHidden:!1},t}function fT(t,e,n){return t=ws(6,t,null,e),t.lanes=n,t}function hT(t,e,n){return e=ws(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function VZ(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=VA(0),this.expirationTimes=VA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=VA(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function NR(t,e,n,r,i,o,a,s,l){return t=new VZ(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=ws(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yR(o),t}function XZ(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:im,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function k6(t){if(!t)return Tf;t=t._reactInternals;e:{if(Fd(t)!==t||t.tag!==1)throw Error(dt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ya(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(dt(171))}if(t.tag===1){var n=t.type;if(ya(n))return k5(t,n,e)}return e}function U6(t,e,n,r,i,o,a,s,l){return t=NR(n,r,!0,t,i,o,a,s,l),t.context=k6(null),n=t.current,r=Yo(),i=bf(n),o=Xu(r,i),o.callback=e??null,_f(n,o,i),t.current.lanes=i,x_(t,i,r),_a(t,r),t}function AM(t,e,n,r){var i=e.current,o=Yo(),a=bf(i);return n=k6(n),e.context===null?e.context=n:e.pendingContext=n,e=Xu(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_f(i,e,a),t!==null&&(ul(t,i,a,o),Ib(t,i,a)),a}function pS(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function GD(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kR(t,e){GD(t,e),(t=t.alternate)&&GD(t,e)}function qZ(){return null}var F6=typeof reportError=="function"?reportError:function(t){console.error(t)};function UR(t){this._internalRoot=t}TM.prototype.render=UR.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(dt(409));AM(t,e,null,null)};TM.prototype.unmount=UR.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ad(function(){AM(null,t,null,null)}),e[ec]=null}};function TM(t){this._internalRoot=t}TM.prototype.unstable_scheduleHydration=function(t){if(t){var e=m5();t={blockedOn:null,target:t,priority:e};for(var n=0;n<af.length&&e!==0&&e<af[n].priority;n++);af.splice(n,0,t),n===0&&v5(t)}};function FR(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function PM(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function WD(){}function YZ(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=pS(a);o.call(u)}}var a=U6(e,r,t,0,null,!1,!1,"",WD);return t._reactRootContainer=a,t[ec]=a.current,s0(t.nodeType===8?t.parentNode:t),Ad(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=pS(l);s.call(u)}}var l=NR(t,0,!1,null,null,!1,!1,"",WD);return t._reactRootContainer=l,t[ec]=l.current,s0(t.nodeType===8?t.parentNode:t),Ad(function(){AM(e,l,n,r)}),l}function CM(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=pS(a);s.call(l)}}AM(e,a,t,i)}else a=YZ(n,e,t,i,r);return pS(a)}d5=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=vy(e.pendingLanes);n!==0&&(rR(e,n|1),_a(e,ri()),!(Fn&6)&&(Wm=ri()+500,Lf()))}break;case 13:Ad(function(){var r=tc(t,1);if(r!==null){var i=Yo();ul(r,t,1,i)}}),kR(t,1)}};iR=function(t){if(t.tag===13){var e=tc(t,134217728);if(e!==null){var n=Yo();ul(e,t,134217728,n)}kR(t,134217728)}};p5=function(t){if(t.tag===13){var e=bf(t),n=tc(t,e);if(n!==null){var r=Yo();ul(n,t,e,r)}kR(t,e)}};m5=function(){return Yn};g5=function(t,e){var n=Yn;try{return Yn=t,e()}finally{Yn=n}};iP=function(t,e,n){switch(e){case"input":if(Z2(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=_M(r);if(!i)throw Error(dt(90));Xz(r),Z2(r,i)}}}break;case"textarea":Yz(t,n);break;case"select":e=n.value,e!=null&&Tm(t,!!n.multiple,e,!1)}};n5=RR;r5=Ad;var KZ={usingClientEntryPoint:!1,Events:[S_,um,_M,e5,t5,RR]},jv={findFiberByHostInstance:td,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZZ={bundleType:jv.bundleType,version:jv.version,rendererPackageName:jv.rendererPackageName,rendererConfig:jv.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fc.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=a5(t),t===null?null:t.stateNode},findFiberByHostInstance:jv.findFiberByHostInstance||qZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var p1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!p1.isDisabled&&p1.supportsFiber)try{mM=p1.inject(ZZ),Xl=p1}catch{}}Ja.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KZ;Ja.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!FR(e))throw Error(dt(200));return XZ(t,e,null,n)};Ja.createRoot=function(t,e){if(!FR(t))throw Error(dt(299));var n=!1,r="",i=F6;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=NR(t,1,!1,null,null,n,!1,r,i),t[ec]=e.current,s0(t.nodeType===8?t.parentNode:t),new UR(e)};Ja.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(dt(188)):(t=Object.keys(t).join(","),Error(dt(268,t)));return t=a5(e),t=t===null?null:t.stateNode,t};Ja.flushSync=function(t){return Ad(t)};Ja.hydrate=function(t,e,n){if(!PM(e))throw Error(dt(200));return CM(null,t,e,!0,n)};Ja.hydrateRoot=function(t,e,n){if(!FR(t))throw Error(dt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=F6;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=U6(e,null,t,1,n??null,i,!1,o,a),t[ec]=e.current,s0(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new TM(e)};Ja.render=function(t,e,n){if(!PM(e))throw Error(dt(200));return CM(null,t,e,!1,n)};Ja.unmountComponentAtNode=function(t){if(!PM(t))throw Error(dt(40));return t._reactRootContainer?(Ad(function(){CM(null,null,t,!1,function(){t._reactRootContainer=null,t[ec]=null})}),!0):!1};Ja.unstable_batchedUpdates=RR;Ja.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!PM(n))throw Error(dt(200));if(t==null||t._reactInternals===void 0)throw Error(dt(38));return CM(t,e,n,!1,r)};Ja.version="18.3.1-next-f1338f8080-20240426";function B6(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(B6)}catch(t){console.error(t)}}B6(),Bz.exports=Ja;var JZ=Bz.exports,VD=JZ;zL.createRoot=VD.createRoot,zL.hydrateRoot=VD.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function g0(){return g0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g0.apply(this,arguments)}var hf;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hf||(hf={}));const XD="popstate";function QZ(t){t===void 0&&(t={});function e(i,o){let{pathname:a="/",search:s="",hash:l=""}=Bd(i.location.hash.substr(1));return!a.startsWith("/")&&!a.startsWith(".")&&(a="/"+a),UP("",{pathname:a,search:s,hash:l},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){let a=i.document.querySelector("base"),s="";if(a&&a.getAttribute("href")){let l=i.location.href,u=l.indexOf("#");s=u===-1?l:l.slice(0,u)}return s+"#"+(typeof o=="string"?o:mS(o))}function r(i,o){BR(i.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return tJ(e,n,r,t)}function pi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function BR(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eJ(){return Math.random().toString(36).substr(2,8)}function qD(t,e){return{usr:t.state,key:t.key,idx:e}}function UP(t,e,n,r){return n===void 0&&(n=null),g0({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bd(e):e,{state:n,key:e&&e.key||r||eJ()})}function mS(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Bd(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function tJ(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=hf.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(g0({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=hf.Pop;let x=c(),_=x==null?null:x-u;u=x,l&&l({action:s,location:b.location,delta:_})}function h(x,_){s=hf.Push;let S=UP(b.location,x,_);n&&n(S,x),u=c()+1;let w=qD(S,u),E=b.createHref(S);try{a.pushState(w,"",E)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(E)}o&&l&&l({action:s,location:b.location,delta:1})}function g(x,_){s=hf.Replace;let S=UP(b.location,x,_);n&&n(S,x),u=c();let w=qD(S,u),E=b.createHref(S);a.replaceState(w,"",E),o&&l&&l({action:s,location:b.location,delta:0})}function v(x){let _=i.location.origin!=="null"?i.location.origin:i.location.href,S=typeof x=="string"?x:mS(x);return S=S.replace(/ $/,"%20"),pi(_,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,_)}let b={get action(){return s},get location(){return t(i,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(XD,f),l=x,()=>{i.removeEventListener(XD,f),l=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let _=v(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:h,replace:g,go(x){return a.go(x)}};return b}var YD;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(YD||(YD={}));function nJ(t,e,n){return n===void 0&&(n="/"),rJ(t,e,n,!1)}function rJ(t,e,n,r){let i=typeof e=="string"?Bd(e):e,o=zR(i.pathname||"/",n);if(o==null)return null;let a=z6(t);iJ(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=mJ(o);s=dJ(a[l],u,r)}return s}function z6(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(pi(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=wf([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(pi(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),z6(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:fJ(u,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of j6(o.path))i(o,a,l)}),e}function j6(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=j6(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function iJ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hJ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const oJ=/^:[\w-]+$/,aJ=3,sJ=2,lJ=1,uJ=10,cJ=-2,KD=t=>t==="*";function fJ(t,e){let n=t.split("/"),r=n.length;return n.some(KD)&&(r+=cJ),e&&(r+=sJ),n.filter(i=>!KD(i)).reduce((i,o)=>i+(oJ.test(o)?aJ:o===""?lJ:uJ),r)}function hJ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dJ(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=ZD({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=ZD({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:wf([o,f.pathname]),pathnameBase:_J(wf([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=wf([o,f.pathnameBase]))}return a}function ZD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pJ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:h,isOptional:g}=c;if(h==="*"){let b=s[f]||"";a=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const v=s[f];return g&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function pJ(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),BR(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function mJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return BR(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zR(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gJ(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Bd(t):t;return{pathname:n?n.startsWith("/")?n:vJ(n,e):e,search:xJ(r),hash:bJ(i)}}function vJ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function dT(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yJ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $6(t,e){let n=yJ(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function H6(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Bd(t):(i=g0({},t),pi(!i.pathname||!i.pathname.includes("?"),dT("?","pathname","search",i)),pi(!i.pathname||!i.pathname.includes("#"),dT("#","pathname","hash",i)),pi(!i.search||!i.search.includes("#"),dT("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=gJ(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const wf=t=>t.join("/").replace(/\/\/+/g,"/"),_J=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,bJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const G6=["post","put","patch","delete"];new Set(G6);const wJ=["get",...G6];new Set(wJ);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function v0(){return v0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v0.apply(this,arguments)}const jR=oe.createContext(null),MJ=oe.createContext(null),zd=oe.createContext(null),OM=oe.createContext(null),jd=oe.createContext({outlet:null,matches:[],isDataRoute:!1}),W6=oe.createContext(null);function EJ(t,e){let{relative:n}=e===void 0?{}:e;M_()||pi(!1);let{basename:r,navigator:i}=oe.useContext(zd),{hash:o,pathname:a,search:s}=X6(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:wf([r,a])),i.createHref({pathname:l,search:s,hash:o})}function M_(){return oe.useContext(OM)!=null}function RM(){return M_()||pi(!1),oe.useContext(OM).location}function V6(t){oe.useContext(zd).static||oe.useLayoutEffect(t)}function AJ(){let{isDataRoute:t}=oe.useContext(jd);return t?BJ():TJ()}function TJ(){M_()||pi(!1);let t=oe.useContext(jR),{basename:e,future:n,navigator:r}=oe.useContext(zd),{matches:i}=oe.useContext(jd),{pathname:o}=RM(),a=JSON.stringify($6(i,n.v7_relativeSplatPath)),s=oe.useRef(!1);return V6(()=>{s.current=!0}),oe.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=H6(u,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:wf([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,a,o,t])}function X6(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=oe.useContext(zd),{matches:i}=oe.useContext(jd),{pathname:o}=RM(),a=JSON.stringify($6(i,r.v7_relativeSplatPath));return oe.useMemo(()=>H6(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function PJ(t,e){return CJ(t,e)}function CJ(t,e,n,r){M_()||pi(!1);let{navigator:i}=oe.useContext(zd),{matches:o}=oe.useContext(jd),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=RM(),c;if(e){var f;let x=typeof e=="string"?Bd(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||pi(!1),c=x}else c=u;let h=c.pathname||"/",g=h;if(l!=="/"){let x=l.replace(/^\//,"").split("/");g="/"+h.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=nJ(t,{pathname:g}),b=DJ(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},s,x.params),pathname:wf([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:wf([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),o,n,r);return e&&b?oe.createElement(OM.Provider,{value:{location:v0({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:hf.Pop}},b):b}function OJ(){let t=FJ(),e=SJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),n?oe.createElement("pre",{style:i},n):null,null)}const RJ=oe.createElement(OJ,null);class IJ extends oe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?oe.createElement(jd.Provider,{value:this.props.routeContext},oe.createElement(W6.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LJ(t){let{routeContext:e,match:n,children:r}=t,i=oe.useContext(jR);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),oe.createElement(jd.Provider,{value:e},r)}function DJ(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);c>=0||pi(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:g}=n,v=f.route.loader&&h[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||v){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,h)=>{let g,v=!1,b=null,x=null;n&&(g=s&&f.route.id?s[f.route.id]:void 0,b=f.route.errorElement||RJ,l&&(u<0&&h===0?(v=!0,x=null):u===h&&(v=!0,x=f.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,h+1)),S=()=>{let w;return g?w=b:v?w=x:f.route.Component?w=oe.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=c,oe.createElement(LJ,{match:f,routeContext:{outlet:c,matches:_,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?oe.createElement(IJ,{location:n.location,revalidation:n.revalidation,component:b,error:g,children:S(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):S()},null)}var q6=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(q6||{}),gS=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(gS||{});function NJ(t){let e=oe.useContext(jR);return e||pi(!1),e}function kJ(t){let e=oe.useContext(MJ);return e||pi(!1),e}function UJ(t){let e=oe.useContext(jd);return e||pi(!1),e}function Y6(t){let e=UJ(),n=e.matches[e.matches.length-1];return n.route.id||pi(!1),n.route.id}function FJ(){var t;let e=oe.useContext(W6),n=kJ(gS.UseRouteError),r=Y6(gS.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function BJ(){let{router:t}=NJ(q6.UseNavigateStable),e=Y6(gS.UseNavigateStable),n=oe.useRef(!1);return V6(()=>{n.current=!0}),oe.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,v0({fromRouteId:e},o)))},[t,e])}const JD={};function zJ(t,e){JD[e]||(JD[e]=!0,console.warn(e))}const QD=(t,e,n)=>zJ(t,"⚠️ React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function jJ(t,e){t!=null&&t.v7_startTransition||QD("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&QD("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function $J(t){pi(!1)}function HJ(t){let{basename:e="/",children:n=null,location:r,navigationType:i=hf.Pop,navigator:o,static:a=!1,future:s}=t;M_()&&pi(!1);let l=e.replace(/^\/*/,"/"),u=oe.useMemo(()=>({basename:l,navigator:o,static:a,future:v0({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=Bd(r));let{pathname:c="/",search:f="",hash:h="",state:g=null,key:v="default"}=r,b=oe.useMemo(()=>{let x=zR(c,l);return x==null?null:{location:{pathname:x,search:f,hash:h,state:g,key:v},navigationType:i}},[l,c,f,h,g,v,i]);return b==null?null:oe.createElement(zd.Provider,{value:u},oe.createElement(OM.Provider,{children:n,value:b}))}function PNe(t){let{children:e,location:n}=t;return PJ(FP(e),n)}new Promise(()=>{});function FP(t,e){e===void 0&&(e=[]);let n=[];return oe.Children.forEach(t,(r,i)=>{if(!oe.isValidElement(r))return;let o=[...e,i];if(r.type===oe.Fragment){n.push.apply(n,FP(r.props.children,o));return}r.type!==$J&&pi(!1),!r.props.index||!r.props.children||pi(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=FP(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function BP(){return BP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BP.apply(this,arguments)}function GJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function WJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function VJ(t,e){return t.button===0&&(!e||e==="_self")&&!WJ(t)}const XJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],qJ="6";try{window.__reactRouterVersion=qJ}catch{}const YJ="startTransition",eN=Uz[YJ];function CNe(t){let{basename:e,children:n,future:r,window:i}=t,o=oe.useRef();o.current==null&&(o.current=QZ({window:i,v5Compat:!0}));let a=o.current,[s,l]=oe.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=oe.useCallback(f=>{u&&eN?eN(()=>l(f)):l(f)},[l,u]);return oe.useLayoutEffect(()=>a.listen(c),[a,c]),oe.useEffect(()=>jJ(r),[r]),oe.createElement(HJ,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const KJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ONe=oe.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,h=GJ(e,XJ),{basename:g}=oe.useContext(zd),v,b=!1;if(typeof u=="string"&&ZJ.test(u)&&(v=u,KJ))try{let w=new URL(window.location.href),E=u.startsWith("//")?new URL(w.protocol+u):new URL(u),T=zR(E.pathname,g);E.origin===w.origin&&T!=null?u=T+E.search+E.hash:b=!0}catch{}let x=EJ(u,{relative:i}),_=JJ(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f});function S(w){r&&r(w),w.defaultPrevented||_(w)}return oe.createElement("a",BP({},h,{href:v||x,onClick:b||o?r:S,ref:n,target:l}))});var tN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(tN||(tN={}));var nN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(nN||(nN={}));function JJ(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,l=AJ(),u=RM(),c=X6(t,{relative:a});return oe.useCallback(f=>{if(VJ(f,n)){f.preventDefault();let h=r!==void 0?r:mS(u)===mS(c);l(t,{replace:h,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,l,c,r,i,n,t,o,a,s])}function K6(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=K6(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function an(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=K6(t))&&(r&&(r+=" "),r+=e);return r}const $R="-",QJ=t=>{const e=tQ(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const s=a.split($R);return s[0]===""&&s.length!==1&&s.shift(),Z6(s,e)||eQ(a)},getConflictingClassGroupIds:(a,s)=>{const l=n[a]||[];return s&&r[a]?[...l,...r[a]]:l}}},Z6=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?Z6(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const o=t.join($R);return(a=e.validators.find(({validator:s})=>s(o)))==null?void 0:a.classGroupId},rN=/^\[(.+)\]$/,eQ=t=>{if(rN.test(t)){const e=rN.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},tQ=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return rQ(Object.entries(t.classGroups),n).forEach(([o,a])=>{zP(a,r,o,e)}),r},zP=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const o=i===""?e:iN(e,i);o.classGroupId=n;return}if(typeof i=="function"){if(nQ(i)){zP(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,a])=>{zP(a,iN(e,o),n,r)})})},iN=(t,e)=>{let n=t;return e.split($R).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},nQ=t=>t.isThemeGetter,rQ=(t,e)=>e?t.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([a,s])=>[e+a,s])):o);return[n,i]}):t,iQ=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(o,a)=>{n.set(o,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(o){let a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return i(o,a),a},set(o,a){n.has(o)?n.set(o,a):i(o,a)}}},J6="!",oQ=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],o=e.length,a=s=>{const l=[];let u=0,c=0,f;for(let x=0;x<s.length;x++){let _=s[x];if(u===0){if(_===i&&(r||s.slice(x,x+o)===e)){l.push(s.slice(c,x)),c=x+o;continue}if(_==="/"){f=x;continue}}_==="["?u++:_==="]"&&u--}const h=l.length===0?s:s.substring(c),g=h.startsWith(J6),v=g?h.substring(1):h,b=f&&f>c?f-c:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:v,maybePostfixModifierPosition:b}};return n?s=>n({className:s,parseClassName:a}):a},aQ=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},sQ=t=>({cache:iQ(t.cacheSize),parseClassName:oQ(t),...QJ(t)}),lQ=/\s+/,uQ=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,o=[],a=t.trim().split(lQ);let s="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:c,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:g}=n(u);let v=!!g,b=r(v?h.substring(0,g):h);if(!b){if(!v){s=u+(s.length>0?" "+s:s);continue}if(b=r(h),!b){s=u+(s.length>0?" "+s:s);continue}v=!1}const x=aQ(c).join(":"),_=f?x+J6:x,S=_+b;if(o.includes(S))continue;o.push(S);const w=i(b,v);for(let E=0;E<w.length;++E){const T=w[E];o.push(_+T)}s=u+(s.length>0?" "+s:s)}return s};function cQ(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Q6(e))&&(r&&(r+=" "),r+=n);return r}const Q6=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Q6(t[r]))&&(n&&(n+=" "),n+=e);return n};function fQ(t,...e){let n,r,i,o=a;function a(l){const u=e.reduce((c,f)=>f(c),t());return n=sQ(u),r=n.cache.get,i=n.cache.set,o=s,s(l)}function s(l){const u=r(l);if(u)return u;const c=uQ(l,n);return i(l,c),c}return function(){return o(cQ.apply(null,arguments))}}const dr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},ej=/^\[(?:([a-z-]+):)?(.+)\]$/i,hQ=/^\d+\/\d+$/,dQ=new Set(["px","full","screen"]),pQ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,gQ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,vQ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yQ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mu=t=>Lm(t)||dQ.has(t)||hQ.test(t),Xc=t=>Tg(t,"length",AQ),Lm=t=>!!t&&!Number.isNaN(Number(t)),pT=t=>Tg(t,"number",Lm),$v=t=>!!t&&Number.isInteger(Number(t)),_Q=t=>t.endsWith("%")&&Lm(t.slice(0,-1)),_n=t=>ej.test(t),qc=t=>pQ.test(t),xQ=new Set(["length","size","percentage"]),bQ=t=>Tg(t,xQ,tj),SQ=t=>Tg(t,"position",tj),wQ=new Set(["image","url"]),MQ=t=>Tg(t,wQ,PQ),EQ=t=>Tg(t,"",TQ),Hv=()=>!0,Tg=(t,e,n)=>{const r=ej.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},AQ=t=>mQ.test(t)&&!gQ.test(t),tj=()=>!1,TQ=t=>vQ.test(t),PQ=t=>yQ.test(t),CQ=()=>{const t=dr("colors"),e=dr("spacing"),n=dr("blur"),r=dr("brightness"),i=dr("borderColor"),o=dr("borderRadius"),a=dr("borderSpacing"),s=dr("borderWidth"),l=dr("contrast"),u=dr("grayscale"),c=dr("hueRotate"),f=dr("invert"),h=dr("gap"),g=dr("gradientColorStops"),v=dr("gradientColorStopPositions"),b=dr("inset"),x=dr("margin"),_=dr("opacity"),S=dr("padding"),w=dr("saturate"),E=dr("scale"),T=dr("sepia"),P=dr("skew"),I=dr("space"),O=dr("translate"),C=()=>["auto","contain","none"],L=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto",_n,e],U=()=>[_n,e],z=()=>["",Mu,Xc],$=()=>["auto",Lm,_n],K=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],Q=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",_n],X=()=>["auto","avoid","all","avoid-page","page","left","right","column"],H=()=>[Lm,_n];return{cacheSize:500,separator:":",theme:{colors:[Hv],spacing:[Mu,Xc],blur:["none","",qc,_n],brightness:H(),borderColor:[t],borderRadius:["none","","full",qc,_n],borderSpacing:U(),borderWidth:z(),contrast:H(),grayscale:j(),hueRotate:H(),invert:j(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[_Q,Xc],inset:N(),margin:N(),opacity:H(),padding:U(),saturate:H(),scale:H(),sepia:j(),skew:H(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",_n]}],container:["container"],columns:[{columns:[qc]}],"break-after":[{"break-after":X()}],"break-before":[{"break-before":X()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...K(),_n]}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:C()}],"overscroll-x":[{"overscroll-x":C()}],"overscroll-y":[{"overscroll-y":C()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",$v,_n]}],basis:[{basis:N()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",_n]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",$v,_n]}],"grid-cols":[{"grid-cols":[Hv]}],"col-start-end":[{col:["auto",{span:["full",$v,_n]},_n]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Hv]}],"row-start-end":[{row:["auto",{span:[$v,_n]},_n]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",_n]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",_n]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",_n,e]}],"min-w":[{"min-w":[_n,e,"min","max","fit"]}],"max-w":[{"max-w":[_n,e,"none","full","min","max","fit","prose",{screen:[qc]},qc]}],h:[{h:[_n,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[_n,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[_n,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[_n,e,"auto","min","max","fit"]}],"font-size":[{text:["base",qc,Xc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pT]}],"font-family":[{font:[Hv]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",_n]}],"line-clamp":[{"line-clamp":["none",Lm,pT]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mu,_n]}],"list-image":[{"list-image":["none",_n]}],"list-style-type":[{list:["none","disc","decimal",_n]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mu,Xc]}],"underline-offset":[{"underline-offset":["auto",Mu,_n]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",_n]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",_n]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...K(),SQ]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",bQ]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},MQ]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[s]}],"border-w-x":[{"border-x":[s]}],"border-w-y":[{"border-y":[s]}],"border-w-s":[{"border-s":[s]}],"border-w-e":[{"border-e":[s]}],"border-w-t":[{"border-t":[s]}],"border-w-r":[{"border-r":[s]}],"border-w-b":[{"border-b":[s]}],"border-w-l":[{"border-l":[s]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[s]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[s]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Mu,_n]}],"outline-w":[{outline:[Mu,Xc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Mu,Xc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",qc,EQ]}],"shadow-color":[{shadow:[Hv]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...Q(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Q()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",qc,_n]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[f]}],saturate:[{saturate:[w]}],sepia:[{sepia:[T]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[T]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",_n]}],duration:[{duration:H()}],ease:[{ease:["linear","in","out","in-out",_n]}],delay:[{delay:H()}],animate:[{animate:["none","spin","ping","pulse","bounce",_n]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[E]}],"scale-x":[{"scale-x":[E]}],"scale-y":[{"scale-y":[E]}],rotate:[{rotate:[$v,_n]}],"translate-x":[{"translate-x":[O]}],"translate-y":[{"translate-y":[O]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",_n]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",_n]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",_n]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Mu,Xc,pT]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},RNe=fQ(CQ);function qu(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function OQ(t,e=[]){let n=[];function r(o,a){const s=oe.createContext(a),l=n.length;n=[...n,a];const u=f=>{var _;const{scope:h,children:g,...v}=f,b=((_=h==null?void 0:h[t])==null?void 0:_[l])||s,x=oe.useMemo(()=>v,Object.values(v));return An.jsx(b.Provider,{value:x,children:g})};u.displayName=o+"Provider";function c(f,h){var b;const g=((b=h==null?void 0:h[t])==null?void 0:b[l])||s,v=oe.useContext(g);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return[u,c]}const i=()=>{const o=n.map(a=>oe.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return oe.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,RQ(i,...e)]}function RQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...s,...f}},{});return oe.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function IQ(t,e=[]){let n=[];function r(o,a){const s=oe.createContext(a),l=n.length;n=[...n,a];function u(f){const{scope:h,children:g,...v}=f,b=(h==null?void 0:h[t][l])||s,x=oe.useMemo(()=>v,Object.values(v));return An.jsx(b.Provider,{value:x,children:g})}function c(f,h){const g=(h==null?void 0:h[t][l])||s,v=oe.useContext(g);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,c]}const i=()=>{const o=n.map(a=>oe.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return oe.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,LQ(i,...e)]}function LQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...s,...f}},{});return oe.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function DQ(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function nj(...t){return e=>t.forEach(n=>DQ(n,e))}function vS(...t){return oe.useCallback(nj(...t),t)}var yS=oe.forwardRef((t,e)=>{const{children:n,...r}=t,i=oe.Children.toArray(n),o=i.find(kQ);if(o){const a=o.props.children,s=i.map(l=>l===o?oe.Children.count(a)>1?oe.Children.only(null):oe.isValidElement(a)?a.props.children:null:l);return An.jsx(jP,{...r,ref:e,children:oe.isValidElement(a)?oe.cloneElement(a,void 0,s):null})}return An.jsx(jP,{...r,ref:e,children:n})});yS.displayName="Slot";var jP=oe.forwardRef((t,e)=>{const{children:n,...r}=t;if(oe.isValidElement(n)){const i=FQ(n);return oe.cloneElement(n,{...UQ(r,n.props),ref:e?nj(e,i):i})}return oe.Children.count(n)>1?oe.Children.only(null):null});jP.displayName="SlotClone";var NQ=({children:t})=>An.jsx(An.Fragment,{children:t});function kQ(t){return oe.isValidElement(t)&&t.type===NQ}function UQ(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...s)=>{o(...s),i(...s)}:i&&(n[r]=i):r==="style"?n[r]={...i,...o}:r==="className"&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}function FQ(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function BQ(t){const e=t+"CollectionProvider",[n,r]=IQ(e),[i,o]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:v,children:b}=g,x=le.useRef(null),_=le.useRef(new Map).current;return An.jsx(i,{scope:v,itemMap:_,collectionRef:x,children:b})};a.displayName=e;const s=t+"CollectionSlot",l=le.forwardRef((g,v)=>{const{scope:b,children:x}=g,_=o(s,b),S=vS(v,_.collectionRef);return An.jsx(yS,{ref:S,children:x})});l.displayName=s;const u=t+"CollectionItemSlot",c="data-radix-collection-item",f=le.forwardRef((g,v)=>{const{scope:b,children:x,..._}=g,S=le.useRef(null),w=vS(v,S),E=o(u,b);return le.useEffect(()=>(E.itemMap.set(S,{ref:S,..._}),()=>void E.itemMap.delete(S))),An.jsx(yS,{[c]:"",ref:w,children:x})});f.displayName=u;function h(g){const v=o(t+"CollectionConsumer",g);return le.useCallback(()=>{const x=v.collectionRef.current;if(!x)return[];const _=Array.from(x.querySelectorAll(`[${c}]`));return Array.from(v.itemMap.values()).sort((E,T)=>_.indexOf(E.ref.current)-_.indexOf(T.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:l,ItemSlot:f},h,r]}function zQ(t,e=[]){let n=[];function r(o,a){const s=oe.createContext(a),l=n.length;n=[...n,a];function u(f){const{scope:h,children:g,...v}=f,b=(h==null?void 0:h[t][l])||s,x=oe.useMemo(()=>v,Object.values(v));return An.jsx(b.Provider,{value:x,children:g})}function c(f,h){const g=(h==null?void 0:h[t][l])||s,v=oe.useContext(g);if(v)return v;if(a!==void 0)return a;throw new Error(`\`${f}\` must be used within \`${o}\``)}return u.displayName=o+"Provider",[u,c]}const i=()=>{const o=n.map(a=>oe.createContext(a));return function(s){const l=(s==null?void 0:s[t])||o;return oe.useMemo(()=>({[`__scope${t}`]:{...s,[t]:l}}),[s,l])}};return i.scopeName=t,[r,jQ(i,...e)]}function jQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const a=r.reduce((s,{useScope:l,scopeName:u})=>{const f=l(o)[`__scope${u}`];return{...s,...f}},{});return oe.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}var $P=globalThis!=null&&globalThis.document?oe.useLayoutEffect:()=>{},$Q=Uz.useId||(()=>{}),HQ=0;function rj(t){const[e,n]=oe.useState($Q());return $P(()=>{t||n(r=>r??String(HQ++))},[t]),t||(e?`radix-${e}`:"")}var GQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Pg=GQ.reduce((t,e)=>{const n=oe.forwardRef((r,i)=>{const{asChild:o,...a}=r,s=o?yS:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),An.jsx(s,{...a,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function HR(t){const e=oe.useRef(t);return oe.useEffect(()=>{e.current=t}),oe.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function ij({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=WQ({defaultProp:e,onChange:n}),o=t!==void 0,a=o?t:r,s=HR(n),l=oe.useCallback(u=>{if(o){const f=typeof u=="function"?u(t):u;f!==t&&s(f)}else i(u)},[o,t,i,s]);return[a,l]}function WQ({defaultProp:t,onChange:e}){const n=oe.useState(t),[r]=n,i=oe.useRef(r),o=HR(e);return oe.useEffect(()=>{i.current!==r&&(o(r),i.current=r)},[r,i,o]),n}var VQ=oe.createContext(void 0);function oj(t){const e=oe.useContext(VQ);return t||e||"ltr"}var mT="rovingFocusGroup.onEntryFocus",XQ={bubbles:!1,cancelable:!0},IM="RovingFocusGroup",[HP,aj,qQ]=BQ(IM),[YQ,sj]=zQ(IM,[qQ]),[KQ,ZQ]=YQ(IM),lj=oe.forwardRef((t,e)=>An.jsx(HP.Provider,{scope:t.__scopeRovingFocusGroup,children:An.jsx(HP.Slot,{scope:t.__scopeRovingFocusGroup,children:An.jsx(JQ,{...t,ref:e})})}));lj.displayName=IM;var JQ=oe.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:o,currentTabStopId:a,defaultCurrentTabStopId:s,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:c=!1,...f}=t,h=oe.useRef(null),g=vS(e,h),v=oj(o),[b=null,x]=ij({prop:a,defaultProp:s,onChange:l}),[_,S]=oe.useState(!1),w=HR(u),E=aj(n),T=oe.useRef(!1),[P,I]=oe.useState(0);return oe.useEffect(()=>{const O=h.current;if(O)return O.addEventListener(mT,w),()=>O.removeEventListener(mT,w)},[w]),An.jsx(KQ,{scope:n,orientation:r,dir:v,loop:i,currentTabStopId:b,onItemFocus:oe.useCallback(O=>x(O),[x]),onItemShiftTab:oe.useCallback(()=>S(!0),[]),onFocusableItemAdd:oe.useCallback(()=>I(O=>O+1),[]),onFocusableItemRemove:oe.useCallback(()=>I(O=>O-1),[]),children:An.jsx(Pg.div,{tabIndex:_||P===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:qu(t.onMouseDown,()=>{T.current=!0}),onFocus:qu(t.onFocus,O=>{const C=!T.current;if(O.target===O.currentTarget&&C&&!_){const L=new CustomEvent(mT,XQ);if(O.currentTarget.dispatchEvent(L),!L.defaultPrevented){const N=E().filter(q=>q.focusable),U=N.find(q=>q.active),z=N.find(q=>q.id===b),K=[U,z,...N].filter(Boolean).map(q=>q.ref.current);fj(K,c)}}T.current=!1}),onBlur:qu(t.onBlur,()=>S(!1))})})}),uj="RovingFocusGroupItem",cj=oe.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:o,...a}=t,s=rj(),l=o||s,u=ZQ(uj,n),c=u.currentTabStopId===l,f=aj(n),{onFocusableItemAdd:h,onFocusableItemRemove:g}=u;return oe.useEffect(()=>{if(r)return h(),()=>g()},[r,h,g]),An.jsx(HP.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:An.jsx(Pg.span,{tabIndex:c?0:-1,"data-orientation":u.orientation,...a,ref:e,onMouseDown:qu(t.onMouseDown,v=>{r?u.onItemFocus(l):v.preventDefault()}),onFocus:qu(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:qu(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const b=tee(v,u.orientation,u.dir);if(b!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let _=f().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")_.reverse();else if(b==="prev"||b==="next"){b==="prev"&&_.reverse();const S=_.indexOf(v.currentTarget);_=u.loop?nee(_,S+1):_.slice(S+1)}setTimeout(()=>fj(_))}})})})});cj.displayName=uj;var QQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function eee(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function tee(t,e,n){const r=eee(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return QQ[r]}function fj(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function nee(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var ree=lj,iee=cj;function oee(t,e){return oe.useReducer((n,r)=>e[n][r]??n,t)}var hj=t=>{const{present:e,children:n}=t,r=aee(e),i=typeof n=="function"?n({present:r.isPresent}):oe.Children.only(n),o=vS(r.ref,see(i));return typeof n=="function"||r.isPresent?oe.cloneElement(i,{ref:o}):null};hj.displayName="Presence";function aee(t){const[e,n]=oe.useState(),r=oe.useRef({}),i=oe.useRef(t),o=oe.useRef("none"),a=t?"mounted":"unmounted",[s,l]=oee(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return oe.useEffect(()=>{const u=m1(r.current);o.current=s==="mounted"?u:"none"},[s]),$P(()=>{const u=r.current,c=i.current;if(c!==t){const h=o.current,g=m1(u);t?l("MOUNT"):g==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&h!==g?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),$P(()=>{if(e){let u;const c=e.ownerDocument.defaultView??window,f=g=>{const b=m1(r.current).includes(g.animationName);if(g.target===e&&b&&(l("ANIMATION_END"),!i.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",u=c.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},h=g=>{g.target===e&&(o.current=m1(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{c.clearTimeout(u),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(s),ref:oe.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function m1(t){return(t==null?void 0:t.animationName)||"none"}function see(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var GR="Tabs",[lee,INe]=OQ(GR,[sj]),dj=sj(),[uee,WR]=lee(GR),pj=oe.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:o,orientation:a="horizontal",dir:s,activationMode:l="automatic",...u}=t,c=oj(s),[f,h]=ij({prop:r,onChange:i,defaultProp:o});return An.jsx(uee,{scope:n,baseId:rj(),value:f,onValueChange:h,orientation:a,dir:c,activationMode:l,children:An.jsx(Pg.div,{dir:c,"data-orientation":a,...u,ref:e})})});pj.displayName=GR;var mj="TabsList",gj=oe.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,o=WR(mj,n),a=dj(n);return An.jsx(ree,{asChild:!0,...a,orientation:o.orientation,dir:o.dir,loop:r,children:An.jsx(Pg.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:e})})});gj.displayName=mj;var vj="TabsTrigger",yj=oe.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...o}=t,a=WR(vj,n),s=dj(n),l=bj(a.baseId,r),u=Sj(a.baseId,r),c=r===a.value;return An.jsx(iee,{asChild:!0,...s,focusable:!i,active:c,children:An.jsx(Pg.button,{type:"button",role:"tab","aria-selected":c,"aria-controls":u,"data-state":c?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...o,ref:e,onMouseDown:qu(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?a.onValueChange(r):f.preventDefault()}),onKeyDown:qu(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&a.onValueChange(r)}),onFocus:qu(t.onFocus,()=>{const f=a.activationMode!=="manual";!c&&!i&&f&&a.onValueChange(r)})})})});yj.displayName=vj;var _j="TabsContent",xj=oe.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:o,...a}=t,s=WR(_j,n),l=bj(s.baseId,r),u=Sj(s.baseId,r),c=r===s.value,f=oe.useRef(c);return oe.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),An.jsx(hj,{present:i||c,children:({present:h})=>An.jsx(Pg.div,{"data-state":c?"active":"inactive","data-orientation":s.orientation,role:"tabpanel","aria-labelledby":l,hidden:!h,id:u,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:h&&o})})});xj.displayName=_j;function bj(t,e){return`${t}-trigger-${e}`}function Sj(t,e){return`${t}-content-${e}`}var LNe=pj,DNe=gj,NNe=yj,kNe=xj;function wj(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=wj(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function cee(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=wj(t))&&(r&&(r+=" "),r+=e);return r}const oN=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,aN=cee,UNe=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return aN(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=e,a=Object.keys(i).map(u=>{const c=n==null?void 0:n[u],f=o==null?void 0:o[u];if(c===null)return null;const h=oN(c)||oN(f);return i[u][h]}),s=n&&Object.entries(n).reduce((u,c)=>{let[f,h]=c;return h===void 0||(u[f]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:f,className:h,...g}=c;return Object.entries(g).every(v=>{let[b,x]=v;return Array.isArray(x)?x.includes({...o,...s}[b]):{...o,...s}[b]===x})?[...u,f,h]:u},[]);return aN(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fee=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mj=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var hee={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dee=oe.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:a,...s},l)=>oe.createElement("svg",{ref:l,...hee,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Mj("lucide",i),...s},[...a.map(([u,c])=>oe.createElement(u,c)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const si=(t,e)=>{const n=oe.forwardRef(({className:r,...i},o)=>oe.createElement(dee,{ref:o,iconNode:e,className:Mj(`lucide-${fee(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FNe=si("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BNe=si("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zNe=si("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jNe=si("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Ne=si("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HNe=si("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GNe=si("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WNe=si("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VNe=si("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XNe=si("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qNe=si("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YNe=si("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KNe=si("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZNe=si("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JNe=si("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QNe=si("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eke=si("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tke=si("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nke=si("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rke=si("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ike=si("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var pee=Array.isArray,xa=pee,mee=typeof $l=="object"&&$l&&$l.Object===Object&&$l,Ej=mee,gee=Ej,vee=typeof self=="object"&&self&&self.Object===Object&&self,yee=gee||vee||Function("return this")(),tu=yee,_ee=tu,xee=_ee.Symbol,E_=xee,sN=E_,Aj=Object.prototype,bee=Aj.hasOwnProperty,See=Aj.toString,Gv=sN?sN.toStringTag:void 0;function wee(t){var e=bee.call(t,Gv),n=t[Gv];try{t[Gv]=void 0;var r=!0}catch{}var i=See.call(t);return r&&(e?t[Gv]=n:delete t[Gv]),i}var Mee=wee,Eee=Object.prototype,Aee=Eee.toString;function Tee(t){return Aee.call(t)}var Pee=Tee,lN=E_,Cee=Mee,Oee=Pee,Ree="[object Null]",Iee="[object Undefined]",uN=lN?lN.toStringTag:void 0;function Lee(t){return t==null?t===void 0?Iee:Ree:uN&&uN in Object(t)?Cee(t):Oee(t)}var hc=Lee;function Dee(t){return t!=null&&typeof t=="object"}var dc=Dee,Nee=hc,kee=dc,Uee="[object Symbol]";function Fee(t){return typeof t=="symbol"||kee(t)&&Nee(t)==Uee}var Cg=Fee,Bee=xa,zee=Cg,jee=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$ee=/^\w*$/;function Hee(t,e){if(Bee(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||zee(t)?!0:$ee.test(t)||!jee.test(t)||e!=null&&t in Object(e)}var VR=Hee;function Gee(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Df=Gee;const Og=Nn(Df);var Wee=hc,Vee=Df,Xee="[object AsyncFunction]",qee="[object Function]",Yee="[object GeneratorFunction]",Kee="[object Proxy]";function Zee(t){if(!Vee(t))return!1;var e=Wee(t);return e==qee||e==Yee||e==Xee||e==Kee}var XR=Zee;const Kt=Nn(XR);var Jee=tu,Qee=Jee["__core-js_shared__"],ete=Qee,gT=ete,cN=function(){var t=/[^.]+$/.exec(gT&&gT.keys&&gT.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function tte(t){return!!cN&&cN in t}var nte=tte,rte=Function.prototype,ite=rte.toString;function ote(t){if(t!=null){try{return ite.call(t)}catch{}try{return t+""}catch{}}return""}var Tj=ote,ate=XR,ste=nte,lte=Df,ute=Tj,cte=/[\\^$.*+?()[\]{}|]/g,fte=/^\[object .+?Constructor\]$/,hte=Function.prototype,dte=Object.prototype,pte=hte.toString,mte=dte.hasOwnProperty,gte=RegExp("^"+pte.call(mte).replace(cte,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vte(t){if(!lte(t)||ste(t))return!1;var e=ate(t)?gte:fte;return e.test(ute(t))}var yte=vte;function _te(t,e){return t==null?void 0:t[e]}var xte=_te,bte=yte,Ste=xte;function wte(t,e){var n=Ste(t,e);return bte(n)?n:void 0}var $d=wte,Mte=$d,Ete=Mte(Object,"create"),LM=Ete,fN=LM;function Ate(){this.__data__=fN?fN(null):{},this.size=0}var Tte=Ate;function Pte(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Cte=Pte,Ote=LM,Rte="__lodash_hash_undefined__",Ite=Object.prototype,Lte=Ite.hasOwnProperty;function Dte(t){var e=this.__data__;if(Ote){var n=e[t];return n===Rte?void 0:n}return Lte.call(e,t)?e[t]:void 0}var Nte=Dte,kte=LM,Ute=Object.prototype,Fte=Ute.hasOwnProperty;function Bte(t){var e=this.__data__;return kte?e[t]!==void 0:Fte.call(e,t)}var zte=Bte,jte=LM,$te="__lodash_hash_undefined__";function Hte(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=jte&&e===void 0?$te:e,this}var Gte=Hte,Wte=Tte,Vte=Cte,Xte=Nte,qte=zte,Yte=Gte;function Rg(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Rg.prototype.clear=Wte;Rg.prototype.delete=Vte;Rg.prototype.get=Xte;Rg.prototype.has=qte;Rg.prototype.set=Yte;var Kte=Rg;function Zte(){this.__data__=[],this.size=0}var Jte=Zte;function Qte(t,e){return t===e||t!==t&&e!==e}var qR=Qte,ene=qR;function tne(t,e){for(var n=t.length;n--;)if(ene(t[n][0],e))return n;return-1}var DM=tne,nne=DM,rne=Array.prototype,ine=rne.splice;function one(t){var e=this.__data__,n=nne(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ine.call(e,n,1),--this.size,!0}var ane=one,sne=DM;function lne(t){var e=this.__data__,n=sne(e,t);return n<0?void 0:e[n][1]}var une=lne,cne=DM;function fne(t){return cne(this.__data__,t)>-1}var hne=fne,dne=DM;function pne(t,e){var n=this.__data__,r=dne(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var mne=pne,gne=Jte,vne=ane,yne=une,_ne=hne,xne=mne;function Ig(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ig.prototype.clear=gne;Ig.prototype.delete=vne;Ig.prototype.get=yne;Ig.prototype.has=_ne;Ig.prototype.set=xne;var NM=Ig,bne=$d,Sne=tu,wne=bne(Sne,"Map"),YR=wne,hN=Kte,Mne=NM,Ene=YR;function Ane(){this.size=0,this.__data__={hash:new hN,map:new(Ene||Mne),string:new hN}}var Tne=Ane;function Pne(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Cne=Pne,One=Cne;function Rne(t,e){var n=t.__data__;return One(e)?n[typeof e=="string"?"string":"hash"]:n.map}var kM=Rne,Ine=kM;function Lne(t){var e=Ine(this,t).delete(t);return this.size-=e?1:0,e}var Dne=Lne,Nne=kM;function kne(t){return Nne(this,t).get(t)}var Une=kne,Fne=kM;function Bne(t){return Fne(this,t).has(t)}var zne=Bne,jne=kM;function $ne(t,e){var n=jne(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var Hne=$ne,Gne=Tne,Wne=Dne,Vne=Une,Xne=zne,qne=Hne;function Lg(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Lg.prototype.clear=Gne;Lg.prototype.delete=Wne;Lg.prototype.get=Vne;Lg.prototype.has=Xne;Lg.prototype.set=qne;var KR=Lg,Pj=KR,Yne="Expected a function";function ZR(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Yne);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ZR.Cache||Pj),n}ZR.Cache=Pj;var Cj=ZR;const Kne=Nn(Cj);var Zne=Cj,Jne=500;function Qne(t){var e=Zne(t,function(r){return n.size===Jne&&n.clear(),r}),n=e.cache;return e}var ere=Qne,tre=ere,nre=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rre=/\\(\\)?/g,ire=tre(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(nre,function(n,r,i,o){e.push(i?o.replace(rre,"$1"):r||n)}),e}),ore=ire;function are(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var JR=are,dN=E_,sre=JR,lre=xa,ure=Cg,cre=1/0,pN=dN?dN.prototype:void 0,mN=pN?pN.toString:void 0;function Oj(t){if(typeof t=="string")return t;if(lre(t))return sre(t,Oj)+"";if(ure(t))return mN?mN.call(t):"";var e=t+"";return e=="0"&&1/t==-cre?"-0":e}var fre=Oj,hre=fre;function dre(t){return t==null?"":hre(t)}var Rj=dre,pre=xa,mre=VR,gre=ore,vre=Rj;function yre(t,e){return pre(t)?t:mre(t,e)?[t]:gre(vre(t))}var Ij=yre,_re=Cg,xre=1/0;function bre(t){if(typeof t=="string"||_re(t))return t;var e=t+"";return e=="0"&&1/t==-xre?"-0":e}var UM=bre,Sre=Ij,wre=UM;function Mre(t,e){e=Sre(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[wre(e[n++])];return n&&n==r?t:void 0}var QR=Mre,Ere=QR;function Are(t,e,n){var r=t==null?void 0:Ere(t,e);return r===void 0?n:r}var Lj=Are;const qa=Nn(Lj);function Tre(t){return t==null}var Pre=Tre;const Vt=Nn(Pre);var Cre=hc,Ore=xa,Rre=dc,Ire="[object String]";function Lre(t){return typeof t=="string"||!Ore(t)&&Rre(t)&&Cre(t)==Ire}var Dre=Lre;const A_=Nn(Dre);var Dj={exports:{}},Kn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eI=Symbol.for("react.element"),tI=Symbol.for("react.portal"),FM=Symbol.for("react.fragment"),BM=Symbol.for("react.strict_mode"),zM=Symbol.for("react.profiler"),jM=Symbol.for("react.provider"),$M=Symbol.for("react.context"),Nre=Symbol.for("react.server_context"),HM=Symbol.for("react.forward_ref"),GM=Symbol.for("react.suspense"),WM=Symbol.for("react.suspense_list"),VM=Symbol.for("react.memo"),XM=Symbol.for("react.lazy"),kre=Symbol.for("react.offscreen"),Nj;Nj=Symbol.for("react.module.reference");function Is(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case eI:switch(t=t.type,t){case FM:case zM:case BM:case GM:case WM:return t;default:switch(t=t&&t.$$typeof,t){case Nre:case $M:case HM:case XM:case VM:case jM:return t;default:return e}}case tI:return e}}}Kn.ContextConsumer=$M;Kn.ContextProvider=jM;Kn.Element=eI;Kn.ForwardRef=HM;Kn.Fragment=FM;Kn.Lazy=XM;Kn.Memo=VM;Kn.Portal=tI;Kn.Profiler=zM;Kn.StrictMode=BM;Kn.Suspense=GM;Kn.SuspenseList=WM;Kn.isAsyncMode=function(){return!1};Kn.isConcurrentMode=function(){return!1};Kn.isContextConsumer=function(t){return Is(t)===$M};Kn.isContextProvider=function(t){return Is(t)===jM};Kn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===eI};Kn.isForwardRef=function(t){return Is(t)===HM};Kn.isFragment=function(t){return Is(t)===FM};Kn.isLazy=function(t){return Is(t)===XM};Kn.isMemo=function(t){return Is(t)===VM};Kn.isPortal=function(t){return Is(t)===tI};Kn.isProfiler=function(t){return Is(t)===zM};Kn.isStrictMode=function(t){return Is(t)===BM};Kn.isSuspense=function(t){return Is(t)===GM};Kn.isSuspenseList=function(t){return Is(t)===WM};Kn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===FM||t===zM||t===BM||t===GM||t===WM||t===kre||typeof t=="object"&&t!==null&&(t.$$typeof===XM||t.$$typeof===VM||t.$$typeof===jM||t.$$typeof===$M||t.$$typeof===HM||t.$$typeof===Nj||t.getModuleId!==void 0)};Kn.typeOf=Is;Dj.exports=Kn;var Ure=Dj.exports,Fre=hc,Bre=dc,zre="[object Number]";function jre(t){return typeof t=="number"||Bre(t)&&Fre(t)==zre}var kj=jre;const $re=Nn(kj);var Hre=kj;function Gre(t){return Hre(t)&&t!=+t}var Wre=Gre;const T_=Nn(Wre);var Vo=function(e){return e===0?0:e>0?1:-1},id=function(e){return A_(e)&&e.indexOf("%")===e.length-1},mt=function(e){return $re(e)&&!T_(e)},wi=function(e){return mt(e)||A_(e)},Vre=0,Hd=function(e){var n=++Vre;return"".concat(e||"").concat(n)},Xo=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!mt(e)&&!A_(e))return r;var o;if(id(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return T_(o)&&(o=r),i&&o>n&&(o=n),o},lf=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},Xre=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},ii=function(e,n){return mt(e)&&mt(n)?function(r){return e+r*(n-e)}:function(){return n}};function _S(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):qa(r,e))===n})}var qre=function(e){if(!e||!e.length)return null;for(var n=e.length,r=0,i=0,o=0,a=0,s=1/0,l=-1/0,u=0,c=0,f=0;f<n;f++)u=e[f].cx||0,c=e[f].cy||0,r+=u,i+=c,o+=u*c,a+=u*u,s=Math.min(s,u),l=Math.max(l,u);var h=n*a!==r*r?(n*o-r*i)/(n*a-r*r):0;return{xmin:s,xmax:l,a:h,b:(i-h*r)/n}};function Dm(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function GP(t){"@babel/helpers - typeof";return GP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GP(t)}var Yre=["viewBox","children"],Kre=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],gN=["points","pathLength"],vT={svg:Yre,polygon:gN,polyline:gN},nI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],xS=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(oe.isValidElement(e)&&(r=e.props),!Og(r))return null;var i={};return Object.keys(r).forEach(function(o){nI.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},Zre=function(e,n,r){return function(i){return e(n,r,i),null}},Pf=function(e,n,r){if(!Og(e)||GP(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];nI.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=Zre(a,n,r))}),i},Jre=["children"],Qre=["children"];function vN(t,e){if(t==null)return{};var n=eie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function WP(t){"@babel/helpers - typeof";return WP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},WP(t)}var yN={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},Yu=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},_N=null,yT=null,rI=function t(e){if(e===_N&&Array.isArray(yT))return yT;var n=[];return oe.Children.forEach(e,function(r){Vt(r)||(Ure.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),yT=n,_N=e,n};function Ko(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Yu(i)}):r=[Yu(e)],rI(t).forEach(function(i){var o=qa(i,"type.displayName")||qa(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Ga(t,e){var n=Ko(t,e);return n&&n[0]}var xN=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!mt(r)||r<=0||!mt(i)||i<=0)},tie=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],nie=function(e){return e&&e.type&&A_(e.type)&&tie.indexOf(e.type)>=0},rie=function(e){return e&&WP(e)==="object"&&"clipDot"in e},iie=function(e,n,r,i){var o,a=(o=vT==null?void 0:vT[i])!==null&&o!==void 0?o:[];return!Kt(e)&&(i&&a.includes(n)||Kre.includes(n))||r&&nI.includes(n)},Nt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(oe.isValidElement(e)&&(i=e.props),!Og(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;iie((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},VP=function t(e,n){if(e===n)return!0;var r=oe.Children.count(e);if(r!==oe.Children.count(n))return!1;if(r===0)return!0;if(r===1)return bN(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!bN(o,a))return!1}return!0},bN=function(e,n){if(Vt(e)&&Vt(n))return!0;if(!Vt(e)&&!Vt(n)){var r=e.props||{},i=r.children,o=vN(r,Jre),a=n.props||{},s=a.children,l=vN(a,Qre);return i&&s?Dm(o,l)&&VP(i,s):!i&&!s?Dm(o,l):!1}return!1},SN=function(e,n){var r=[],i={};return rI(e).forEach(function(o,a){if(nie(o))r.push(o);else if(o){var s=Yu(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},oie=function(e){var n=e&&e.type;return n&&yN[n]?yN[n]:null},aie=function(e,n){return rI(n).indexOf(e)},sie=["children","width","height","viewBox","className","style","title","desc"];function XP(){return XP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XP.apply(this,arguments)}function lie(t,e){if(t==null)return{};var n=uie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function uie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qP(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=lie(t,sie),c=i||{width:n,height:r,x:0,y:0},f=an("recharts-surface",o);return le.createElement("svg",XP({},Nt(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),le.createElement("title",null,s),le.createElement("desc",null,l),e)}var cie=["children","className"];function YP(){return YP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YP.apply(this,arguments)}function fie(t,e){if(t==null)return{};var n=hie(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function hie(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var wn=le.forwardRef(function(t,e){var n=t.children,r=t.className,i=fie(t,cie),o=an("recharts-layer",r);return le.createElement("g",YP({className:o},Nt(i,!0),{ref:e}),n)}),cl=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function die(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var pie=die,mie=pie;function gie(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:mie(t,e,n)}var vie=gie,yie="\\ud800-\\udfff",_ie="\\u0300-\\u036f",xie="\\ufe20-\\ufe2f",bie="\\u20d0-\\u20ff",Sie=_ie+xie+bie,wie="\\ufe0e\\ufe0f",Mie="\\u200d",Eie=RegExp("["+Mie+yie+Sie+wie+"]");function Aie(t){return Eie.test(t)}var Uj=Aie;function Tie(t){return t.split("")}var Pie=Tie,Fj="\\ud800-\\udfff",Cie="\\u0300-\\u036f",Oie="\\ufe20-\\ufe2f",Rie="\\u20d0-\\u20ff",Iie=Cie+Oie+Rie,Lie="\\ufe0e\\ufe0f",Die="["+Fj+"]",KP="["+Iie+"]",ZP="\\ud83c[\\udffb-\\udfff]",Nie="(?:"+KP+"|"+ZP+")",Bj="[^"+Fj+"]",zj="(?:\\ud83c[\\udde6-\\uddff]){2}",jj="[\\ud800-\\udbff][\\udc00-\\udfff]",kie="\\u200d",$j=Nie+"?",Hj="["+Lie+"]?",Uie="(?:"+kie+"(?:"+[Bj,zj,jj].join("|")+")"+Hj+$j+")*",Fie=Hj+$j+Uie,Bie="(?:"+[Bj+KP+"?",KP,zj,jj,Die].join("|")+")",zie=RegExp(ZP+"(?="+ZP+")|"+Bie+Fie,"g");function jie(t){return t.match(zie)||[]}var $ie=jie,Hie=Pie,Gie=Uj,Wie=$ie;function Vie(t){return Gie(t)?Wie(t):Hie(t)}var Xie=Vie,qie=vie,Yie=Uj,Kie=Xie,Zie=Rj;function Jie(t){return function(e){e=Zie(e);var n=Yie(e)?Kie(e):void 0,r=n?n[0]:e.charAt(0),i=n?qie(n,1).join(""):e.slice(1);return r[t]()+i}}var Qie=Jie,eoe=Qie,toe=eoe("toUpperCase"),noe=toe;const qM=Nn(noe);function ur(t){return function(){return t}}const Gj=Math.cos,bS=Math.sin,gl=Math.sqrt,SS=Math.PI,YM=2*SS,JP=Math.PI,QP=2*JP,Vh=1e-6,roe=QP-Vh;function Wj(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function ioe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Wj;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let ooe=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Wj:ioe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Vh)if(!(Math.abs(f*l-u*c)>Vh)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-a,v=i-s,b=l*l+u*u,x=g*g+v*v,_=Math.sqrt(b),S=Math.sqrt(h),w=o*Math.tan((JP-Math.acos((b+h-x)/(2*_*S)))/2),E=w/S,T=w/_;Math.abs(E-1)>Vh&&this._append`L${e+E*c},${n+E*f}`,this._append`A${o},${o},0,0,${+(f*g>c*v)},${this._x1=e+T*l},${this._y1=n+T*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Vh||Math.abs(this._y1-c)>Vh)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%QP+QP),h>roe?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>Vh&&this._append`A${r},${r},0,${+(h>=JP)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function iI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new ooe(e)}function oI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Vj(t){this._context=t}Vj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function KM(t){return new Vj(t)}function Xj(t){return t[0]}function qj(t){return t[1]}function Yj(t,e){var n=ur(!0),r=null,i=KM,o=null,a=iI(s);t=typeof t=="function"?t:t===void 0?Xj:ur(t),e=typeof e=="function"?e:e===void 0?qj:ur(e);function s(l){var u,c=(l=oI(l)).length,f,h=!1,g;for(r==null&&(o=i(g=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(g)return o=null,g+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:ur(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:ur(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:ur(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function g1(t,e,n){var r=null,i=ur(!0),o=null,a=KM,s=null,l=iI(u);t=typeof t=="function"?t:t===void 0?Xj:ur(+t),e=typeof e=="function"?e:ur(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?qj:ur(+n);function u(f){var h,g,v,b=(f=oI(f)).length,x,_=!1,S,w=new Array(b),E=new Array(b);for(o==null&&(s=a(S=l())),h=0;h<=b;++h){if(!(h<b&&i(x=f[h],h,f))===_)if(_=!_)g=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=g;--v)s.point(w[v],E[v]);s.lineEnd(),s.areaEnd()}_&&(w[h]=+t(x,h,f),E[h]=+e(x,h,f),s.point(r?+r(x,h,f):w[h],n?+n(x,h,f):E[h]))}if(S)return s=null,S+""||null}function c(){return Yj().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:ur(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:ur(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:ur(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:ur(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:ur(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:ur(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:ur(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class Kj{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function aoe(t){return new Kj(t,!0)}function soe(t){return new Kj(t,!1)}const aI={draw(t,e){const n=gl(e/SS);t.moveTo(n,0),t.arc(0,0,n,0,YM)}},loe={draw(t,e){const n=gl(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Zj=gl(1/3),uoe=Zj*2,coe={draw(t,e){const n=gl(e/uoe),r=n*Zj;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},foe={draw(t,e){const n=gl(e),r=-n/2;t.rect(r,r,n,n)}},hoe=.8908130915292852,Jj=bS(SS/10)/bS(7*SS/10),doe=bS(YM/10)*Jj,poe=-Gj(YM/10)*Jj,moe={draw(t,e){const n=gl(e*hoe),r=doe*n,i=poe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=YM*o/5,s=Gj(a),l=bS(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},_T=gl(3),goe={draw(t,e){const n=-gl(e/(_T*3));t.moveTo(0,n*2),t.lineTo(-_T*n,-n),t.lineTo(_T*n,-n),t.closePath()}},ms=-.5,gs=gl(3)/2,eC=1/gl(12),voe=(eC/2+1)*3,yoe={draw(t,e){const n=gl(e/voe),r=n/2,i=n*eC,o=r,a=n*eC+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(ms*r-gs*i,gs*r+ms*i),t.lineTo(ms*o-gs*a,gs*o+ms*a),t.lineTo(ms*s-gs*l,gs*s+ms*l),t.lineTo(ms*r+gs*i,ms*i-gs*r),t.lineTo(ms*o+gs*a,ms*a-gs*o),t.lineTo(ms*s+gs*l,ms*l-gs*s),t.closePath()}};function _oe(t,e){let n=null,r=iI(i);t=typeof t=="function"?t:ur(t||aI),e=typeof e=="function"?e:ur(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:ur(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:ur(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function wS(){}function MS(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Qj(t){this._context=t}Qj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:MS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:MS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function xoe(t){return new Qj(t)}function e$(t){this._context=t}e$.prototype={areaStart:wS,areaEnd:wS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:MS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function boe(t){return new e$(t)}function t$(t){this._context=t}t$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:MS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Soe(t){return new t$(t)}function n$(t){this._context=t}n$.prototype={areaStart:wS,areaEnd:wS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function woe(t){return new n$(t)}function wN(t){return t<0?-1:1}function MN(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(wN(o)+wN(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function EN(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function xT(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function ES(t){this._context=t}ES.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xT(this,this._t0,EN(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,xT(this,EN(this,n=MN(this,t,e)),n);break;default:xT(this,this._t0,n=MN(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function r$(t){this._context=new i$(t)}(r$.prototype=Object.create(ES.prototype)).point=function(t,e){ES.prototype.point.call(this,e,t)};function i$(t){this._context=t}i$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function Moe(t){return new ES(t)}function Eoe(t){return new r$(t)}function o$(t){this._context=t}o$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=AN(t),i=AN(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function AN(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Aoe(t){return new o$(t)}function ZM(t,e){this._context=t,this._t=e}ZM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function Toe(t){return new ZM(t,.5)}function Poe(t){return new ZM(t,0)}function Coe(t){return new ZM(t,1)}function Vm(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function tC(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function Ooe(t,e){return t[e]}function Roe(t){const e=[];return e.key=t,e}function Ioe(){var t=ur([]),e=tC,n=Vm,r=Ooe;function i(o){var a=Array.from(t.apply(this,arguments),Roe),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=oI(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:ur(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:ur(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?tC:typeof o=="function"?o:ur(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??Vm,i):n},i}function Loe(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Vm(t,e)}}function Doe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}Vm(t,e)}}function Noe(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,g=(f-h)/2,v=0;v<s;++v){var b=t[e[v]],x=b[r][1]||0,_=b[r-1][1]||0;g+=x-_}l+=f,u+=g*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,Vm(t,e)}}function y0(t){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y0(t)}var koe=["type","size","sizeType"];function nC(){return nC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nC.apply(this,arguments)}function TN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PN(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TN(Object(n),!0).forEach(function(r){Uoe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uoe(t,e,n){return e=Foe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Foe(t){var e=Boe(t,"string");return y0(e)=="symbol"?e:e+""}function Boe(t,e){if(y0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(y0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zoe(t,e){if(t==null)return{};var n=joe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function joe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var a$={symbolCircle:aI,symbolCross:loe,symbolDiamond:coe,symbolSquare:foe,symbolStar:moe,symbolTriangle:goe,symbolWye:yoe},$oe=Math.PI/180,Hoe=function(e){var n="symbol".concat(qM(e));return a$[n]||aI},Goe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*$oe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Woe=function(e,n){a$["symbol".concat(qM(e))]=n},JM=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=zoe(e,koe),u=PN(PN({},l),{},{type:r,size:o,sizeType:s}),c=function(){var x=Hoe(r),_=_oe().type(x).size(Goe(o,s,r));return _()},f=u.className,h=u.cx,g=u.cy,v=Nt(u,!0);return h===+h&&g===+g&&o===+o?le.createElement("path",nC({},v,{className:an("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(g,")"),d:c()})):null};JM.registerSymbol=Woe;function Xm(t){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xm(t)}function rC(){return rC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rC.apply(this,arguments)}function CN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Voe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CN(Object(n),!0).forEach(function(r){_0(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qoe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,l$(r.key),r)}}function Yoe(t,e,n){return e&&qoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Koe(t,e,n){return e=AS(e),Zoe(t,s$()?Reflect.construct(e,n||[],AS(t).constructor):e.apply(t,n))}function Zoe(t,e){if(e&&(Xm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Joe(t)}function Joe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s$=function(){return!!t})()}function AS(t){return AS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},AS(t)}function Qoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iC(t,e)}function iC(t,e){return iC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iC(t,e)}function _0(t,e,n){return e=l$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l$(t){var e=eae(t,"string");return Xm(e)=="symbol"?e:e+""}function eae(t,e){if(Xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vs=32,sI=function(t){function e(){return Xoe(this,e),Koe(this,e,arguments)}return Qoe(e,t),Yoe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=vs/2,a=vs/6,s=vs/3,l=r.inactive?i:r.color;if(r.type==="plainline")return le.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:vs,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return le.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(vs,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return le.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(vs/8,"h").concat(vs,"v").concat(vs*3/4,"h").concat(-vs,"z"),className:"recharts-legend-icon"});if(le.isValidElement(r.legendIcon)){var u=Voe({},r);return delete u.legendIcon,le.cloneElement(r.legendIcon,u)}return le.createElement(JM,{fill:l,cx:o,cy:o,size:vs,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:vs,height:vs},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(g,v){var b=g.formatter||l,x=an(_0(_0({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var _=Kt(g.value)?null:g.value;cl(!Kt(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=g.inactive?u:g.color;return le.createElement("li",rC({className:x,style:f,key:"legend-item-".concat(v)},Pf(r.props,g,v)),le.createElement(qP,{width:a,height:a,viewBox:c,style:h},r.renderIcon(g)),le.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},b?b(_,g,v):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return le.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(oe.PureComponent);_0(sI,"displayName","Legend");_0(sI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var tae=NM;function nae(){this.__data__=new tae,this.size=0}var rae=nae;function iae(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var oae=iae;function aae(t){return this.__data__.get(t)}var sae=aae;function lae(t){return this.__data__.has(t)}var uae=lae,cae=NM,fae=YR,hae=KR,dae=200;function pae(t,e){var n=this.__data__;if(n instanceof cae){var r=n.__data__;if(!fae||r.length<dae-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new hae(r)}return n.set(t,e),this.size=n.size,this}var mae=pae,gae=NM,vae=rae,yae=oae,_ae=sae,xae=uae,bae=mae;function Dg(t){var e=this.__data__=new gae(t);this.size=e.size}Dg.prototype.clear=vae;Dg.prototype.delete=yae;Dg.prototype.get=_ae;Dg.prototype.has=xae;Dg.prototype.set=bae;var u$=Dg,Sae="__lodash_hash_undefined__";function wae(t){return this.__data__.set(t,Sae),this}var Mae=wae;function Eae(t){return this.__data__.has(t)}var Aae=Eae,Tae=KR,Pae=Mae,Cae=Aae;function TS(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Tae;++e<n;)this.add(t[e])}TS.prototype.add=TS.prototype.push=Pae;TS.prototype.has=Cae;var c$=TS;function Oae(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var f$=Oae;function Rae(t,e){return t.has(e)}var h$=Rae,Iae=c$,Lae=f$,Dae=h$,Nae=1,kae=2;function Uae(t,e,n,r,i,o){var a=n&Nae,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,g=n&kae?new Iae:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var v=t[f],b=e[f];if(r)var x=a?r(b,v,f,e,t,o):r(v,b,f,t,e,o);if(x!==void 0){if(x)continue;h=!1;break}if(g){if(!Lae(e,function(_,S){if(!Dae(g,S)&&(v===_||i(v,_,n,r,o)))return g.push(S)})){h=!1;break}}else if(!(v===b||i(v,b,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var d$=Uae,Fae=tu,Bae=Fae.Uint8Array,zae=Bae;function jae(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var $ae=jae;function Hae(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var lI=Hae,ON=E_,RN=zae,Gae=qR,Wae=d$,Vae=$ae,Xae=lI,qae=1,Yae=2,Kae="[object Boolean]",Zae="[object Date]",Jae="[object Error]",Qae="[object Map]",ese="[object Number]",tse="[object RegExp]",nse="[object Set]",rse="[object String]",ise="[object Symbol]",ose="[object ArrayBuffer]",ase="[object DataView]",IN=ON?ON.prototype:void 0,bT=IN?IN.valueOf:void 0;function sse(t,e,n,r,i,o,a){switch(n){case ase:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ose:return!(t.byteLength!=e.byteLength||!o(new RN(t),new RN(e)));case Kae:case Zae:case ese:return Gae(+t,+e);case Jae:return t.name==e.name&&t.message==e.message;case tse:case rse:return t==e+"";case Qae:var s=Vae;case nse:var l=r&qae;if(s||(s=Xae),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=Yae,a.set(t,e);var c=Wae(s(t),s(e),r,i,o,a);return a.delete(t),c;case ise:if(bT)return bT.call(t)==bT.call(e)}return!1}var lse=sse;function use(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var p$=use,cse=p$,fse=xa;function hse(t,e,n){var r=e(t);return fse(t)?r:cse(r,n(t))}var dse=hse;function pse(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var mse=pse;function gse(){return[]}var vse=gse,yse=mse,_se=vse,xse=Object.prototype,bse=xse.propertyIsEnumerable,LN=Object.getOwnPropertySymbols,Sse=LN?function(t){return t==null?[]:(t=Object(t),yse(LN(t),function(e){return bse.call(t,e)}))}:_se,wse=Sse;function Mse(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Ese=Mse,Ase=hc,Tse=dc,Pse="[object Arguments]";function Cse(t){return Tse(t)&&Ase(t)==Pse}var Ose=Cse,DN=Ose,Rse=dc,m$=Object.prototype,Ise=m$.hasOwnProperty,Lse=m$.propertyIsEnumerable,Dse=DN(function(){return arguments}())?DN:function(t){return Rse(t)&&Ise.call(t,"callee")&&!Lse.call(t,"callee")},uI=Dse,PS={exports:{}};function Nse(){return!1}var kse=Nse;PS.exports;(function(t,e){var n=tu,r=kse,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(PS,PS.exports);var g$=PS.exports,Use=9007199254740991,Fse=/^(?:0|[1-9]\d*)$/;function Bse(t,e){var n=typeof t;return e=e??Use,!!e&&(n=="number"||n!="symbol"&&Fse.test(t))&&t>-1&&t%1==0&&t<e}var cI=Bse,zse=9007199254740991;function jse(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=zse}var fI=jse,$se=hc,Hse=fI,Gse=dc,Wse="[object Arguments]",Vse="[object Array]",Xse="[object Boolean]",qse="[object Date]",Yse="[object Error]",Kse="[object Function]",Zse="[object Map]",Jse="[object Number]",Qse="[object Object]",ele="[object RegExp]",tle="[object Set]",nle="[object String]",rle="[object WeakMap]",ile="[object ArrayBuffer]",ole="[object DataView]",ale="[object Float32Array]",sle="[object Float64Array]",lle="[object Int8Array]",ule="[object Int16Array]",cle="[object Int32Array]",fle="[object Uint8Array]",hle="[object Uint8ClampedArray]",dle="[object Uint16Array]",ple="[object Uint32Array]",mr={};mr[ale]=mr[sle]=mr[lle]=mr[ule]=mr[cle]=mr[fle]=mr[hle]=mr[dle]=mr[ple]=!0;mr[Wse]=mr[Vse]=mr[ile]=mr[Xse]=mr[ole]=mr[qse]=mr[Yse]=mr[Kse]=mr[Zse]=mr[Jse]=mr[Qse]=mr[ele]=mr[tle]=mr[nle]=mr[rle]=!1;function mle(t){return Gse(t)&&Hse(t.length)&&!!mr[$se(t)]}var gle=mle;function vle(t){return function(e){return t(e)}}var v$=vle,CS={exports:{}};CS.exports;(function(t,e){var n=Ej,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(CS,CS.exports);var yle=CS.exports,_le=gle,xle=v$,NN=yle,kN=NN&&NN.isTypedArray,ble=kN?xle(kN):_le,y$=ble,Sle=Ese,wle=uI,Mle=xa,Ele=g$,Ale=cI,Tle=y$,Ple=Object.prototype,Cle=Ple.hasOwnProperty;function Ole(t,e){var n=Mle(t),r=!n&&wle(t),i=!n&&!r&&Ele(t),o=!n&&!r&&!i&&Tle(t),a=n||r||i||o,s=a?Sle(t.length,String):[],l=s.length;for(var u in t)(e||Cle.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Ale(u,l)))&&s.push(u);return s}var Rle=Ole,Ile=Object.prototype;function Lle(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Ile;return t===n}var Dle=Lle;function Nle(t,e){return function(n){return t(e(n))}}var _$=Nle,kle=_$,Ule=kle(Object.keys,Object),Fle=Ule,Ble=Dle,zle=Fle,jle=Object.prototype,$le=jle.hasOwnProperty;function Hle(t){if(!Ble(t))return zle(t);var e=[];for(var n in Object(t))$le.call(t,n)&&n!="constructor"&&e.push(n);return e}var Gle=Hle,Wle=XR,Vle=fI;function Xle(t){return t!=null&&Vle(t.length)&&!Wle(t)}var P_=Xle,qle=Rle,Yle=Gle,Kle=P_;function Zle(t){return Kle(t)?qle(t):Yle(t)}var QM=Zle,Jle=dse,Qle=wse,eue=QM;function tue(t){return Jle(t,eue,Qle)}var nue=tue,UN=nue,rue=1,iue=Object.prototype,oue=iue.hasOwnProperty;function aue(t,e,n,r,i,o){var a=n&rue,s=UN(t),l=s.length,u=UN(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:oue.call(e,h)))return!1}var g=o.get(t),v=o.get(e);if(g&&v)return g==e&&v==t;var b=!0;o.set(t,e),o.set(e,t);for(var x=a;++f<l;){h=s[f];var _=t[h],S=e[h];if(r)var w=a?r(S,_,h,e,t,o):r(_,S,h,t,e,o);if(!(w===void 0?_===S||i(_,S,n,r,o):w)){b=!1;break}x||(x=h=="constructor")}if(b&&!x){var E=t.constructor,T=e.constructor;E!=T&&"constructor"in t&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof T=="function"&&T instanceof T)&&(b=!1)}return o.delete(t),o.delete(e),b}var sue=aue,lue=$d,uue=tu,cue=lue(uue,"DataView"),fue=cue,hue=$d,due=tu,pue=hue(due,"Promise"),mue=pue,gue=$d,vue=tu,yue=gue(vue,"Set"),x$=yue,_ue=$d,xue=tu,bue=_ue(xue,"WeakMap"),Sue=bue,oC=fue,aC=YR,sC=mue,lC=x$,uC=Sue,b$=hc,Ng=Tj,FN="[object Map]",wue="[object Object]",BN="[object Promise]",zN="[object Set]",jN="[object WeakMap]",$N="[object DataView]",Mue=Ng(oC),Eue=Ng(aC),Aue=Ng(sC),Tue=Ng(lC),Pue=Ng(uC),Xh=b$;(oC&&Xh(new oC(new ArrayBuffer(1)))!=$N||aC&&Xh(new aC)!=FN||sC&&Xh(sC.resolve())!=BN||lC&&Xh(new lC)!=zN||uC&&Xh(new uC)!=jN)&&(Xh=function(t){var e=b$(t),n=e==wue?t.constructor:void 0,r=n?Ng(n):"";if(r)switch(r){case Mue:return $N;case Eue:return FN;case Aue:return BN;case Tue:return zN;case Pue:return jN}return e});var Cue=Xh,ST=u$,Oue=d$,Rue=lse,Iue=sue,HN=Cue,GN=xa,WN=g$,Lue=y$,Due=1,VN="[object Arguments]",XN="[object Array]",v1="[object Object]",Nue=Object.prototype,qN=Nue.hasOwnProperty;function kue(t,e,n,r,i,o){var a=GN(t),s=GN(e),l=a?XN:HN(t),u=s?XN:HN(e);l=l==VN?v1:l,u=u==VN?v1:u;var c=l==v1,f=u==v1,h=l==u;if(h&&WN(t)){if(!WN(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new ST),a||Lue(t)?Oue(t,e,n,r,i,o):Rue(t,e,l,n,r,i,o);if(!(n&Due)){var g=c&&qN.call(t,"__wrapped__"),v=f&&qN.call(e,"__wrapped__");if(g||v){var b=g?t.value():t,x=v?e.value():e;return o||(o=new ST),i(b,x,n,r,o)}}return h?(o||(o=new ST),Iue(t,e,n,r,i,o)):!1}var Uue=kue,Fue=Uue,YN=dc;function S$(t,e,n,r,i){return t===e?!0:t==null||e==null||!YN(t)&&!YN(e)?t!==t&&e!==e:Fue(t,e,n,r,S$,i)}var hI=S$,Bue=u$,zue=hI,jue=1,$ue=2;function Hue(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new Bue;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?zue(c,u,jue|$ue,r,f):h))return!1}}return!0}var Gue=Hue,Wue=Df;function Vue(t){return t===t&&!Wue(t)}var w$=Vue,Xue=w$,que=QM;function Yue(t){for(var e=que(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Xue(i)]}return e}var Kue=Yue;function Zue(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var M$=Zue,Jue=Gue,Que=Kue,ece=M$;function tce(t){var e=Que(t);return e.length==1&&e[0][2]?ece(e[0][0],e[0][1]):function(n){return n===t||Jue(n,t,e)}}var nce=tce;function rce(t,e){return t!=null&&e in Object(t)}var ice=rce,oce=Ij,ace=uI,sce=xa,lce=cI,uce=fI,cce=UM;function fce(t,e,n){e=oce(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=cce(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&uce(i)&&lce(a,i)&&(sce(t)||ace(t)))}var hce=fce,dce=ice,pce=hce;function mce(t,e){return t!=null&&pce(t,e,dce)}var gce=mce,vce=hI,yce=Lj,_ce=gce,xce=VR,bce=w$,Sce=M$,wce=UM,Mce=1,Ece=2;function Ace(t,e){return xce(t)&&bce(e)?Sce(wce(t),e):function(n){var r=yce(n,t);return r===void 0&&r===e?_ce(n,t):vce(e,r,Mce|Ece)}}var Tce=Ace;function Pce(t){return t}var kg=Pce;function Cce(t){return function(e){return e==null?void 0:e[t]}}var Oce=Cce,Rce=QR;function Ice(t){return function(e){return Rce(e,t)}}var Lce=Ice,Dce=Oce,Nce=Lce,kce=VR,Uce=UM;function Fce(t){return kce(t)?Dce(Uce(t)):Nce(t)}var Bce=Fce,zce=nce,jce=Tce,$ce=kg,Hce=xa,Gce=Bce;function Wce(t){return typeof t=="function"?t:t==null?$ce:typeof t=="object"?Hce(t)?jce(t[0],t[1]):zce(t):Gce(t)}var nu=Wce;function Vce(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var E$=Vce;function Xce(t){return t!==t}var qce=Xce;function Yce(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Kce=Yce,Zce=E$,Jce=qce,Qce=Kce;function efe(t,e,n){return e===e?Qce(t,e,n):Zce(t,Jce,n)}var tfe=efe,nfe=tfe;function rfe(t,e){var n=t==null?0:t.length;return!!n&&nfe(t,e,0)>-1}var ife=rfe;function ofe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var afe=ofe;function sfe(){}var lfe=sfe,wT=x$,ufe=lfe,cfe=lI,ffe=1/0,hfe=wT&&1/cfe(new wT([,-0]))[1]==ffe?function(t){return new wT(t)}:ufe,dfe=hfe,pfe=c$,mfe=ife,gfe=afe,vfe=h$,yfe=dfe,_fe=lI,xfe=200;function bfe(t,e,n){var r=-1,i=mfe,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=gfe;else if(o>=xfe){var u=e?null:yfe(t);if(u)return _fe(u);a=!1,i=vfe,l=new pfe}else l=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var Sfe=bfe,wfe=nu,Mfe=Sfe;function Efe(t,e){return t&&t.length?Mfe(t,wfe(e)):[]}var Afe=Efe;const KN=Nn(Afe);function A$(t,e,n){return e===!0?KN(t,n):Kt(e)?KN(t,e):t}function qm(t){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qm(t)}var Tfe=["ref"];function ZN(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Eu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(n),!0).forEach(function(r){eE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZN(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JN(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P$(r.key),r)}}function Cfe(t,e,n){return e&&JN(t.prototype,e),n&&JN(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ofe(t,e,n){return e=OS(e),Rfe(t,T$()?Reflect.construct(e,n||[],OS(t).constructor):e.apply(t,n))}function Rfe(t,e){if(e&&(qm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ife(t)}function Ife(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T$=function(){return!!t})()}function OS(t){return OS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},OS(t)}function Lfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cC(t,e)}function cC(t,e){return cC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cC(t,e)}function eE(t,e,n){return e=P$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P$(t){var e=Dfe(t,"string");return qm(e)=="symbol"?e:e+""}function Dfe(t,e){if(qm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nfe(t,e){if(t==null)return{};var n=kfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ufe(t){return t.value}function Ffe(t,e){if(le.isValidElement(t))return le.cloneElement(t,e);if(typeof t=="function")return le.createElement(t,e);e.ref;var n=Nfe(e,Tfe);return le.createElement(sI,n)}var QN=1,Nm=function(t){function e(){var n;Pfe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Ofe(this,e,[].concat(i)),eE(n,"lastBoundingBox",{width:-1,height:-1}),n}return Lfe(e,t),Cfe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>QN||Math.abs(i.height-this.lastBoundingBox.height)>QN)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Eu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var g=this.getBBoxSnapshot();f={left:((u||0)-g.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var v=this.getBBoxSnapshot();h={top:((c||0)-v.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return Eu(Eu({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=Eu(Eu({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return le.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(g){r.wrapperNode=g}},Ffe(o,Eu(Eu({},this.props),{},{payload:A$(c,u,Ufe)})))}}],[{key:"getWithHeight",value:function(r,i){var o=Eu(Eu({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&mt(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(oe.PureComponent);eE(Nm,"displayName","Legend");eE(Nm,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ek=E_,Bfe=uI,zfe=xa,tk=ek?ek.isConcatSpreadable:void 0;function jfe(t){return zfe(t)||Bfe(t)||!!(tk&&t&&t[tk])}var $fe=jfe,Hfe=p$,Gfe=$fe;function C$(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Gfe),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?C$(s,e-1,n,r,i):Hfe(i,s):r||(i[i.length]=s)}return i}var O$=C$;function Wfe(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var Vfe=Wfe,Xfe=Vfe,qfe=Xfe(),Yfe=qfe,Kfe=Yfe,Zfe=QM;function Jfe(t,e){return t&&Kfe(t,e,Zfe)}var R$=Jfe,Qfe=P_;function ehe(t,e){return function(n,r){if(n==null)return n;if(!Qfe(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var the=ehe,nhe=R$,rhe=the,ihe=rhe(nhe),dI=ihe,ohe=dI,ahe=P_;function she(t,e){var n=-1,r=ahe(t)?Array(t.length):[];return ohe(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var I$=she;function lhe(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var uhe=lhe,nk=Cg;function che(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=nk(t),a=e!==void 0,s=e===null,l=e===e,u=nk(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var fhe=che,hhe=fhe;function dhe(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=hhe(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var phe=dhe,MT=JR,mhe=QR,ghe=nu,vhe=I$,yhe=uhe,_he=v$,xhe=phe,bhe=kg,She=xa;function whe(t,e,n){e.length?e=MT(e,function(o){return She(o)?function(a){return mhe(a,o.length===1?o[0]:o)}:o}):e=[bhe];var r=-1;e=MT(e,_he(ghe));var i=vhe(t,function(o,a,s){var l=MT(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return yhe(i,function(o,a){return xhe(o,a,n)})}var Mhe=whe;function Ehe(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Ahe=Ehe,The=Ahe,rk=Math.max;function Phe(t,e,n){return e=rk(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=rk(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),The(t,this,s)}}var Che=Phe;function Ohe(t){return function(){return t}}var Rhe=Ohe,Ihe=$d,Lhe=function(){try{var t=Ihe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),L$=Lhe,Dhe=Rhe,ik=L$,Nhe=kg,khe=ik?function(t,e){return ik(t,"toString",{configurable:!0,enumerable:!1,value:Dhe(e),writable:!0})}:Nhe,Uhe=khe,Fhe=800,Bhe=16,zhe=Date.now;function jhe(t){var e=0,n=0;return function(){var r=zhe(),i=Bhe-(r-n);if(n=r,i>0){if(++e>=Fhe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var $he=jhe,Hhe=Uhe,Ghe=$he,Whe=Ghe(Hhe),Vhe=Whe,Xhe=kg,qhe=Che,Yhe=Vhe;function Khe(t,e){return Yhe(qhe(t,e,Xhe),t+"")}var Zhe=Khe,Jhe=qR,Qhe=P_,ede=cI,tde=Df;function nde(t,e,n){if(!tde(n))return!1;var r=typeof e;return(r=="number"?Qhe(n)&&ede(e,n.length):r=="string"&&e in n)?Jhe(n[e],t):!1}var tE=nde,rde=O$,ide=Mhe,ode=Zhe,ok=tE,ade=ode(function(t,e){if(t==null)return[];var n=e.length;return n>1&&ok(t,e[0],e[1])?e=[]:n>2&&ok(e[0],e[1],e[2])&&(e=[e[0]]),ide(t,rde(e,1),[])}),sde=ade;const pI=Nn(sde);function x0(t){"@babel/helpers - typeof";return x0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x0(t)}function fC(){return fC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fC.apply(this,arguments)}function lde(t,e){return hde(t)||fde(t,e)||cde(t,e)||ude()}function ude(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cde(t,e){if(t){if(typeof t=="string")return ak(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ak(t,e)}}function ak(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function hde(t){if(Array.isArray(t))return t}function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ET(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){dde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dde(t,e,n){return e=pde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pde(t){var e=mde(t,"string");return x0(e)=="symbol"?e:e+""}function mde(t,e){if(x0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(x0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gde(t){return Array.isArray(t)&&wi(t[0])&&wi(t[1])?t.join(" ~ "):t}var vde=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,g=e.wrapperClassName,v=e.labelClassName,b=e.label,x=e.labelFormatter,_=e.accessibilityLayer,S=_===void 0?!1:_,w=function(){if(c&&c.length){var U={padding:0,margin:0},z=(h?pI(c,h):c).map(function($,K){if($.type==="none")return null;var q=ET({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},s),Q=$.formatter||f||gde,F=$.value,j=$.name,X=F,H=j;if(Q&&X!=null&&H!=null){var Y=Q(F,j,$,K,c);if(Array.isArray(Y)){var se=lde(Y,2);X=se[0],H=se[1]}else X=Y}return le.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:q},wi(H)?le.createElement("span",{className:"recharts-tooltip-item-name"},H):null,wi(H)?le.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,le.createElement("span",{className:"recharts-tooltip-item-value"},X),le.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return le.createElement("ul",{className:"recharts-tooltip-item-list",style:U},z)}return null},E=ET({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),T=ET({margin:0},u),P=!Vt(b),I=P?b:"",O=an("recharts-default-tooltip",g),C=an("recharts-tooltip-label",v);P&&x&&c!==void 0&&c!==null&&(I=x(b,c));var L=S?{role:"status","aria-live":"assertive"}:{};return le.createElement("div",fC({className:O,style:E},L),le.createElement("p",{className:C,style:T},le.isValidElement(I)?I:"".concat(I)),w())};function b0(t){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b0(t)}function y1(t,e,n){return e=yde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yde(t){var e=_de(t,"string");return b0(e)=="symbol"?e:e+""}function _de(t,e){if(b0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(b0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wv="recharts-tooltip-wrapper",xde={visibility:"hidden"};function bde(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return an(Wv,y1(y1(y1(y1({},"".concat(Wv,"-right"),mt(n)&&e&&mt(e.x)&&n>=e.x),"".concat(Wv,"-left"),mt(n)&&e&&mt(e.x)&&n<e.x),"".concat(Wv,"-bottom"),mt(r)&&e&&mt(e.y)&&r>=e.y),"".concat(Wv,"-top"),mt(r)&&e&&mt(e.y)&&r<e.y))}function lk(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&mt(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?c:f;if(a[r]){var h=c,g=l[r];return h<g?Math.max(f,l[r]):Math.max(c,l[r])}var v=f+s,b=l[r]+u;return v>b?Math.max(c,l[r]):Math.max(f,l[r])}function Sde(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function wde(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=lk({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=lk({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=Sde({translateX:c,translateY:f,useTranslate3d:s})):u=xde,{cssProperties:u,cssClasses:bde({translateX:c,translateY:f,coordinate:n})}}function Ym(t){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ym(t)}function uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ck(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(n),!0).forEach(function(r){dC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ede(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N$(r.key),r)}}function Ade(t,e,n){return e&&Ede(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tde(t,e,n){return e=RS(e),Pde(t,D$()?Reflect.construct(e,n||[],RS(t).constructor):e.apply(t,n))}function Pde(t,e){if(e&&(Ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cde(t)}function Cde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function D$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(D$=function(){return!!t})()}function RS(t){return RS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},RS(t)}function Ode(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hC(t,e)}function hC(t,e){return hC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hC(t,e)}function dC(t,e,n){return e=N$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N$(t){var e=Rde(t,"string");return Ym(e)=="symbol"?e:e+""}function Rde(t,e){if(Ym(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fk=1,Ide=function(t){function e(){var n;Mde(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Tde(this,e,[].concat(i)),dC(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),dC(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return Ode(e,t),Ade(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>fk||Math.abs(r.height-this.state.lastBoundingBox.height)>fk)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,g=i.offset,v=i.position,b=i.reverseDirection,x=i.useTranslate3d,_=i.viewBox,S=i.wrapperStyle,w=wde({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:g,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:_}),E=w.cssClasses,T=w.cssProperties,P=ck(ck({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},T),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},S);return le.createElement("div",{tabIndex:-1,className:E,style:P,ref:function(O){r.wrapperNode=O}},u)}}])}(oe.PureComponent),Lde=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Ts={isSsr:Lde(),get:function(e){return Ts[e]},set:function(e,n){if(typeof e=="string")Ts[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Ts[i]=e[i]})}}};function Km(t){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Km(t)}function hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(n),!0).forEach(function(r){mI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,U$(r.key),r)}}function kde(t,e,n){return e&&Nde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ude(t,e,n){return e=IS(e),Fde(t,k$()?Reflect.construct(e,n||[],IS(t).constructor):e.apply(t,n))}function Fde(t,e){if(e&&(Km(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bde(t)}function Bde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function k$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(k$=function(){return!!t})()}function IS(t){return IS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},IS(t)}function zde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pC(t,e)}function pC(t,e){return pC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pC(t,e)}function mI(t,e,n){return e=U$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function U$(t){var e=jde(t,"string");return Km(e)=="symbol"?e:e+""}function jde(t,e){if(Km(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $de(t){return t.dataKey}function Hde(t,e){return le.isValidElement(t)?le.cloneElement(t,e):typeof t=="function"?le.createElement(t,e):le.createElement(vde,e)}var Du=function(t){function e(){return Dde(this,e),Ude(this,e,arguments)}return zde(e,t),kde(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,g=i.offset,v=i.payload,b=i.payloadUniqBy,x=i.position,_=i.reverseDirection,S=i.useTranslate3d,w=i.viewBox,E=i.wrapperStyle,T=v??[];f&&T.length&&(T=A$(v.filter(function(I){return I.value!=null&&(I.hide!==!0||r.props.includeHidden)}),b,$de));var P=T.length>0;return le.createElement(Ide,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:P,offset:g,position:x,reverseDirection:_,useTranslate3d:S,viewBox:w,wrapperStyle:E},Hde(u,dk(dk({},this.props),{},{payload:T})))}}])}(oe.PureComponent);mI(Du,"displayName","Tooltip");mI(Du,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Ts.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Gde=tu,Wde=function(){return Gde.Date.now()},Vde=Wde,Xde=/\s/;function qde(t){for(var e=t.length;e--&&Xde.test(t.charAt(e)););return e}var Yde=qde,Kde=Yde,Zde=/^\s+/;function Jde(t){return t&&t.slice(0,Kde(t)+1).replace(Zde,"")}var Qde=Jde,epe=Qde,pk=Df,tpe=Cg,mk=NaN,npe=/^[-+]0x[0-9a-f]+$/i,rpe=/^0b[01]+$/i,ipe=/^0o[0-7]+$/i,ope=parseInt;function ape(t){if(typeof t=="number")return t;if(tpe(t))return mk;if(pk(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=pk(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=epe(t);var n=rpe.test(t);return n||ipe.test(t)?ope(t.slice(2),n?2:8):npe.test(t)?mk:+t}var F$=ape,spe=Df,AT=Vde,gk=F$,lpe="Expected a function",upe=Math.max,cpe=Math.min;function fpe(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(lpe);e=gk(e)||0,spe(n)&&(c=!!n.leading,f="maxWait"in n,o=f?upe(gk(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function g(P){var I=r,O=i;return r=i=void 0,u=P,a=t.apply(O,I),a}function v(P){return u=P,s=setTimeout(_,e),c?g(P):a}function b(P){var I=P-l,O=P-u,C=e-I;return f?cpe(C,o-O):C}function x(P){var I=P-l,O=P-u;return l===void 0||I>=e||I<0||f&&O>=o}function _(){var P=AT();if(x(P))return S(P);s=setTimeout(_,b(P))}function S(P){return s=void 0,h&&r?g(P):(r=i=void 0,a)}function w(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function E(){return s===void 0?a:S(AT())}function T(){var P=AT(),I=x(P);if(r=arguments,i=this,l=P,I){if(s===void 0)return v(l);if(f)return clearTimeout(s),s=setTimeout(_,e),g(l)}return s===void 0&&(s=setTimeout(_,e)),a}return T.cancel=w,T.flush=E,T}var hpe=fpe,dpe=hpe,ppe=Df,mpe="Expected a function";function gpe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(mpe);return ppe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),dpe(t,e,{leading:r,maxWait:e,trailing:i})}var vpe=gpe;const B$=Nn(vpe);function S0(t){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(t)}function vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(n),!0).forEach(function(r){ype(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ype(t,e,n){return e=_pe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _pe(t){var e=xpe(t,"string");return S0(e)=="symbol"?e:e+""}function xpe(t,e){if(S0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(S0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bpe(t,e){return Epe(t)||Mpe(t,e)||wpe(t,e)||Spe()}function Spe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wpe(t,e){if(t){if(typeof t=="string")return yk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yk(t,e)}}function yk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Mpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Epe(t){if(Array.isArray(t))return t}var ake=oe.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,g=t.children,v=t.debounce,b=v===void 0?0:v,x=t.id,_=t.className,S=t.onResize,w=t.style,E=w===void 0?{}:w,T=oe.useRef(null),P=oe.useRef();P.current=S,oe.useImperativeHandle(e,function(){return Object.defineProperty(T.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),T.current},configurable:!0})});var I=oe.useState({containerWidth:i.width,containerHeight:i.height}),O=bpe(I,2),C=O[0],L=O[1],N=oe.useCallback(function(z,$){L(function(K){var q=Math.round(z),Q=Math.round($);return K.containerWidth===q&&K.containerHeight===Q?K:{containerWidth:q,containerHeight:Q}})},[]);oe.useEffect(function(){var z=function(j){var X,H=j[0].contentRect,Y=H.width,se=H.height;N(Y,se),(X=P.current)===null||X===void 0||X.call(P,Y,se)};b>0&&(z=B$(z,b,{trailing:!0,leading:!1}));var $=new ResizeObserver(z),K=T.current.getBoundingClientRect(),q=K.width,Q=K.height;return N(q,Q),$.observe(T.current),function(){$.disconnect()}},[N,b]);var U=oe.useMemo(function(){var z=C.containerWidth,$=C.containerHeight;if(z<0||$<0)return null;cl(id(a)||id(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),cl(!n||n>0,"The aspect(%s) must be greater than zero.",n);var K=id(a)?z:a,q=id(l)?$:l;n&&n>0&&(K?q=K/n:q&&(K=q*n),h&&q>h&&(q=h)),cl(K>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,q,a,l,c,f,n);var Q=!Array.isArray(g)&&Yu(g.type).endsWith("Chart");return le.Children.map(g,function(F){return le.isValidElement(F)?oe.cloneElement(F,_1({width:K,height:q},Q?{style:_1({height:"100%",width:"100%",maxHeight:q,maxWidth:K},F.props.style)}:{})):F})},[n,g,l,h,f,c,C,a]);return le.createElement("div",{id:x?"".concat(x):void 0,className:an("recharts-responsive-container",_),style:_1(_1({},E),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:T},U)}),nE=function(e){return null};nE.displayName="Cell";function w0(t){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w0(t)}function _k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(n),!0).forEach(function(r){Ape(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ape(t,e,n){return e=Tpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tpe(t){var e=Ppe(t,"string");return w0(e)=="symbol"?e:e+""}function Ppe(t,e){if(w0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(w0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Op={widthCache:{},cacheCount:0},Cpe=2e3,Ope={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},xk="recharts_measurement_span";function Rpe(t){var e=mC({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Iy=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ts.isSsr)return{width:0,height:0};var r=Rpe(n),i=JSON.stringify({text:e,copyStyle:r});if(Op.widthCache[i])return Op.widthCache[i];try{var o=document.getElementById(xk);o||(o=document.createElement("span"),o.setAttribute("id",xk),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=mC(mC({},Ope),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return Op.widthCache[i]=l,++Op.cacheCount>Cpe&&(Op.cacheCount=0,Op.widthCache={}),l}catch{return{width:0,height:0}}},Ipe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function M0(t){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M0(t)}function LS(t,e){return kpe(t)||Npe(t,e)||Dpe(t,e)||Lpe()}function Lpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dpe(t,e){if(t){if(typeof t=="string")return bk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bk(t,e)}}function bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Npe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function kpe(t){if(Array.isArray(t))return t}function Upe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Sk(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bpe(r.key),r)}}function Fpe(t,e,n){return e&&Sk(t.prototype,e),n&&Sk(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bpe(t){var e=zpe(t,"string");return M0(e)=="symbol"?e:e+""}function zpe(t,e){if(M0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(M0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var wk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Mk=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jpe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$pe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,z$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Hpe=Object.keys(z$),gm="NaN";function Gpe(t,e){return t*z$[e]}var x1=function(){function t(e,n){Upe(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!jpe.test(n)&&(this.num=NaN,this.unit=""),Hpe.includes(n)&&(this.num=Gpe(e,n),this.unit="px")}return Fpe(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=$pe.exec(n))!==null&&r!==void 0?r:[],o=LS(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function j$(t){if(t.includes(gm))return gm;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=wk.exec(e))!==null&&n!==void 0?n:[],i=LS(r,4),o=i[1],a=i[2],s=i[3],l=x1.parse(o??""),u=x1.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return gm;e=e.replace(wk,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=Mk.exec(e))!==null&&f!==void 0?f:[],g=LS(h,4),v=g[1],b=g[2],x=g[3],_=x1.parse(v??""),S=x1.parse(x??""),w=b==="+"?_.add(S):_.subtract(S);if(w.isNaN())return gm;e=e.replace(Mk,w.toString())}return e}var Ek=/\(([^()]*)\)/;function Wpe(t){for(var e=t;e.includes("(");){var n=Ek.exec(e),r=LS(n,2),i=r[1];e=e.replace(Ek,j$(i))}return e}function Vpe(t){var e=t.replace(/\s+/g,"");return e=Wpe(e),e=j$(e),e}function Xpe(t){try{return Vpe(t)}catch{return gm}}function TT(t){var e=Xpe(t.slice(5,-1));return e===gm?"":e}var qpe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Ype=["dx","dy","angle","className","breakAll"];function gC(){return gC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gC.apply(this,arguments)}function Ak(t,e){if(t==null)return{};var n=Kpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Kpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Tk(t,e){return eme(t)||Qpe(t,e)||Jpe(t,e)||Zpe()}function Zpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jpe(t,e){if(t){if(typeof t=="string")return Pk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pk(t,e)}}function Pk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function eme(t){if(Array.isArray(t))return t}var $$=/[ \f\n\r\t\v\u2028\u2029]+/,H$=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Vt(n)||(r?o=n.toString().split(""):o=n.toString().split($$));var a=o.map(function(l){return{word:l,width:Iy(l,i).width}}),s=r?0:Iy(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},tme=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=mt(a),f=s,h=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(q,Q){var F=Q.word,j=Q.width,X=q[q.length-1];if(X&&(i==null||o||X.width+j+r<Number(i)))X.words.push(F),X.width+=j+r;else{var H={words:[F],width:j};q.push(H)}return q},[])},g=h(n),v=function(K){return K.reduce(function(q,Q){return q.width>Q.width?q:Q})};if(!c)return g;for(var b="…",x=function(K){var q=f.slice(0,K),Q=H$({breakAll:u,style:l,children:q+b}).wordsWithComputedWidth,F=h(Q),j=F.length>a||v(F).width>Number(i);return[j,F]},_=0,S=f.length-1,w=0,E;_<=S&&w<=f.length-1;){var T=Math.floor((_+S)/2),P=T-1,I=x(P),O=Tk(I,2),C=O[0],L=O[1],N=x(T),U=Tk(N,1),z=U[0];if(!C&&!z&&(_=T+1),C&&z&&(S=T-1),!C&&z){E=L;break}w++}return E||g},Ck=function(e){var n=Vt(e)?[]:e.toString().split($$);return[{words:n}]},nme=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!Ts.isSsr){var l,u,c=H$({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return Ck(i);return tme({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return Ck(i)},Ok="#808080",Td=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,g=h===void 0?"start":h,v=e.verticalAnchor,b=v===void 0?"end":v,x=e.fill,_=x===void 0?Ok:x,S=Ak(e,qpe),w=oe.useMemo(function(){return nme({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:f,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,f,S.style,S.width]),E=S.dx,T=S.dy,P=S.angle,I=S.className,O=S.breakAll,C=Ak(S,Ype);if(!wi(r)||!wi(o))return null;var L=r+(mt(E)?E:0),N=o+(mt(T)?T:0),U;switch(b){case"start":U=TT("calc(".concat(u,")"));break;case"middle":U=TT("calc(".concat((w.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:U=TT("calc(".concat(w.length-1," * -").concat(s,")"));break}var z=[];if(f){var $=w[0].width,K=S.width;z.push("scale(".concat((mt(K)?K/$:1)/$,")"))}return P&&z.push("rotate(".concat(P,", ").concat(L,", ").concat(N,")")),z.length&&(C.transform=z.join(" ")),le.createElement("text",gC({},Nt(C,!0),{x:L,y:N,className:an("recharts-text",I),textAnchor:g,fill:_.includes("url")?Ok:_}),w.map(function(q,Q){var F=q.words.join(O?"":" ");return le.createElement("tspan",{x:L,dy:Q===0?U:s,key:"".concat(F,"-").concat(Q)},F)}))};function Mf(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function rme(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gI(t){let e,n,r;t.length!==2?(e=Mf,n=(s,l)=>Mf(t(s),l),r=(s,l)=>t(s)-l):(e=t===Mf||t===rme?t:ime,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function ime(){return 0}function G$(t){return t===null?NaN:+t}function*ome(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const ame=gI(Mf),C_=ame.right;gI(G$).center;class Rk extends Map{constructor(e,n=ume){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Ik(this,e))}has(e){return super.has(Ik(this,e))}set(e,n){return super.set(sme(this,e),n)}delete(e){return super.delete(lme(this,e))}}function Ik({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function sme({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function lme({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function ume(t){return t!==null&&typeof t=="object"?t.valueOf():t}function cme(t=Mf){if(t===Mf)return W$;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function W$(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const fme=Math.sqrt(50),hme=Math.sqrt(10),dme=Math.sqrt(2);function DS(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=fme?10:o>=hme?5:o>=dme?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?DS(t,e,n*2):[s,l,u]}function vC(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?DS(e,t,n):DS(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function yC(t,e,n){return e=+e,t=+t,n=+n,DS(t,e,n)[2]}function _C(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?yC(e,t,n):yC(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Lk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Dk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function V$(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?W$:cme(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),g=Math.max(n,Math.floor(e-u*f/l+h)),v=Math.min(r,Math.floor(e+(l-u)*f/l+h));V$(t,e,g,v,i)}const o=t[e];let a=n,s=r;for(Vv(t,n,e),i(t[r],o)>0&&Vv(t,n,r);a<s;){for(Vv(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Vv(t,n,s):(++s,Vv(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Vv(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function pme(t,e,n){if(t=Float64Array.from(ome(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Dk(t);if(e>=1)return Lk(t);var r,i=(r-1)*e,o=Math.floor(i),a=Lk(V$(t,o).subarray(0,o+1)),s=Dk(t.subarray(o+1));return a+(s-a)*(i-o)}}function mme(t,e,n=G$){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function gme(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Ls(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function pc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const xC=Symbol("implicit");function vI(){var t=new Rk,e=[],n=[],r=xC;function i(o){let a=t.get(o);if(a===void 0){if(r!==xC)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new Rk;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return vI(e,n).unknown(r)},Ls.apply(i,arguments),i}function E0(){var t=vI().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,g=i<r,v=g?i:r,b=g?r:i;o=(b-v)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),v+=(b-v-o*(h-l))*c,a=o*(1-l),s&&(v=Math.round(v),a=Math.round(a));var x=gme(h).map(function(_){return v+o*_});return n(g?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return E0(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},Ls.apply(f(),arguments)}function X$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return X$(e())},t}function Ly(){return X$(E0.apply(null,arguments).paddingInner(1))}function yI(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function q$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function O_(){}var A0=.7,NS=1/A0,km="\\s*([+-]?\\d+)\\s*",T0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Yl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",vme=/^#([0-9a-f]{3,8})$/,yme=new RegExp(`^rgb\\(${km},${km},${km}\\)$`),_me=new RegExp(`^rgb\\(${Yl},${Yl},${Yl}\\)$`),xme=new RegExp(`^rgba\\(${km},${km},${km},${T0}\\)$`),bme=new RegExp(`^rgba\\(${Yl},${Yl},${Yl},${T0}\\)$`),Sme=new RegExp(`^hsl\\(${T0},${Yl},${Yl}\\)$`),wme=new RegExp(`^hsla\\(${T0},${Yl},${Yl},${T0}\\)$`),Nk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yI(O_,P0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:kk,formatHex:kk,formatHex8:Mme,formatHsl:Eme,formatRgb:Uk,toString:Uk});function kk(){return this.rgb().formatHex()}function Mme(){return this.rgb().formatHex8()}function Eme(){return Y$(this).formatHsl()}function Uk(){return this.rgb().formatRgb()}function P0(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=vme.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Fk(e):n===3?new ma(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?b1(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?b1(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=yme.exec(t))?new ma(e[1],e[2],e[3],1):(e=_me.exec(t))?new ma(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=xme.exec(t))?b1(e[1],e[2],e[3],e[4]):(e=bme.exec(t))?b1(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Sme.exec(t))?jk(e[1],e[2]/100,e[3]/100,1):(e=wme.exec(t))?jk(e[1],e[2]/100,e[3]/100,e[4]):Nk.hasOwnProperty(t)?Fk(Nk[t]):t==="transparent"?new ma(NaN,NaN,NaN,0):null}function Fk(t){return new ma(t>>16&255,t>>8&255,t&255,1)}function b1(t,e,n,r){return r<=0&&(t=e=n=NaN),new ma(t,e,n,r)}function Ame(t){return t instanceof O_||(t=P0(t)),t?(t=t.rgb(),new ma(t.r,t.g,t.b,t.opacity)):new ma}function bC(t,e,n,r){return arguments.length===1?Ame(t):new ma(t,e,n,r??1)}function ma(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}yI(ma,bC,q$(O_,{brighter(t){return t=t==null?NS:Math.pow(NS,t),new ma(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?A0:Math.pow(A0,t),new ma(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ma(pd(this.r),pd(this.g),pd(this.b),kS(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Bk,formatHex:Bk,formatHex8:Tme,formatRgb:zk,toString:zk}));function Bk(){return`#${od(this.r)}${od(this.g)}${od(this.b)}`}function Tme(){return`#${od(this.r)}${od(this.g)}${od(this.b)}${od((isNaN(this.opacity)?1:this.opacity)*255)}`}function zk(){const t=kS(this.opacity);return`${t===1?"rgb(":"rgba("}${pd(this.r)}, ${pd(this.g)}, ${pd(this.b)}${t===1?")":`, ${t})`}`}function kS(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function pd(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function od(t){return t=pd(t),(t<16?"0":"")+t.toString(16)}function jk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new al(t,e,n,r)}function Y$(t){if(t instanceof al)return new al(t.h,t.s,t.l,t.opacity);if(t instanceof O_||(t=P0(t)),!t)return new al;if(t instanceof al)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new al(a,s,l,t.opacity)}function Pme(t,e,n,r){return arguments.length===1?Y$(t):new al(t,e,n,r??1)}function al(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}yI(al,Pme,q$(O_,{brighter(t){return t=t==null?NS:Math.pow(NS,t),new al(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?A0:Math.pow(A0,t),new al(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ma(PT(t>=240?t-240:t+120,i,r),PT(t,i,r),PT(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new al($k(this.h),S1(this.s),S1(this.l),kS(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=kS(this.opacity);return`${t===1?"hsl(":"hsla("}${$k(this.h)}, ${S1(this.s)*100}%, ${S1(this.l)*100}%${t===1?")":`, ${t})`}`}}));function $k(t){return t=(t||0)%360,t<0?t+360:t}function S1(t){return Math.max(0,Math.min(1,t||0))}function PT(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const _I=t=>()=>t;function Cme(t,e){return function(n){return t+n*e}}function Ome(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Rme(t){return(t=+t)==1?K$:function(e,n){return n-e?Ome(e,n,t):_I(isNaN(e)?n:e)}}function K$(t,e){var n=e-t;return n?Cme(t,n):_I(isNaN(t)?e:t)}const Hk=function t(e){var n=Rme(e);function r(i,o){var a=n((i=bC(i)).r,(o=bC(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=K$(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Ime(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function Lme(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Dme(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Ug(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function Nme(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function US(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function kme(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Ug(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var SC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,CT=new RegExp(SC.source,"g");function Ume(t){return function(){return t}}function Fme(t){return function(e){return t(e)+""}}function Bme(t,e){var n=SC.lastIndex=CT.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=SC.exec(t))&&(i=CT.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:US(r,i)})),n=CT.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?Fme(l[0].x):Ume(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Ug(t,e){var n=typeof e,r;return e==null||n==="boolean"?_I(e):(n==="number"?US:n==="string"?(r=P0(e))?(e=r,Hk):Bme:e instanceof P0?Hk:e instanceof Date?Nme:Lme(e)?Ime:Array.isArray(e)?Dme:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?kme:US)(t,e)}function xI(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function zme(t,e){e===void 0&&(e=t,t=Ug);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function jme(t){return function(){return t}}function FS(t){return+t}var Gk=[0,1];function qo(t){return t}function wC(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:jme(isNaN(e)?NaN:.5)}function $me(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Hme(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=wC(i,r),o=n(a,o)):(r=wC(r,i),o=n(o,a)),function(s){return o(r(s))}}function Gme(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=wC(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=C_(t,s,1,r)-1;return o[l](i[l](s))}}function R_(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function rE(){var t=Gk,e=Gk,n=Ug,r,i,o,a=qo,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==qo&&(a=$me(t[0],t[h-1])),s=h>2?Gme:Hme,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(e,t.map(r),US)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,FS),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=xI,c()},f.clamp=function(h){return arguments.length?(a=h?!0:qo,c()):a!==qo},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,g){return r=h,i=g,c()}}function bI(){return rE()(qo,qo)}function Wme(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function BS(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Zm(t){return t=BS(Math.abs(t)),t?t[1]:NaN}function Vme(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Xme(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var qme=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function C0(t){if(!(e=qme.exec(t)))throw new Error("invalid format: "+t);var e;return new SI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}C0.prototype=SI.prototype;function SI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}SI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Yme(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Z$;function Kme(t,e){var n=BS(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Z$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+BS(t,Math.max(0,e+o-1))[0]}function Wk(t,e){var n=BS(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Vk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Wme,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Wk(t*100,e),r:Wk,s:Kme,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Xk(t){return t}var qk=Array.prototype.map,Yk=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Zme(t){var e=t.grouping===void 0||t.thousands===void 0?Xk:Vme(qk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Xk:Xme(qk.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=C0(f);var h=f.fill,g=f.align,v=f.sign,b=f.symbol,x=f.zero,_=f.width,S=f.comma,w=f.precision,E=f.trim,T=f.type;T==="n"?(S=!0,T="g"):Vk[T]||(w===void 0&&(w=12),E=!0,T="g"),(x||h==="0"&&g==="=")&&(x=!0,h="0",g="=");var P=b==="$"?n:b==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",I=b==="$"?r:/[%p]/.test(T)?a:"",O=Vk[T],C=/[defgprs%]/.test(T);w=w===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function L(N){var U=P,z=I,$,K,q;if(T==="c")z=O(N)+z,N="";else{N=+N;var Q=N<0||1/N<0;if(N=isNaN(N)?l:O(Math.abs(N),w),E&&(N=Yme(N)),Q&&+N==0&&v!=="+"&&(Q=!1),U=(Q?v==="("?v:s:v==="-"||v==="("?"":v)+U,z=(T==="s"?Yk[8+Z$/3]:"")+z+(Q&&v==="("?")":""),C){for($=-1,K=N.length;++$<K;)if(q=N.charCodeAt($),48>q||q>57){z=(q===46?i+N.slice($+1):N.slice($))+z,N=N.slice(0,$);break}}}S&&!x&&(N=e(N,1/0));var F=U.length+N.length+z.length,j=F<_?new Array(_-F+1).join(h):"";switch(S&&x&&(N=e(j+N,j.length?_-z.length:1/0),j=""),g){case"<":N=U+N+z+j;break;case"=":N=U+j+N+z;break;case"^":N=j.slice(0,F=j.length>>1)+U+N+z+j.slice(F);break;default:N=j+U+N+z;break}return o(N)}return L.toString=function(){return f+""},L}function c(f,h){var g=u((f=C0(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(Zm(h)/3)))*3,b=Math.pow(10,-v),x=Yk[8+v/3];return function(_){return g(b*_)+x}}return{format:u,formatPrefix:c}}var w1,wI,J$;Jme({thousands:",",grouping:[3],currency:["$",""]});function Jme(t){return w1=Zme(t),wI=w1.format,J$=w1.formatPrefix,w1}function Qme(t){return Math.max(0,-Zm(Math.abs(t)))}function ege(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Zm(e)/3)))*3-Zm(Math.abs(t)))}function tge(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Zm(e)-Zm(t))+1}function Q$(t,e,n,r){var i=_C(t,e,n),o;switch(r=C0(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=ege(i,a))&&(r.precision=o),J$(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=tge(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Qme(i))&&(r.precision=o-(r.type==="%")*2);break}}return wI(r)}function Nf(t){var e=t.domain;return t.ticks=function(n){var r=e();return vC(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Q$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=yC(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function zS(){var t=bI();return t.copy=function(){return R_(t,zS())},Ls.apply(t,arguments),Nf(t)}function e8(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,FS),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return e8(t).unknown(e)},t=arguments.length?Array.from(t,FS):[0,1],Nf(n)}function t8(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Kk(t){return Math.log(t)}function Zk(t){return Math.exp(t)}function nge(t){return-Math.log(-t)}function rge(t){return-Math.exp(-t)}function ige(t){return isFinite(t)?+("1e"+t):t<0?0:t}function oge(t){return t===10?ige:t===Math.E?Math.exp:e=>Math.pow(t,e)}function age(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Jk(t){return(e,n)=>-t(-e,n)}function MI(t){const e=t(Kk,Zk),n=e.domain;let r=10,i,o;function a(){return i=age(r),o=oge(r),n()[0]<0?(i=Jk(i),o=Jk(o),t(nge,rge)):t(Kk,Zk),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),g=i(c),v,b;const x=s==null?10:+s;let _=[];if(!(r%1)&&g-h<x){if(h=Math.floor(h),g=Math.ceil(g),u>0){for(;h<=g;++h)for(v=1;v<r;++v)if(b=h<0?v/o(-h):v*o(h),!(b<u)){if(b>c)break;_.push(b)}}else for(;h<=g;++h)for(v=r-1;v>=1;--v)if(b=h>0?v/o(-h):v*o(h),!(b<u)){if(b>c)break;_.push(b)}_.length*2<x&&(_=vC(u,c,x))}else _=vC(h,g,Math.min(g-h,x)).map(o);return f?_.reverse():_},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=C0(l)).precision==null&&(l.trim=!0),l=wI(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(t8(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function n8(){const t=MI(rE()).domain([1,10]);return t.copy=()=>R_(t,n8()).base(t.base()),Ls.apply(t,arguments),t}function Qk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function eU(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function EI(t){var e=1,n=t(Qk(e),eU(e));return n.constant=function(r){return arguments.length?t(Qk(e=+r),eU(e)):e},Nf(n)}function r8(){var t=EI(rE());return t.copy=function(){return R_(t,r8()).constant(t.constant())},Ls.apply(t,arguments)}function tU(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function sge(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function lge(t){return t<0?-t*t:t*t}function AI(t){var e=t(qo,qo),n=1;function r(){return n===1?t(qo,qo):n===.5?t(sge,lge):t(tU(n),tU(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Nf(e)}function TI(){var t=AI(rE());return t.copy=function(){return R_(t,TI()).exponent(t.exponent())},Ls.apply(t,arguments),t}function uge(){return TI.apply(null,arguments).exponent(.5)}function nU(t){return Math.sign(t)*t*t}function cge(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function i8(){var t=bI(),e=[0,1],n=!1,r;function i(o){var a=cge(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(nU(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,FS)).map(nU)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return i8(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Ls.apply(i,arguments),Nf(i)}function o8(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=mme(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[C_(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Mf),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return o8().domain(t).range(e).unknown(r)},Ls.apply(o,arguments)}function a8(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[C_(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return a8().domain([t,e]).range(i).unknown(o)},Ls.apply(Nf(a),arguments)}function s8(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[C_(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return s8().domain(t).range(e).unknown(n)},Ls.apply(i,arguments)}const OT=new Date,RT=new Date;function Ai(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>Ai(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(OT.setTime(+o),RT.setTime(+a),t(OT),t(RT),Math.floor(n(OT,RT))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const jS=Ai(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);jS.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ai(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):jS);jS.range;const Hu=1e3,Ms=Hu*60,Gu=Ms*60,rc=Gu*24,PI=rc*7,rU=rc*30,IT=rc*365,ad=Ai(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Hu)},(t,e)=>(e-t)/Hu,t=>t.getUTCSeconds());ad.range;const CI=Ai(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Hu)},(t,e)=>{t.setTime(+t+e*Ms)},(t,e)=>(e-t)/Ms,t=>t.getMinutes());CI.range;const OI=Ai(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ms)},(t,e)=>(e-t)/Ms,t=>t.getUTCMinutes());OI.range;const RI=Ai(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Hu-t.getMinutes()*Ms)},(t,e)=>{t.setTime(+t+e*Gu)},(t,e)=>(e-t)/Gu,t=>t.getHours());RI.range;const II=Ai(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Gu)},(t,e)=>(e-t)/Gu,t=>t.getUTCHours());II.range;const I_=Ai(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ms)/rc,t=>t.getDate()-1);I_.range;const iE=Ai(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/rc,t=>t.getUTCDate()-1);iE.range;const l8=Ai(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/rc,t=>Math.floor(t/rc));l8.range;function Gd(t){return Ai(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ms)/PI)}const oE=Gd(0),$S=Gd(1),fge=Gd(2),hge=Gd(3),Jm=Gd(4),dge=Gd(5),pge=Gd(6);oE.range;$S.range;fge.range;hge.range;Jm.range;dge.range;pge.range;function Wd(t){return Ai(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/PI)}const aE=Wd(0),HS=Wd(1),mge=Wd(2),gge=Wd(3),Qm=Wd(4),vge=Wd(5),yge=Wd(6);aE.range;HS.range;mge.range;gge.range;Qm.range;vge.range;yge.range;const LI=Ai(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());LI.range;const DI=Ai(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());DI.range;const ic=Ai(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ic.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ai(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ic.range;const oc=Ai(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());oc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ai(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});oc.range;function u8(t,e,n,r,i,o){const a=[[ad,1,Hu],[ad,5,5*Hu],[ad,15,15*Hu],[ad,30,30*Hu],[o,1,Ms],[o,5,5*Ms],[o,15,15*Ms],[o,30,30*Ms],[i,1,Gu],[i,3,3*Gu],[i,6,6*Gu],[i,12,12*Gu],[r,1,rc],[r,2,2*rc],[n,1,PI],[e,1,rU],[e,3,3*rU],[t,1,IT]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const g=f&&typeof f.range=="function"?f:l(u,c,f),v=g?g.range(u,+c+1):[];return h?v.reverse():v}function l(u,c,f){const h=Math.abs(c-u)/f,g=gI(([,,x])=>x).right(a,h);if(g===a.length)return t.every(_C(u/IT,c/IT,f));if(g===0)return jS.every(Math.max(_C(u,c,f),1));const[v,b]=a[h/a[g-1][2]<a[g][2]/h?g-1:g];return v.every(b)}return[s,l]}const[_ge,xge]=u8(oc,DI,aE,l8,II,OI),[bge,Sge]=u8(ic,LI,oE,I_,RI,CI);function LT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function DT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Xv(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function wge(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=qv(i),c=Yv(i),f=qv(o),h=Yv(o),g=qv(a),v=Yv(a),b=qv(s),x=Yv(s),_=qv(l),S=Yv(l),w={a:Q,A:F,b:j,B:X,c:null,d:uU,e:uU,f:Vge,g:nve,G:ive,H:Hge,I:Gge,j:Wge,L:c8,m:Xge,M:qge,p:H,q:Y,Q:hU,s:dU,S:Yge,u:Kge,U:Zge,V:Jge,w:Qge,W:eve,x:null,X:null,y:tve,Y:rve,Z:ove,"%":fU},E={a:se,A:re,b:ie,B:ge,c:null,d:cU,e:cU,f:uve,g:_ve,G:bve,H:ave,I:sve,j:lve,L:h8,m:cve,M:fve,p:de,q:be,Q:hU,s:dU,S:hve,u:dve,U:pve,V:mve,w:gve,W:vve,x:null,X:null,y:yve,Y:xve,Z:Sve,"%":fU},T={a:L,A:N,b:U,B:z,c:$,d:sU,e:sU,f:Bge,g:aU,G:oU,H:lU,I:lU,j:Nge,L:Fge,m:Dge,M:kge,p:C,q:Lge,Q:jge,s:$ge,S:Uge,u:Pge,U:Cge,V:Oge,w:Tge,W:Rge,x:K,X:q,y:aU,Y:oU,Z:Ige,"%":zge};w.x=P(n,w),w.X=P(r,w),w.c=P(e,w),E.x=P(n,E),E.X=P(r,E),E.c=P(e,E);function P(fe,Te){return function(Se){var ee=[],we=-1,Z=0,Ie=fe.length,xe,Ne,Ee;for(Se instanceof Date||(Se=new Date(+Se));++we<Ie;)fe.charCodeAt(we)===37&&(ee.push(fe.slice(Z,we)),(Ne=iU[xe=fe.charAt(++we)])!=null?xe=fe.charAt(++we):Ne=xe==="e"?" ":"0",(Ee=Te[xe])&&(xe=Ee(Se,Ne)),ee.push(xe),Z=we+1);return ee.push(fe.slice(Z,we)),ee.join("")}}function I(fe,Te){return function(Se){var ee=Xv(1900,void 0,1),we=O(ee,fe,Se+="",0),Z,Ie;if(we!=Se.length)return null;if("Q"in ee)return new Date(ee.Q);if("s"in ee)return new Date(ee.s*1e3+("L"in ee?ee.L:0));if(Te&&!("Z"in ee)&&(ee.Z=0),"p"in ee&&(ee.H=ee.H%12+ee.p*12),ee.m===void 0&&(ee.m="q"in ee?ee.q:0),"V"in ee){if(ee.V<1||ee.V>53)return null;"w"in ee||(ee.w=1),"Z"in ee?(Z=DT(Xv(ee.y,0,1)),Ie=Z.getUTCDay(),Z=Ie>4||Ie===0?HS.ceil(Z):HS(Z),Z=iE.offset(Z,(ee.V-1)*7),ee.y=Z.getUTCFullYear(),ee.m=Z.getUTCMonth(),ee.d=Z.getUTCDate()+(ee.w+6)%7):(Z=LT(Xv(ee.y,0,1)),Ie=Z.getDay(),Z=Ie>4||Ie===0?$S.ceil(Z):$S(Z),Z=I_.offset(Z,(ee.V-1)*7),ee.y=Z.getFullYear(),ee.m=Z.getMonth(),ee.d=Z.getDate()+(ee.w+6)%7)}else("W"in ee||"U"in ee)&&("w"in ee||(ee.w="u"in ee?ee.u%7:"W"in ee?1:0),Ie="Z"in ee?DT(Xv(ee.y,0,1)).getUTCDay():LT(Xv(ee.y,0,1)).getDay(),ee.m=0,ee.d="W"in ee?(ee.w+6)%7+ee.W*7-(Ie+5)%7:ee.w+ee.U*7-(Ie+6)%7);return"Z"in ee?(ee.H+=ee.Z/100|0,ee.M+=ee.Z%100,DT(ee)):LT(ee)}}function O(fe,Te,Se,ee){for(var we=0,Z=Te.length,Ie=Se.length,xe,Ne;we<Z;){if(ee>=Ie)return-1;if(xe=Te.charCodeAt(we++),xe===37){if(xe=Te.charAt(we++),Ne=T[xe in iU?Te.charAt(we++):xe],!Ne||(ee=Ne(fe,Se,ee))<0)return-1}else if(xe!=Se.charCodeAt(ee++))return-1}return ee}function C(fe,Te,Se){var ee=u.exec(Te.slice(Se));return ee?(fe.p=c.get(ee[0].toLowerCase()),Se+ee[0].length):-1}function L(fe,Te,Se){var ee=g.exec(Te.slice(Se));return ee?(fe.w=v.get(ee[0].toLowerCase()),Se+ee[0].length):-1}function N(fe,Te,Se){var ee=f.exec(Te.slice(Se));return ee?(fe.w=h.get(ee[0].toLowerCase()),Se+ee[0].length):-1}function U(fe,Te,Se){var ee=_.exec(Te.slice(Se));return ee?(fe.m=S.get(ee[0].toLowerCase()),Se+ee[0].length):-1}function z(fe,Te,Se){var ee=b.exec(Te.slice(Se));return ee?(fe.m=x.get(ee[0].toLowerCase()),Se+ee[0].length):-1}function $(fe,Te,Se){return O(fe,e,Te,Se)}function K(fe,Te,Se){return O(fe,n,Te,Se)}function q(fe,Te,Se){return O(fe,r,Te,Se)}function Q(fe){return a[fe.getDay()]}function F(fe){return o[fe.getDay()]}function j(fe){return l[fe.getMonth()]}function X(fe){return s[fe.getMonth()]}function H(fe){return i[+(fe.getHours()>=12)]}function Y(fe){return 1+~~(fe.getMonth()/3)}function se(fe){return a[fe.getUTCDay()]}function re(fe){return o[fe.getUTCDay()]}function ie(fe){return l[fe.getUTCMonth()]}function ge(fe){return s[fe.getUTCMonth()]}function de(fe){return i[+(fe.getUTCHours()>=12)]}function be(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Te=P(fe+="",w);return Te.toString=function(){return fe},Te},parse:function(fe){var Te=I(fe+="",!1);return Te.toString=function(){return fe},Te},utcFormat:function(fe){var Te=P(fe+="",E);return Te.toString=function(){return fe},Te},utcParse:function(fe){var Te=I(fe+="",!0);return Te.toString=function(){return fe},Te}}}var iU={"-":"",_:" ",0:"0"},Xi=/^\s*\d+/,Mge=/^%/,Ege=/[\\^$*+?|[\]().{}]/g;function zn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Age(t){return t.replace(Ege,"\\$&")}function qv(t){return new RegExp("^(?:"+t.map(Age).join("|")+")","i")}function Yv(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Tge(t,e,n){var r=Xi.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Pge(t,e,n){var r=Xi.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Cge(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Oge(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Rge(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function oU(t,e,n){var r=Xi.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function aU(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ige(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Lge(t,e,n){var r=Xi.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Dge(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function sU(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Nge(t,e,n){var r=Xi.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function lU(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function kge(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Uge(t,e,n){var r=Xi.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Fge(t,e,n){var r=Xi.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Bge(t,e,n){var r=Xi.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function zge(t,e,n){var r=Mge.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function jge(t,e,n){var r=Xi.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function $ge(t,e,n){var r=Xi.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function uU(t,e){return zn(t.getDate(),e,2)}function Hge(t,e){return zn(t.getHours(),e,2)}function Gge(t,e){return zn(t.getHours()%12||12,e,2)}function Wge(t,e){return zn(1+I_.count(ic(t),t),e,3)}function c8(t,e){return zn(t.getMilliseconds(),e,3)}function Vge(t,e){return c8(t,e)+"000"}function Xge(t,e){return zn(t.getMonth()+1,e,2)}function qge(t,e){return zn(t.getMinutes(),e,2)}function Yge(t,e){return zn(t.getSeconds(),e,2)}function Kge(t){var e=t.getDay();return e===0?7:e}function Zge(t,e){return zn(oE.count(ic(t)-1,t),e,2)}function f8(t){var e=t.getDay();return e>=4||e===0?Jm(t):Jm.ceil(t)}function Jge(t,e){return t=f8(t),zn(Jm.count(ic(t),t)+(ic(t).getDay()===4),e,2)}function Qge(t){return t.getDay()}function eve(t,e){return zn($S.count(ic(t)-1,t),e,2)}function tve(t,e){return zn(t.getFullYear()%100,e,2)}function nve(t,e){return t=f8(t),zn(t.getFullYear()%100,e,2)}function rve(t,e){return zn(t.getFullYear()%1e4,e,4)}function ive(t,e){var n=t.getDay();return t=n>=4||n===0?Jm(t):Jm.ceil(t),zn(t.getFullYear()%1e4,e,4)}function ove(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+zn(e/60|0,"0",2)+zn(e%60,"0",2)}function cU(t,e){return zn(t.getUTCDate(),e,2)}function ave(t,e){return zn(t.getUTCHours(),e,2)}function sve(t,e){return zn(t.getUTCHours()%12||12,e,2)}function lve(t,e){return zn(1+iE.count(oc(t),t),e,3)}function h8(t,e){return zn(t.getUTCMilliseconds(),e,3)}function uve(t,e){return h8(t,e)+"000"}function cve(t,e){return zn(t.getUTCMonth()+1,e,2)}function fve(t,e){return zn(t.getUTCMinutes(),e,2)}function hve(t,e){return zn(t.getUTCSeconds(),e,2)}function dve(t){var e=t.getUTCDay();return e===0?7:e}function pve(t,e){return zn(aE.count(oc(t)-1,t),e,2)}function d8(t){var e=t.getUTCDay();return e>=4||e===0?Qm(t):Qm.ceil(t)}function mve(t,e){return t=d8(t),zn(Qm.count(oc(t),t)+(oc(t).getUTCDay()===4),e,2)}function gve(t){return t.getUTCDay()}function vve(t,e){return zn(HS.count(oc(t)-1,t),e,2)}function yve(t,e){return zn(t.getUTCFullYear()%100,e,2)}function _ve(t,e){return t=d8(t),zn(t.getUTCFullYear()%100,e,2)}function xve(t,e){return zn(t.getUTCFullYear()%1e4,e,4)}function bve(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Qm(t):Qm.ceil(t),zn(t.getUTCFullYear()%1e4,e,4)}function Sve(){return"+0000"}function fU(){return"%"}function hU(t){return+t}function dU(t){return Math.floor(+t/1e3)}var Rp,p8,m8;wve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function wve(t){return Rp=wge(t),p8=Rp.format,Rp.parse,m8=Rp.utcFormat,Rp.utcParse,Rp}function Mve(t){return new Date(t)}function Eve(t){return t instanceof Date?+t:+new Date(+t)}function NI(t,e,n,r,i,o,a,s,l,u){var c=bI(),f=c.invert,h=c.domain,g=u(".%L"),v=u(":%S"),b=u("%I:%M"),x=u("%I %p"),_=u("%a %d"),S=u("%b %d"),w=u("%B"),E=u("%Y");function T(P){return(l(P)<P?g:s(P)<P?v:a(P)<P?b:o(P)<P?x:r(P)<P?i(P)<P?_:S:n(P)<P?w:E)(P)}return c.invert=function(P){return new Date(f(P))},c.domain=function(P){return arguments.length?h(Array.from(P,Eve)):h().map(Mve)},c.ticks=function(P){var I=h();return t(I[0],I[I.length-1],P??10)},c.tickFormat=function(P,I){return I==null?T:u(I)},c.nice=function(P){var I=h();return(!P||typeof P.range!="function")&&(P=e(I[0],I[I.length-1],P??10)),P?h(t8(I,P)):c},c.copy=function(){return R_(c,NI(t,e,n,r,i,o,a,s,l,u))},c}function Ave(){return Ls.apply(NI(bge,Sge,ic,LI,oE,I_,RI,CI,ad,p8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Tve(){return Ls.apply(NI(_ge,xge,oc,DI,aE,iE,II,OI,ad,m8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sE(){var t=0,e=1,n,r,i,o,a=qo,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(h){var g,v;return arguments.length?([g,v]=h,a=f(g,v),u):[a(0),a(1)]}}return u.range=c(Ug),u.rangeRound=c(xI),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function kf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function g8(){var t=Nf(sE()(qo));return t.copy=function(){return kf(t,g8())},pc.apply(t,arguments)}function v8(){var t=MI(sE()).domain([1,10]);return t.copy=function(){return kf(t,v8()).base(t.base())},pc.apply(t,arguments)}function y8(){var t=EI(sE());return t.copy=function(){return kf(t,y8()).constant(t.constant())},pc.apply(t,arguments)}function kI(){var t=AI(sE());return t.copy=function(){return kf(t,kI()).exponent(t.exponent())},pc.apply(t,arguments)}function Pve(){return kI.apply(null,arguments).exponent(.5)}function _8(){var t=[],e=qo;function n(r){if(r!=null&&!isNaN(r=+r))return e((C_(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Mf),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>pme(t,o/r))},n.copy=function(){return _8(e).domain(t)},pc.apply(n,arguments)}function lE(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=qo,c,f=!1,h;function g(b){return isNaN(b=+b)?h:(b=.5+((b=+c(b))-o)*(r*b<r*o?s:l),u(f?Math.max(0,Math.min(1,b)):b))}g.domain=function(b){return arguments.length?([t,e,n]=b,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g):[t,e,n]},g.clamp=function(b){return arguments.length?(f=!!b,g):f},g.interpolator=function(b){return arguments.length?(u=b,g):u};function v(b){return function(x){var _,S,w;return arguments.length?([_,S,w]=x,u=zme(b,[_,S,w]),g):[u(0),u(.5),u(1)]}}return g.range=v(Ug),g.rangeRound=v(xI),g.unknown=function(b){return arguments.length?(h=b,g):h},function(b){return c=b,i=b(t),o=b(e),a=b(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,g}}function x8(){var t=Nf(lE()(qo));return t.copy=function(){return kf(t,x8())},pc.apply(t,arguments)}function b8(){var t=MI(lE()).domain([.1,1,10]);return t.copy=function(){return kf(t,b8()).base(t.base())},pc.apply(t,arguments)}function S8(){var t=EI(lE());return t.copy=function(){return kf(t,S8()).constant(t.constant())},pc.apply(t,arguments)}function UI(){var t=AI(lE());return t.copy=function(){return kf(t,UI()).exponent(t.exponent())},pc.apply(t,arguments)}function Cve(){return UI.apply(null,arguments).exponent(.5)}const pU=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:E0,scaleDiverging:x8,scaleDivergingLog:b8,scaleDivergingPow:UI,scaleDivergingSqrt:Cve,scaleDivergingSymlog:S8,scaleIdentity:e8,scaleImplicit:xC,scaleLinear:zS,scaleLog:n8,scaleOrdinal:vI,scalePoint:Ly,scalePow:TI,scaleQuantile:o8,scaleQuantize:a8,scaleRadial:i8,scaleSequential:g8,scaleSequentialLog:v8,scaleSequentialPow:kI,scaleSequentialQuantile:_8,scaleSequentialSqrt:Pve,scaleSequentialSymlog:y8,scaleSqrt:uge,scaleSymlog:r8,scaleThreshold:s8,scaleTime:Ave,scaleUtc:Tve,tickFormat:Q$},Symbol.toStringTag,{value:"Module"}));var Ove=Cg;function Rve(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!Ove(a):n(a,s)))var s=a,l=o}return l}var uE=Rve;function Ive(t,e){return t>e}var w8=Ive,Lve=uE,Dve=w8,Nve=kg;function kve(t){return t&&t.length?Lve(t,Nve,Dve):void 0}var Uve=kve;const cE=Nn(Uve);function Fve(t,e){return t<e}var M8=Fve,Bve=uE,zve=M8,jve=kg;function $ve(t){return t&&t.length?Bve(t,jve,zve):void 0}var Hve=$ve;const fE=Nn(Hve);var Gve=JR,Wve=nu,Vve=I$,Xve=xa;function qve(t,e){var n=Xve(t)?Gve:Vve;return n(t,Wve(e))}var Yve=qve,Kve=O$,Zve=Yve;function Jve(t,e){return Kve(Zve(t,e),1)}var Qve=Jve;const eye=Nn(Qve);var tye=hI;function nye(t,e){return tye(t,e)}var rye=nye;const Vd=Nn(rye);var Fg=1e9,iye={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},BI,Mr=!0,Os="[DecimalError] ",md=Os+"Invalid argument: ",FI=Os+"Exponent out of range: ",Bg=Math.floor,qh=Math.pow,oye=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Wa,Hi=1e7,vr=7,E8=9007199254740991,GS=Bg(E8/vr),Ot={};Ot.absoluteValue=Ot.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ot.comparedTo=Ot.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};Ot.decimalPlaces=Ot.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*vr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ot.dividedBy=Ot.div=function(t){return Ku(this,new this.constructor(t))};Ot.dividedToIntegerBy=Ot.idiv=function(t){var e=this,n=e.constructor;return ar(Ku(e,new n(t),0,1),n.precision)};Ot.equals=Ot.eq=function(t){return!this.cmp(t)};Ot.exponent=function(){return mi(this)};Ot.greaterThan=Ot.gt=function(t){return this.cmp(t)>0};Ot.greaterThanOrEqualTo=Ot.gte=function(t){return this.cmp(t)>=0};Ot.isInteger=Ot.isint=function(){return this.e>this.d.length-2};Ot.isNegative=Ot.isneg=function(){return this.s<0};Ot.isPositive=Ot.ispos=function(){return this.s>0};Ot.isZero=function(){return this.s===0};Ot.lessThan=Ot.lt=function(t){return this.cmp(t)<0};Ot.lessThanOrEqualTo=Ot.lte=function(t){return this.cmp(t)<1};Ot.logarithm=Ot.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Wa))throw Error(Os+"NaN");if(n.s<1)throw Error(Os+(n.s?"NaN":"-Infinity"));return n.eq(Wa)?new r(0):(Mr=!1,e=Ku(O0(n,o),O0(t,o),o),Mr=!0,ar(e,i))};Ot.minus=Ot.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?P8(e,t):A8(e,(t.s=-t.s,t))};Ot.modulo=Ot.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Os+"NaN");return n.s?(Mr=!1,e=Ku(n,t,0,1).times(t),Mr=!0,n.minus(e)):ar(new r(n),i)};Ot.naturalExponential=Ot.exp=function(){return T8(this)};Ot.naturalLogarithm=Ot.ln=function(){return O0(this)};Ot.negated=Ot.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ot.plus=Ot.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?A8(e,t):P8(e,(t.s=-t.s,t))};Ot.precision=Ot.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(md+t);if(e=mi(i)+1,r=i.d.length-1,n=r*vr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ot.squareRoot=Ot.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Os+"NaN")}for(t=mi(s),Mr=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Gl(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Bg((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(Ku(s,o,a+2)).times(.5),Gl(o.d).slice(0,a)===(e=Gl(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(ar(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return Mr=!0,ar(r,n)};Ot.times=Ot.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,h=c.d,g=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=g.length,l<u&&(o=h,h=g,g=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+g[r]*h[i-r-1]+e,o[i--]=s%Hi|0,e=s/Hi|0;o[i]=(o[i]+e)%Hi|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Mr?ar(t,f.precision):t};Ot.toDecimalPlaces=Ot.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(eu(t,0,Fg),e===void 0?e=r.rounding:eu(e,0,8),ar(n,t+mi(n)+1,e))};Ot.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Pd(r,!0):(eu(t,0,Fg),e===void 0?e=i.rounding:eu(e,0,8),r=ar(new i(r),t+1,e),n=Pd(r,!0,t+1)),n};Ot.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Pd(i):(eu(t,0,Fg),e===void 0?e=o.rounding:eu(e,0,8),r=ar(new o(i),t+mi(i)+1,e),n=Pd(r.abs(),!1,t+mi(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ot.toInteger=Ot.toint=function(){var t=this,e=t.constructor;return ar(new e(t),mi(t)+1,e.rounding)};Ot.toNumber=function(){return+this};Ot.toPower=Ot.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Wa);if(s=new l(s),!s.s){if(t.s<1)throw Error(Os+"Infinity");return s}if(s.eq(Wa))return s;if(r=l.precision,t.eq(Wa))return ar(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=E8){for(i=new l(Wa),e=Math.ceil(r/vr+4),Mr=!1;n%2&&(i=i.times(s),gU(i.d,e)),n=Bg(n/2),n!==0;)s=s.times(s),gU(s.d,e);return Mr=!0,t.s<0?new l(Wa).div(i):ar(i,r)}}else if(o<0)throw Error(Os+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Mr=!1,i=t.times(O0(s,r+u)),Mr=!0,i=T8(i),i.s=o,i};Ot.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=mi(i),r=Pd(i,n<=o.toExpNeg||n>=o.toExpPos)):(eu(t,1,Fg),e===void 0?e=o.rounding:eu(e,0,8),i=ar(new o(i),t,e),n=mi(i),r=Pd(i,t<=n||n<=o.toExpNeg,t)),r};Ot.toSignificantDigits=Ot.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(eu(t,1,Fg),e===void 0?e=r.rounding:eu(e,0,8)),ar(new r(n),t,e)};Ot.toString=Ot.valueOf=Ot.val=Ot.toJSON=Ot[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=mi(t),n=t.constructor;return Pd(t,e<=n.toExpNeg||e>=n.toExpPos)};function A8(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Mr?ar(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/vr),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Hi|0,l[o]%=Hi;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Mr?ar(e,f):e}function eu(t,e,n){if(t!==~~t||t<e||t>n)throw Error(md+t)}function Gl(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=vr-r.length,n&&(o+=of(n)),o+=r;a=t[e],r=a+"",n=vr-r.length,n&&(o+=of(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var Ku=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Hi|0,a=o/Hi|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Hi+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,h,g,v,b,x,_,S,w,E,T,P,I,O,C=r.constructor,L=r.s==i.s?1:-1,N=r.d,U=i.d;if(!r.s)return new C(r);if(!i.s)throw Error(Os+"Division by zero");for(l=r.e-i.e,I=U.length,T=N.length,g=new C(L),v=g.d=[],u=0;U[u]==(N[u]||0);)++u;if(U[u]>(N[u]||0)&&--l,o==null?S=o=C.precision:a?S=o+(mi(r)-mi(i))+1:S=o,S<0)return new C(0);if(S=S/vr+2|0,u=0,I==1)for(c=0,U=U[0],S++;(u<T||c)&&S--;u++)w=c*Hi+(N[u]||0),v[u]=w/U|0,c=w%U|0;else{for(c=Hi/(U[0]+1)|0,c>1&&(U=t(U,c),N=t(N,c),I=U.length,T=N.length),E=I,b=N.slice(0,I),x=b.length;x<I;)b[x++]=0;O=U.slice(),O.unshift(0),P=U[0],U[1]>=Hi/2&&++P;do c=0,s=e(U,b,I,x),s<0?(_=b[0],I!=x&&(_=_*Hi+(b[1]||0)),c=_/P|0,c>1?(c>=Hi&&(c=Hi-1),f=t(U,c),h=f.length,x=b.length,s=e(f,b,h,x),s==1&&(c--,n(f,I<h?O:U,h))):(c==0&&(s=c=1),f=U.slice()),h=f.length,h<x&&f.unshift(0),n(b,f,x),s==-1&&(x=b.length,s=e(U,b,I,x),s<1&&(c++,n(b,I<x?O:U,x))),x=b.length):s===0&&(c++,b=[0]),v[u++]=c,s&&b[0]?b[x++]=N[E]||0:(b=[N[E]],x=1);while((E++<T||b[0]!==void 0)&&S--)}return v[0]||v.shift(),g.e=l,ar(g,a?o+mi(g)+1:o)}}();function T8(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,f=c.precision;if(mi(t)>16)throw Error(FI+mi(t));if(!t.s)return new c(Wa);for(e==null?(Mr=!1,s=f):s=e,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(qh(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Wa),c.precision=s;;){if(i=ar(i.times(t),s),n=n.times(++l),a=o.plus(Ku(i,n,s)),Gl(a.d).slice(0,s)===Gl(o.d).slice(0,s)){for(;u--;)o=ar(o.times(o),s);return c.precision=f,e==null?(Mr=!0,ar(o,f)):o}o=a}}function mi(t){for(var e=t.e*vr,n=t.d[0];n>=10;n/=10)e++;return e}function NT(t,e,n){if(e>t.LN10.sd())throw Mr=!0,n&&(t.precision=n),Error(Os+"LN10 precision limit exceeded");return ar(new t(t.LN10),e)}function of(t){for(var e="";t--;)e+="0";return e}function O0(t,e){var n,r,i,o,a,s,l,u,c,f=1,h=10,g=t,v=g.d,b=g.constructor,x=b.precision;if(g.s<1)throw Error(Os+(g.s?"NaN":"-Infinity"));if(g.eq(Wa))return new b(0);if(e==null?(Mr=!1,u=x):u=e,g.eq(10))return e==null&&(Mr=!0),NT(b,u);if(u+=h,b.precision=u,n=Gl(v),r=n.charAt(0),o=mi(g),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)g=g.times(t),n=Gl(g.d),r=n.charAt(0),f++;o=mi(g),r>1?(g=new b("0."+n),o++):g=new b(r+"."+n.slice(1))}else return l=NT(b,u+2,x).times(o+""),g=O0(new b(r+"."+n.slice(1)),u-h).plus(l),b.precision=x,e==null?(Mr=!0,ar(g,x)):g;for(s=a=g=Ku(g.minus(Wa),g.plus(Wa),u),c=ar(g.times(g),u),i=3;;){if(a=ar(a.times(c),u),l=s.plus(Ku(a,new b(i),u)),Gl(l.d).slice(0,u)===Gl(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(NT(b,u+2,x).times(o+""))),s=Ku(s,new b(f),u),b.precision=x,e==null?(Mr=!0,ar(s,x)):s;s=l,i+=2}}function mU(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Bg(n/vr),t.d=[],r=(n+1)%vr,n<0&&(r+=vr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=vr;r<i;)t.d.push(+e.slice(r,r+=vr));e=e.slice(r),r=vr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Mr&&(t.e>GS||t.e<-GS))throw Error(FI+n)}else t.s=0,t.e=0,t.d=[0];return t}function ar(t,e,n){var r,i,o,a,s,l,u,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=vr,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/vr),o=f.length,c>=o)return t;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=vr,i=r-vr+a}if(n!==void 0&&(o=qh(10,a-i-1),s=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/qh(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=mi(t),f.length=1,e=e-o-1,f[0]=qh(10,(vr-e%vr)%vr),t.e=Bg(-e/vr)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=qh(10,vr-r),f[c]=i>0?(u/qh(10,a-i)%qh(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Hi&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Hi)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(Mr&&(t.e>GS||t.e<-GS))throw Error(FI+mi(t));return t}function P8(t,e){var n,r,i,o,a,s,l,u,c,f,h=t.constructor,g=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Mr?ar(e,g):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(g/vr),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Hi-1;--l[o],l[i]+=Hi}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Mr?ar(e,g):e):new h(0)}function Pd(t,e,n){var r,i=mi(t),o=Gl(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+of(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+of(-i-1)+o,n&&(r=n-a)>0&&(o+=of(r))):i>=a?(o+=of(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+of(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=of(r))),t.s<0?"-"+o:o}function gU(t,e){if(t.length>e)return t.length=e,!0}function C8(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(md+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return mU(a,o.toString())}else if(typeof o!="string")throw Error(md+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,oye.test(o))mU(a,o);else throw Error(md+o)}if(i.prototype=Ot,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=C8,i.config=i.set=aye,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function aye(t){if(!t||typeof t!="object")throw Error(Os+"Object expected");var e,n,r,i=["precision",1,Fg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Bg(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(md+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(md+n+": "+r);return this}var BI=C8(iye);Wa=new BI(1);const er=BI;function sye(t){return fye(t)||cye(t)||uye(t)||lye()}function lye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uye(t,e){if(t){if(typeof t=="string")return MC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MC(t,e)}}function cye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function fye(t){if(Array.isArray(t))return MC(t)}function MC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hye=function(e){return e},O8={"@@functional/placeholder":!0},R8=function(e){return e===O8},vU=function(e){return function n(){return arguments.length===0||arguments.length===1&&R8(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},dye=function t(e,n){return e===1?n:vU(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==O8}).length;return a>=e?n.apply(void 0,i):t(e-a,vU(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return R8(f)?l.shift():f});return n.apply(void 0,sye(c).concat(l))}))})},hE=function(e){return dye(e.length,e)},EC=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},pye=hE(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),mye=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return hye;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},AC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},I8=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function gye(t){var e;return t===0?e=1:e=Math.floor(new er(t).abs().log(10).toNumber())+1,e}function vye(t,e,n){for(var r=new er(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var yye=hE(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),_ye=hE(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),xye=hE(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const dE={rangeStep:vye,getDigitCount:gye,interpolateNumber:yye,uninterpolateNumber:_ye,uninterpolateTruncation:xye};function TC(t){return wye(t)||Sye(t)||L8(t)||bye()}function bye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sye(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function wye(t){if(Array.isArray(t))return PC(t)}function R0(t,e){return Aye(t)||Eye(t,e)||L8(t,e)||Mye()}function Mye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L8(t,e){if(t){if(typeof t=="string")return PC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PC(t,e)}}function PC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eye(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function Aye(t){if(Array.isArray(t))return t}function D8(t){var e=R0(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function N8(t,e,n){if(t.lte(0))return new er(0);var r=dE.getDigitCount(t.toNumber()),i=new er(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new er(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new er(Math.ceil(l))}function Tye(t,e,n){var r=1,i=new er(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new er(10).pow(dE.getDigitCount(t)-1),i=new er(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new er(Math.floor(t)))}else t===0?i=new er(Math.floor((e-1)/2)):n||(i=new er(Math.floor(t)));var a=Math.floor((e-1)/2),s=mye(pye(function(l){return i.add(new er(l-a).mul(r)).toNumber()}),EC);return s(0,e)}function k8(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new er(0),tickMin:new er(0),tickMax:new er(0)};var o=N8(new er(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new er(0):(a=new er(t).add(e).div(2),a=a.sub(new er(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new er(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?k8(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new er(s).mul(o)),tickMax:a.add(new er(l).mul(o))})}function Pye(t){var e=R0(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=D8([n,r]),l=R0(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(TC(EC(0,i-1).map(function(){return 1/0}))):[].concat(TC(EC(0,i-1).map(function(){return-1/0})),[c]);return n>r?AC(f):f}if(u===c)return Tye(u,i,o);var h=k8(u,c,a,o),g=h.step,v=h.tickMin,b=h.tickMax,x=dE.rangeStep(v,b.add(new er(.1).mul(g)),g);return n>r?AC(x):x}function Cye(t,e){var n=R0(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=D8([r,i]),s=R0(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=N8(new er(u).sub(l).div(c-1),o,0),h=[].concat(TC(dE.rangeStep(new er(l),new er(u).sub(new er(.99).mul(f)),f)),[u]);return r>i?AC(h):h}var Oye=I8(Pye),Rye=I8(Cye),Iye="Invariant failed";function Cd(t,e){throw new Error(Iye)}var Lye=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function eg(t){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eg(t)}function WS(){return WS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WS.apply(this,arguments)}function Dye(t,e){return Fye(t)||Uye(t,e)||kye(t,e)||Nye()}function Nye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kye(t,e){if(t){if(typeof t=="string")return yU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yU(t,e)}}function yU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Fye(t){if(Array.isArray(t))return t}function Bye(t,e){if(t==null)return{};var n=zye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $ye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,B8(r.key),r)}}function Hye(t,e,n){return e&&$ye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gye(t,e,n){return e=VS(e),Wye(t,U8()?Reflect.construct(e,n||[],VS(t).constructor):e.apply(t,n))}function Wye(t,e){if(e&&(eg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vye(t)}function Vye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U8(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(U8=function(){return!!t})()}function VS(t){return VS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},VS(t)}function Xye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CC(t,e)}function CC(t,e){return CC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},CC(t,e)}function F8(t,e,n){return e=B8(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function B8(t){var e=qye(t,"string");return eg(e)=="symbol"?e:e+""}function qye(t,e){if(eg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zg=function(t){function e(){return jye(this,e),Gye(this,e,arguments)}return Xye(e,t),Hye(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=Bye(r,Lye),g=Nt(h,!1);this.props.direction==="x"&&c.type!=="number"&&Cd();var v=l.map(function(b){var x=u(b,s),_=x.x,S=x.y,w=x.value,E=x.errorVal;if(!E)return null;var T=[],P,I;if(Array.isArray(E)){var O=Dye(E,2);P=O[0],I=O[1]}else P=I=E;if(o==="vertical"){var C=c.scale,L=S+i,N=L+a,U=L-a,z=C(w-P),$=C(w+I);T.push({x1:$,y1:N,x2:$,y2:U}),T.push({x1:z,y1:L,x2:$,y2:L}),T.push({x1:z,y1:N,x2:z,y2:U})}else if(o==="horizontal"){var K=f.scale,q=_+i,Q=q-a,F=q+a,j=K(w-P),X=K(w+I);T.push({x1:Q,y1:X,x2:F,y2:X}),T.push({x1:q,y1:j,x2:q,y2:X}),T.push({x1:Q,y1:j,x2:F,y2:j})}return le.createElement(wn,WS({className:"recharts-errorBar",key:"bar-".concat(T.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},g),T.map(function(H){return le.createElement("line",WS({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return le.createElement(wn,{className:"recharts-errorBars"},v)}}])}(le.Component);F8(zg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});F8(zg,"displayName","ErrorBar");function I0(t){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I0(t)}function _U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Th(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_U(Object(n),!0).forEach(function(r){Yye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_U(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yye(t,e,n){return e=Kye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kye(t){var e=Zye(t,"string");return I0(e)=="symbol"?e:e+""}function Zye(t,e){if(I0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(I0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z8=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Ga(n,Nm);if(!a)return null;var s=Nm.defaultProps,l=s!==void 0?Th(Th({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,g=f.props,v=g.sectors||g.data||[];return c.concat(v.map(function(b){return{type:a.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,g=h!==void 0?Th(Th({},h),f.props):{},v=g.dataKey,b=g.name,x=g.legendType,_=g.hide;return{inactive:_,dataKey:v,type:l.iconType||x||"square",color:zI(f),value:b||v,payload:g}}),Th(Th(Th({},l),Nm.getWithHeight(a,i)),{},{payload:u,item:a})};function L0(t){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(t)}function xU(t){return t0e(t)||e0e(t)||Qye(t)||Jye()}function Jye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qye(t,e){if(t){if(typeof t=="string")return OC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OC(t,e)}}function e0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t0e(t){if(Array.isArray(t))return OC(t)}function OC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bU(Object(n),!0).forEach(function(r){Um(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Um(t,e,n){return e=n0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n0e(t){var e=r0e(t,"string");return L0(e)=="symbol"?e:e+""}function r0e(t,e){if(L0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(L0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yr(t,e,n){return Vt(t)||Vt(e)?n:wi(e)?qa(t,e,n):Kt(e)?e(t):n}function Dy(t,e,n,r){var i=eye(t,function(s){return yr(s,e)});if(n==="number"){var o=i.filter(function(s){return mt(s)||parseFloat(s)});return o.length?[fE(o),cE(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Vt(s)}):i;return a.map(function(s){return wi(s)||s instanceof Date?s:""})}var i0e=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,g=void 0;if(Vo(f-c)!==Vo(h-f)){var v=[];if(Vo(h-f)===Vo(l[1]-l[0])){g=h;var b=f+l[1]-l[0];v[0]=Math.min(b,(b+c)/2),v[1]=Math.max(b,(b+c)/2)}else{g=c;var x=h+l[1]-l[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var _=[Math.min(f,(g+f)/2),Math.max(f,(g+f)/2)];if(e>_[0]&&e<=_[1]||e>=v[0]&&e<=v[1]){a=i[u].index;break}}else{var S=Math.min(c,h),w=Math.max(c,h);if(e>(S+f)/2&&e<=(w+f)/2){a=i[u].index;break}}}else for(var E=0;E<s;E++)if(E===0&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E>0&&E<s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2&&e<=(r[E].coordinate+r[E+1].coordinate)/2||E===s-1&&e>(r[E].coordinate+r[E-1].coordinate)/2){a=r[E].index;break}return a},zI=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Wr(Wr({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},o0e=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),h=0,g=f.length;h<g;h++){var v=c[f[h]],b=v.items,x=v.cateAxisId,_=b.filter(function(I){return Yu(I.type).indexOf("Bar")>=0});if(_&&_.length){var S=_[0].type.defaultProps,w=S!==void 0?Wr(Wr({},S),_[0].props):_[0].props,E=w.barSize,T=w[x];a[T]||(a[T]=[]);var P=Vt(E)?n:E;a[T].push({item:_[0],stackList:_.slice(1),barSize:Vt(P)?void 0:Xo(P,r,0)})}}return a},a0e=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Xo(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,g=i/l,v=a.reduce(function(E,T){return E+T.barSize||0},0);v+=(l-1)*u,v>=i&&(v-=(l-1)*u,u=0),v>=i&&g>0&&(h=!0,g*=.9,v=l*g);var b=(i-v)/2>>0,x={offset:b-u,size:0};c=a.reduce(function(E,T){var P={item:T.item,position:{offset:x.offset+x.size+u,size:h?g:T.barSize}},I=[].concat(xU(E),[P]);return x=I[I.length-1].position,T.stackList&&T.stackList.length&&T.stackList.forEach(function(O){I.push({item:O,position:x})}),I},f)}else{var _=Xo(r,i,0,!0);i-2*_-(l-1)*u<=0&&(u=0);var S=(i-2*_-(l-1)*u)/l;S>1&&(S>>=0);var w=s===+s?Math.min(S,s):S;c=a.reduce(function(E,T,P){var I=[].concat(xU(E),[{item:T.item,position:{offset:_+(S+u)*P+(S-w)/2,size:w}}]);return T.stackList&&T.stackList.length&&T.stackList.forEach(function(O){I.push({item:O,position:I[I.length-1].position})}),I},f)}return c},s0e=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=z8({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,g=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&g!=="center"&&mt(e[g]))return Wr(Wr({},e),{},Um({},g,e[g]+(f||0)));if((b==="horizontal"||b==="vertical"&&g==="center")&&v!=="middle"&&mt(e[v]))return Wr(Wr({},e),{},Um({},v,e[v]+(h||0)))}return e},l0e=function(e,n,r){return Vt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},j8=function(e,n,r,i,o){var a=n.props.children,s=Ko(a,zg).filter(function(u){return l0e(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=yr(c,r);if(Vt(f))return u;var h=Array.isArray(f)?[fE(f),cE(f)]:[f,f],g=l.reduce(function(v,b){var x=yr(c,b,0),_=h[0]-Math.abs(Array.isArray(x)?x[0]:x),S=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(_,v[0]),Math.max(S,v[1])]},[1/0,-1/0]);return[Math.min(g[0],u[0]),Math.max(g[1],u[1])]},[1/0,-1/0])}return null},u0e=function(e,n,r,i,o){var a=n.map(function(s){return j8(e,s,r,o,i)}).filter(function(s){return!Vt(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},$8=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&j8(e,l,u,i)||Dy(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},H8=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},G8=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},Wu=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?Vo(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!T_(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},kT=new WeakMap,M1=function(e,n){if(typeof n!="function")return e;kT.has(e)||kT.set(e,new WeakMap);var r=kT.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},W8=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:E0(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:zS(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Ly(),realScaleType:"point"}:o==="category"?{scale:E0(),realScaleType:"band"}:{scale:zS(),realScaleType:"linear"};if(A_(i)){var l="scale".concat(qM(i));return{scale:(pU[l]||Ly)(),realScaleType:pU[l]?l:"point"}}return Kt(i)?{scale:i}:{scale:Ly(),realScaleType:"point"}},SU=1e-4,V8=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-SU,a=Math.max(i[0],i[1])+SU,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},c0e=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},f0e=function(e,n){if(!n||n.length!==2||!mt(n[0])||!mt(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!mt(e[0])||e[0]<r)&&(o[0]=r),(!mt(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},h0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=T_(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},d0e=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=T_(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},p0e={sign:h0e,expand:Loe,none:Vm,silhouette:Doe,wiggle:Noe,positive:d0e},m0e=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=p0e[r],a=Ioe().keys(i).value(function(s,l){return+yr(s,l,0)}).order(tC).offset(o);return a(e)},g0e=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,h){var g,v=(g=h.type)!==null&&g!==void 0&&g.defaultProps?Wr(Wr({},h.type.defaultProps),h.props):h.props,b=v.stackId,x=v.hide;if(x)return f;var _=v[r],S=f[_]||{hasStack:!1,stackGroups:{}};if(wi(b)){var w=S.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};w.items.push(h),S.hasStack=!0,S.stackGroups[b]=w}else S.stackGroups[Hd("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Wr(Wr({},f),{},Um({},_,S))},l),c={};return Object.keys(u).reduce(function(f,h){var g=u[h];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(b,x){var _=g.stackGroups[x];return Wr(Wr({},b),{},Um({},x,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:m0e(e,_.items,o)}))},v)}return Wr(Wr({},f),{},Um({},h,g))},c)},X8=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Oye(u,o,s);return e.domain([fE(c),cE(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),h=Rye(f,o,s);return{niceTicks:h}}return null};function XS(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,o=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Vt(i[e.dataKey])){var s=_S(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[o]?n[o].coordinate+r/2:null}var l=yr(i,Vt(a)?e.dataKey:a);return Vt(l)?null:e.scale(l)}var wU=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=yr(a,n.dataKey,n.domain[s]);return Vt(l)?null:n.scale(l)-o/2+i},v0e=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},y0e=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Wr(Wr({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(wi(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},_0e=function(e){return e.reduce(function(n,r){return[fE(r.concat([n[0]]).filter(mt)),cE(r.concat([n[1]]).filter(mt))]},[1/0,-1/0])},q8=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var f=_0e(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},MU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,EU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,RC=function(e,n,r){if(Kt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(mt(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(MU.test(e[0])){var o=+MU.exec(e[0])[1];i[0]=n[0]-o}else Kt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(mt(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(EU.test(e[1])){var a=+EU.exec(e[1])[1];i[1]=n[1]+a}else Kt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},qS=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=pI(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},AU=function(e,n,r){return!e||!e.length||Vd(e,qa(r,"type.defaultProps.domain"))?n:e},Y8=function(e,n){var r=e.type.defaultProps?Wr(Wr({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Wr(Wr({},Nt(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:zI(e),value:yr(n,i),type:l,payload:n,chartType:u,hide:c})};function D0(t){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(t)}function TU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TU(Object(n),!0).forEach(function(r){K8(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function K8(t,e,n){return e=x0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x0e(t){var e=b0e(t,"string");return D0(e)=="symbol"?e:e+""}function b0e(t,e){if(D0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(D0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function S0e(t,e){return A0e(t)||E0e(t,e)||M0e(t,e)||w0e()}function w0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M0e(t,e){if(t){if(typeof t=="string")return PU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PU(t,e)}}function PU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E0e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function A0e(t){if(Array.isArray(t))return t}var YS=Math.PI/180,T0e=function(e){return e*180/Math.PI},Gn=function(e,n,r,i){return{x:e+Math.cos(-YS*i)*r,y:n+Math.sin(-YS*i)*r}},Z8=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},J8=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.startAngle,u=e.endAngle,c=Xo(e.cx,a,a/2),f=Xo(e.cy,s,s/2),h=Z8(a,s,r),g=Xo(e.innerRadius,h,0),v=Xo(e.outerRadius,h,h*.8),b=Object.keys(n);return b.reduce(function(x,_){var S=n[_],w=S.domain,E=S.reversed,T;if(Vt(S.range))i==="angleAxis"?T=[l,u]:i==="radiusAxis"&&(T=[g,v]),E&&(T=[T[1],T[0]]);else{T=S.range;var P=T,I=S0e(P,2);l=I[0],u=I[1]}var O=W8(S,o),C=O.realScaleType,L=O.scale;L.domain(w).range(T),V8(L);var N=X8(L,Nu(Nu({},S),{},{realScaleType:C})),U=Nu(Nu(Nu({},S),N),{},{range:T,radius:v,realScaleType:C,scale:L,cx:c,cy:f,innerRadius:g,outerRadius:v,startAngle:l,endAngle:u});return Nu(Nu({},x),{},K8({},_,U))},{})},P0e=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},C0e=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=P0e({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:T0e(u),angleInRadian:u}},O0e=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},R0e=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},CU=function(e,n){var r=e.x,i=e.y,o=C0e({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=O0e(n),f=c.startAngle,h=c.endAngle,g=s,v;if(f<=h){for(;g>h;)g-=360;for(;g<f;)g+=360;v=g>=f&&g<=h}else{for(;g>f;)g-=360;for(;g<h;)g+=360;v=g>=h&&g<=f}return v?Nu(Nu({},n),{},{radius:a,angle:R0e(g,n)}):null},Q8=function(e){return!oe.isValidElement(e)&&!Kt(e)&&typeof e!="boolean"?e.className:""};function N0(t){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(t)}var I0e=["offset"];function L0e(t){return U0e(t)||k0e(t)||N0e(t)||D0e()}function D0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N0e(t,e){if(t){if(typeof t=="string")return IC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IC(t,e)}}function k0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function U0e(t){if(Array.isArray(t))return IC(t)}function IC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function F0e(t,e){if(t==null)return{};var n=B0e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function B0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function OU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OU(Object(n),!0).forEach(function(r){z0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function z0e(t,e,n){return e=j0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j0e(t){var e=$0e(t,"string");return N0(e)=="symbol"?e:e+""}function $0e(t,e){if(N0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(N0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function k0(){return k0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k0.apply(this,arguments)}var H0e=function(e){var n=e.value,r=e.formatter,i=Vt(e.children)?n:e.children;return Kt(r)?r(i):i},G0e=function(e,n){var r=Vo(n-e),i=Math.min(Math.abs(n-e),360);return r*i},W0e=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,g=l.startAngle,v=l.endAngle,b=l.clockWise,x=(f+h)/2,_=G0e(g,v),S=_>=0?1:-1,w,E;i==="insideStart"?(w=g+S*a,E=b):i==="insideEnd"?(w=v-S*a,E=!b):i==="end"&&(w=v+S*a,E=b),E=_<=0?E:!E;var T=Gn(u,c,x,w),P=Gn(u,c,x,w+(E?1:-1)*359),I="M".concat(T.x,",").concat(T.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(E?0:1,`,
    `).concat(P.x,",").concat(P.y),O=Vt(e.id)?Hd("recharts-radial-line-"):e.id;return le.createElement("text",k0({},r,{dominantBaseline:"central",className:an("recharts-radial-bar-label",s)}),le.createElement("defs",null,le.createElement("path",{id:O,d:I})),le.createElement("textPath",{xlinkHref:"#".concat(O)},n))},V0e=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var g=Gn(a,s,u+r,h),v=g.x,b=g.y;return{x:v,y:b,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,_=Gn(a,s,x,h),S=_.x,w=_.y;return{x:S,y:w,textAnchor:"middle",verticalAnchor:"middle"}},X0e=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,h=f*i,g=f>0?"end":"start",v=f>0?"start":"end",b=u>=0?1:-1,x=b*i,_=b>0?"end":"start",S=b>0?"start":"end";if(o==="top"){var w={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:g};return xi(xi({},w),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var E={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:v};return xi(xi({},E),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var T={x:s-x,y:l+c/2,textAnchor:_,verticalAnchor:"middle"};return xi(xi({},T),r?{width:Math.max(T.x-r.x,0),height:c}:{})}if(o==="right"){var P={x:s+u+x,y:l+c/2,textAnchor:S,verticalAnchor:"middle"};return xi(xi({},P),r?{width:Math.max(r.x+r.width-P.x,0),height:c}:{})}var I=r?{width:u,height:c}:{};return o==="insideLeft"?xi({x:s+x,y:l+c/2,textAnchor:S,verticalAnchor:"middle"},I):o==="insideRight"?xi({x:s+u-x,y:l+c/2,textAnchor:_,verticalAnchor:"middle"},I):o==="insideTop"?xi({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:v},I):o==="insideBottom"?xi({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:g},I):o==="insideTopLeft"?xi({x:s+x,y:l+h,textAnchor:S,verticalAnchor:v},I):o==="insideTopRight"?xi({x:s+u-x,y:l+h,textAnchor:_,verticalAnchor:v},I):o==="insideBottomLeft"?xi({x:s+x,y:l+c-h,textAnchor:S,verticalAnchor:g},I):o==="insideBottomRight"?xi({x:s+u-x,y:l+c-h,textAnchor:_,verticalAnchor:g},I):Og(o)&&(mt(o.x)||id(o.x))&&(mt(o.y)||id(o.y))?xi({x:s+Xo(o.x,u),y:l+Xo(o.y,c),textAnchor:"end",verticalAnchor:"end"},I):xi({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},I)},q0e=function(e){return"cx"in e&&mt(e.cx)};function Wi(t){var e=t.offset,n=e===void 0?5:e,r=F0e(t,I0e),i=xi({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||Vt(s)&&Vt(l)&&!oe.isValidElement(u)&&!Kt(u))return null;if(oe.isValidElement(u))return oe.cloneElement(u,i);var g;if(Kt(u)){if(g=oe.createElement(u,i),oe.isValidElement(g))return g}else g=H0e(i);var v=q0e(o),b=Nt(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return W0e(i,g,b);var x=v?V0e(i):X0e(i);return le.createElement(Td,k0({className:an("recharts-label",f)},b,x,{breakAll:h}),g)}Wi.displayName="Label";var eH=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,g=e.top,v=e.left,b=e.width,x=e.height,_=e.clockWise,S=e.labelViewBox;if(S)return S;if(mt(b)&&mt(x)){if(mt(f)&&mt(h))return{x:f,y:h,width:b,height:x};if(mt(g)&&mt(v))return{x:g,y:v,width:b,height:x}}return mt(f)&&mt(h)?{x:f,y:h,width:0,height:0}:mt(n)&&mt(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:_}:e.viewBox?e.viewBox:{}},Y0e=function(e,n){return e?e===!0?le.createElement(Wi,{key:"label-implicit",viewBox:n}):wi(e)?le.createElement(Wi,{key:"label-implicit",viewBox:n,value:e}):oe.isValidElement(e)?e.type===Wi?oe.cloneElement(e,{key:"label-implicit",viewBox:n}):le.createElement(Wi,{key:"label-implicit",content:e,viewBox:n}):Kt(e)?le.createElement(Wi,{key:"label-implicit",content:e,viewBox:n}):Og(e)?le.createElement(Wi,k0({viewBox:n},e,{key:"label-implicit"})):null:null},K0e=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=eH(e),a=Ko(i,Wi).map(function(l,u){return oe.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=Y0e(e.label,n||o);return[s].concat(L0e(a))};Wi.parseViewBox=eH;Wi.renderCallByParent=K0e;function Z0e(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var J0e=Z0e;const tH=Nn(J0e);function U0(t){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0(t)}var Q0e=["valueAccessor"],e_e=["data","dataKey","clockWise","id","textBreakAll"];function t_e(t){return o_e(t)||i_e(t)||r_e(t)||n_e()}function n_e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function r_e(t,e){if(t){if(typeof t=="string")return LC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return LC(t,e)}}function i_e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function o_e(t){if(Array.isArray(t))return LC(t)}function LC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KS(){return KS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},KS.apply(this,arguments)}function RU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function IU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RU(Object(n),!0).forEach(function(r){a_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function a_e(t,e,n){return e=s_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s_e(t){var e=l_e(t,"string");return U0(e)=="symbol"?e:e+""}function l_e(t,e){if(U0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(U0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LU(t,e){if(t==null)return{};var n=u_e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var c_e=function(e){return Array.isArray(e.value)?tH(e.value):e.value};function fl(t){var e=t.valueAccessor,n=e===void 0?c_e:e,r=LU(t,Q0e),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=LU(r,e_e);return!i||!i.length?null:le.createElement(wn,{className:"recharts-label-list"},i.map(function(c,f){var h=Vt(o)?n(c,f):yr(c&&c.payload,o),g=Vt(s)?{}:{id:"".concat(s,"-").concat(f)};return le.createElement(Wi,KS({},Nt(c,!0),u,g,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:Wi.parseViewBox(Vt(a)?c:IU(IU({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}fl.displayName="LabelList";function f_e(t,e){return t?t===!0?le.createElement(fl,{key:"labelList-implicit",data:e}):le.isValidElement(t)||Kt(t)?le.createElement(fl,{key:"labelList-implicit",data:e,content:t}):Og(t)?le.createElement(fl,KS({data:e},t,{key:"labelList-implicit"})):null:null}function h_e(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Ko(r,fl).map(function(a,s){return oe.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=f_e(t.label,e);return[o].concat(t_e(i))}fl.renderCallByParent=h_e;function F0(t){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F0(t)}function DC(){return DC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},DC.apply(this,arguments)}function DU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DU(Object(n),!0).forEach(function(r){d_e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d_e(t,e,n){return e=p_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p_e(t){var e=m_e(t,"string");return F0(e)=="symbol"?e:e+""}function m_e(t,e){if(F0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(F0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var g_e=function(e,n){var r=Vo(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},E1=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/YS,h=u?o:o+a*f,g=Gn(n,r,c,h),v=Gn(n,r,i,h),b=u?o-a*f:o,x=Gn(n,r,c*Math.cos(f*YS),b);return{center:g,circleTangency:v,lineTangency:x,theta:f}},nH=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=g_e(a,s),u=a+l,c=Gn(n,r,o,a),f=Gn(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var g=Gn(n,r,i,a),v=Gn(n,r,i,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(g.x,",").concat(g.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},v_e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Vo(c-u),h=E1({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),g=h.circleTangency,v=h.lineTangency,b=h.theta,x=E1({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),_=x.circleTangency,S=x.lineTangency,w=x.theta,E=l?Math.abs(u-c):Math.abs(u-c)-b-w;if(E<0)return s?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):nH({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var T="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(E>180),",").concat(+(f<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,`
  `);if(i>0){var P=E1({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),I=P.circleTangency,O=P.lineTangency,C=P.theta,L=E1({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),N=L.circleTangency,U=L.lineTangency,z=L.theta,$=l?Math.abs(u-c):Math.abs(u-c)-C-z;if($<0&&a===0)return"".concat(T,"L").concat(n,",").concat(r,"Z");T+="L".concat(U.x,",").concat(U.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
      A`).concat(i,",").concat(i,",0,").concat(+($>180),",").concat(+(f>0),",").concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,"Z")}else T+="L".concat(n,",").concat(r,"Z");return T},y_e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rH=function(e){var n=NU(NU({},y_e),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(a<o||c===f)return null;var g=an("recharts-sector",h),v=a-o,b=Xo(s,v,0,!0),x;return b>0&&Math.abs(c-f)<360?x=v_e({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):x=nH({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),le.createElement("path",DC({},Nt(n,!0),{className:g,d:x,role:"img"}))};function B0(t){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B0(t)}function NC(){return NC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NC.apply(this,arguments)}function kU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kU(Object(n),!0).forEach(function(r){__e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function __e(t,e,n){return e=x_e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x_e(t){var e=b_e(t,"string");return B0(e)=="symbol"?e:e+""}function b_e(t,e){if(B0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(B0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var FU={curveBasisClosed:boe,curveBasisOpen:Soe,curveBasis:xoe,curveBumpX:aoe,curveBumpY:soe,curveLinearClosed:woe,curveLinear:KM,curveMonotoneX:Moe,curveMonotoneY:Eoe,curveNatural:Aoe,curveStep:Toe,curveStepAfter:Coe,curveStepBefore:Poe},A1=function(e){return e.x===+e.x&&e.y===+e.y},Kv=function(e){return e.x},Zv=function(e){return e.y},S_e=function(e,n){if(Kt(e))return e;var r="curve".concat(qM(e));return(r==="curveMonotone"||r==="curveBump")&&n?FU["".concat(r).concat(n==="vertical"?"Y":"X")]:FU[r]||KM},w_e=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=S_e(r,s),f=u?o.filter(function(b){return A1(b)}):o,h;if(Array.isArray(a)){var g=u?a.filter(function(b){return A1(b)}):a,v=f.map(function(b,x){return UU(UU({},b),{},{base:g[x]})});return s==="vertical"?h=g1().y(Zv).x1(Kv).x0(function(b){return b.base.x}):h=g1().x(Kv).y1(Zv).y0(function(b){return b.base.y}),h.defined(A1).curve(c),h(v)}return s==="vertical"&&mt(a)?h=g1().y(Zv).x1(Kv).x0(a):mt(a)?h=g1().x(Kv).y1(Zv).y0(a):h=Yj().x(Kv).y(Zv),h.defined(A1).curve(c),h(f)},z0=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?w_e(e):i;return le.createElement("path",NC({},Nt(e,!1),xS(e),{className:an("recharts-curve",n),d:a,ref:o}))},iH={exports:{}},M_e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",E_e=M_e,A_e=E_e;function oH(){}function aH(){}aH.resetWarningCache=oH;var T_e=function(){function t(r,i,o,a,s,l){if(l!==A_e){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:aH,resetWarningCache:oH};return n.PropTypes=n,n};iH.exports=T_e();var P_e=iH.exports;const xn=Nn(P_e);var C_e=Object.getOwnPropertyNames,O_e=Object.getOwnPropertySymbols,R_e=Object.prototype.hasOwnProperty;function BU(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function T1(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function zU(t){return C_e(t).concat(O_e(t))}var sH=Object.hasOwn||function(t,e){return R_e.call(t,e)};function jg(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var lH="_owner",jU=Object.getOwnPropertyDescriptor,$U=Object.keys;function I_e(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function L_e(t,e){return jg(t.getTime(),e.getTime())}function HU(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),o=0,a,s;(a=i.next())&&!a.done;){for(var l=e.entries(),u=!1,c=0;(s=l.next())&&!s.done;){var f=a.value,h=f[0],g=f[1],v=s.value,b=v[0],x=v[1];!u&&!r[c]&&(u=n.equals(h,b,o,c,t,e,n)&&n.equals(g,x,h,b,t,e,n))&&(r[c]=!0),c++}if(!u)return!1;o++}return!0}function D_e(t,e,n){var r=$U(t),i=r.length;if($U(e).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===lH&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!sH(e,o)||!n.equals(t[o],e[o],o,o,t,e,n))return!1;return!0}function Jv(t,e,n){var r=zU(t),i=r.length;if(zU(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],o===lH&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!sH(e,o)||!n.equals(t[o],e[o],o,o,t,e,n)||(a=jU(t,o),s=jU(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function N_e(t,e){return jg(t.valueOf(),e.valueOf())}function k_e(t,e){return t.source===e.source&&t.flags===e.flags}function GU(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),o,a;(o=i.next())&&!o.done;){for(var s=e.values(),l=!1,u=0;(a=s.next())&&!a.done;)!l&&!r[u]&&(l=n.equals(o.value,a.value,o.value,a.value,t,e,n))&&(r[u]=!0),u++;if(!l)return!1}return!0}function U_e(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var F_e="[object Arguments]",B_e="[object Boolean]",z_e="[object Date]",j_e="[object Map]",$_e="[object Number]",H_e="[object Object]",G_e="[object RegExp]",W_e="[object Set]",V_e="[object String]",X_e=Array.isArray,WU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,VU=Object.assign,q_e=Object.prototype.toString.call.bind(Object.prototype.toString);function Y_e(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,a=t.areRegExpsEqual,s=t.areSetsEqual,l=t.areTypedArraysEqual;return function(c,f,h){if(c===f)return!0;if(c==null||f==null||typeof c!="object"||typeof f!="object")return c!==c&&f!==f;var g=c.constructor;if(g!==f.constructor)return!1;if(g===Object)return i(c,f,h);if(X_e(c))return e(c,f,h);if(WU!=null&&WU(c))return l(c,f,h);if(g===Date)return n(c,f,h);if(g===RegExp)return a(c,f,h);if(g===Map)return r(c,f,h);if(g===Set)return s(c,f,h);var v=q_e(c);return v===z_e?n(c,f,h):v===G_e?a(c,f,h):v===j_e?r(c,f,h):v===W_e?s(c,f,h):v===H_e?typeof c.then!="function"&&typeof f.then!="function"&&i(c,f,h):v===F_e?i(c,f,h):v===B_e||v===$_e||v===V_e?o(c,f,h):!1}}function K_e(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Jv:I_e,areDatesEqual:L_e,areMapsEqual:r?BU(HU,Jv):HU,areObjectsEqual:r?Jv:D_e,arePrimitiveWrappersEqual:N_e,areRegExpsEqual:k_e,areSetsEqual:r?BU(GU,Jv):GU,areTypedArraysEqual:r?Jv:U_e};if(n&&(i=VU({},i,n(i))),e){var o=T1(i.areArraysEqual),a=T1(i.areMapsEqual),s=T1(i.areObjectsEqual),l=T1(i.areSetsEqual);i=VU({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function Z_e(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function J_e(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,g=c.meta;return n(l,u,{cache:h,equals:i,meta:g,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var Q_e=Uf();Uf({strict:!0});Uf({circular:!0});Uf({circular:!0,strict:!0});Uf({createInternalComparator:function(){return jg}});Uf({strict:!0,createInternalComparator:function(){return jg}});Uf({circular:!0,createInternalComparator:function(){return jg}});Uf({circular:!0,createInternalComparator:function(){return jg},strict:!0});function Uf(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=K_e(t),l=Y_e(s),u=r?r(l):Z_e(l);return J_e({circular:n,comparator:l,createState:i,equals:u,strict:a})}function exe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function XU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):exe(i)};requestAnimationFrame(r)}function kC(t){"@babel/helpers - typeof";return kC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kC(t)}function txe(t){return oxe(t)||ixe(t)||rxe(t)||nxe()}function nxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rxe(t,e){if(t){if(typeof t=="string")return qU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qU(t,e)}}function qU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ixe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function oxe(t){if(Array.isArray(t))return t}function axe(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=txe(a),l=s[0],u=s.slice(1);if(typeof l=="number"){XU(i.bind(null,u),l);return}i(l),XU(i.bind(null,u));return}kC(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function j0(t){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(t)}function YU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YU(Object(n),!0).forEach(function(r){uH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uH(t,e,n){return e=sxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sxe(t){var e=lxe(t,"string");return j0(e)==="symbol"?e:String(e)}function lxe(t,e){if(j0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(j0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uxe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},cxe=function(e){return e},fxe=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Ny=function(e,n){return Object.keys(n).reduce(function(r,i){return KU(KU({},r),{},uH({},i,e(i,n[i])))},{})},ZU=function(e,n,r){return e.map(function(i){return"".concat(fxe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function hxe(t,e){return mxe(t)||pxe(t,e)||cH(t,e)||dxe()}function dxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function mxe(t){if(Array.isArray(t))return t}function gxe(t){return _xe(t)||yxe(t)||cH(t)||vxe()}function vxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cH(t,e){if(t){if(typeof t=="string")return UC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UC(t,e)}}function yxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _xe(t){if(Array.isArray(t))return UC(t)}function UC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ZS=1e-4,fH=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},hH=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},JU=function(e,n){return function(r){var i=fH(e,n);return hH(i,r)}},xxe=function(e,n){return function(r){var i=fH(e,n),o=[].concat(gxe(i.map(function(a,s){return a*s}).slice(1)),[0]);return hH(o,r)}},QU=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=hxe(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=JU(i,a),h=JU(o,s),g=xxe(i,a),v=function(_){return _>1?1:_<0?0:_},b=function(_){for(var S=_>1?1:_,w=S,E=0;E<8;++E){var T=f(w)-S,P=g(w);if(Math.abs(T-S)<ZS||P<ZS)return h(w);w=v(w-T/P)}return h(w)};return b.isStepper=!1,b},bxe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,f,h){var g=-(c-f)*r,v=h*o,b=h+(g-v)*s/1e3,x=h*s/1e3+c;return Math.abs(x-f)<ZS&&Math.abs(b)<ZS?[f,0]:[x,b]};return l.isStepper=!0,l.dt=s,l},Sxe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return QU(i);case"spring":return bxe();default:if(i.split("(")[0]==="cubic-bezier")return QU(i)}return typeof i=="function"?i:null};function $0(t){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$0(t)}function eF(t){return Exe(t)||Mxe(t)||dH(t)||wxe()}function wxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Exe(t){if(Array.isArray(t))return BC(t)}function tF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function no(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tF(Object(n),!0).forEach(function(r){FC(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FC(t,e,n){return e=Axe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Axe(t){var e=Txe(t,"string");return $0(e)==="symbol"?e:String(e)}function Txe(t,e){if($0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pxe(t,e){return Rxe(t)||Oxe(t,e)||dH(t,e)||Cxe()}function Cxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dH(t,e){if(t){if(typeof t=="string")return BC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BC(t,e)}}function BC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Rxe(t){if(Array.isArray(t))return t}var JS=function(e,n,r){return e+(n-e)*r},zC=function(e){var n=e.from,r=e.to;return n!==r},Ixe=function t(e,n,r){var i=Ny(function(o,a){if(zC(a)){var s=e(a.from,a.to,a.velocity),l=Pxe(s,2),u=l[0],c=l[1];return no(no({},a),{},{from:u,velocity:c})}return a},n);return r<1?Ny(function(o,a){return zC(a)?no(no({},a),{},{velocity:JS(a.velocity,i[o].velocity,r),from:JS(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const Lxe=function(t,e,n,r,i){var o=uxe(t,e),a=o.reduce(function(x,_){return no(no({},x),{},FC({},_,[t[_],e[_]]))},{}),s=o.reduce(function(x,_){return no(no({},x),{},FC({},_,{from:t[_],velocity:0,to:e[_]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return Ny(function(_,S){return S.from},s)},g=function(){return!Object.values(s).filter(zC).length},v=function(_){u||(u=_);var S=_-u,w=S/n.dt;s=Ixe(n,s,w),i(no(no(no({},t),e),h())),u=_,g()||(l=requestAnimationFrame(f))},b=function(_){c||(c=_);var S=(_-c)/r,w=Ny(function(T,P){return JS.apply(void 0,eF(P).concat([n(S)]))},a);if(i(no(no(no({},t),e),w)),S<1)l=requestAnimationFrame(f);else{var E=Ny(function(T,P){return JS.apply(void 0,eF(P).concat([n(1)]))},a);i(no(no(no({},t),e),E))}};return f=n.isStepper?v:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function tg(t){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tg(t)}var Dxe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Nxe(t,e){if(t==null)return{};var n=kxe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kxe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function UT(t){return zxe(t)||Bxe(t)||Fxe(t)||Uxe()}function Uxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fxe(t,e){if(t){if(typeof t=="string")return jC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jC(t,e)}}function Bxe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zxe(t){if(Array.isArray(t))return jC(t)}function jC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ys(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nF(Object(n),!0).forEach(function(r){_y(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _y(t,e,n){return e=pH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jxe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pH(r.key),r)}}function Hxe(t,e,n){return e&&$xe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function pH(t){var e=Gxe(t,"string");return tg(e)==="symbol"?e:String(e)}function Gxe(t,e){if(tg(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tg(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wxe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$C(t,e)}function $C(t,e){return $C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$C(t,e)}function Vxe(t){var e=Xxe();return function(){var r=QS(t),i;if(e){var o=QS(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return HC(this,i)}}function HC(t,e){if(e&&(tg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return GC(t)}function GC(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xxe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function QS(t){return QS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},QS(t)}var Rs=function(t){Wxe(n,t);var e=Vxe(n);function n(r,i){var o;jxe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,h=a.children,g=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(GC(o)),o.changeStyle=o.changeStyle.bind(GC(o)),!s||g<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),HC(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},HC(o);o.state={style:l?_y({},l,u):u}}else o.state={style:{}};return o}return Hxe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(s){if(!a){var g={style:l?_y({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(g);return}if(!(Q_e(i.to,c)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?f:i.to;if(this.state&&h){var x={style:l?_y({},l,b):b};(l&&h[l]!==b||!l&&h!==b)&&this.setState(x)}this.runAnimation(Ys(Ys({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,g=Lxe(a,s,Sxe(u),l,this.changeStyle),v=function(){o.stopJSAnimation=g()};this.manager.start([h,c,v,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,h=f===void 0?0:f,g=function(b,x,_){if(_===0)return b;var S=x.duration,w=x.easing,E=w===void 0?"ease":w,T=x.style,P=x.properties,I=x.onAnimationEnd,O=_>0?a[_-1]:x,C=P||Object.keys(T);if(typeof E=="function"||E==="spring")return[].concat(UT(b),[o.runJSAnimation.bind(o,{from:O.style,to:T,duration:S,easing:E}),S]);var L=ZU(C,S,E),N=Ys(Ys(Ys({},O.style),T),{},{transition:L});return[].concat(UT(b),[N,S,I]).filter(cxe)};return this.manager.start([l].concat(UT(a.reduce(g,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=axe());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,g=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof g=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var b=s?_y({},s,l):l,x=ZU(Object.keys(b),a,u);v.start([c,o,Ys(Ys({},b),{},{transition:x}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=Nxe(i,Dxe),u=oe.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(g){var v=g.props,b=v.style,x=b===void 0?{}:b,_=v.className,S=oe.cloneElement(g,Ys(Ys({},l),{},{style:Ys(Ys({},x),c),className:_}));return S};return u===1?f(oe.Children.only(o)):le.createElement("div",null,oe.Children.map(o,function(h){return f(h)}))}}]),n}(oe.PureComponent);Rs.displayName="Animate";Rs.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Rs.propTypes={from:xn.oneOfType([xn.object,xn.string]),to:xn.oneOfType([xn.object,xn.string]),attributeName:xn.string,duration:xn.number,begin:xn.number,easing:xn.oneOfType([xn.string,xn.func]),steps:xn.arrayOf(xn.shape({duration:xn.number.isRequired,style:xn.object.isRequired,easing:xn.oneOfType([xn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),xn.func]),properties:xn.arrayOf("string"),onAnimationEnd:xn.func})),children:xn.oneOfType([xn.node,xn.func]),isActive:xn.bool,canBegin:xn.bool,onAnimationEnd:xn.func,shouldReAnimate:xn.bool,onAnimationStart:xn.func,onAnimationReStart:xn.func};function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(null,arguments)}xn.object,xn.object,xn.object,xn.element;xn.object,xn.object,xn.object,xn.oneOfType([xn.array,xn.element]),xn.any;function H0(t){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H0(t)}function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tw.apply(this,arguments)}function qxe(t,e){return Jxe(t)||Zxe(t,e)||Kxe(t,e)||Yxe()}function Yxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kxe(t,e){if(t){if(typeof t=="string")return rF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rF(t,e)}}function rF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zxe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Jxe(t){if(Array.isArray(t))return t}function iF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iF(Object(n),!0).forEach(function(r){Qxe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qxe(t,e,n){return e=e1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e1e(t){var e=t1e(t,"string");return H0(e)=="symbol"?e:e+""}function t1e(t,e){if(H0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(H0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aF=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,g=4;h<g;h++)f[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var v=Math.min(a,o);c="M ".concat(e,",").concat(n+s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*v,`
            L `).concat(e+r,",").concat(n+i-s*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*v," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},n1e=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},r1e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jI=function(e){var n=oF(oF({},r1e),e),r=oe.useRef(),i=oe.useState(-1),o=qxe(i,2),a=o[0],s=o[1];oe.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var E=r.current.getTotalLength();E&&s(E)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,g=n.className,v=n.animationEasing,b=n.animationDuration,x=n.animationBegin,_=n.isAnimationActive,S=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var w=an("recharts-rectangle",g);return S?le.createElement(Rs,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:b,animationEasing:v,isActive:S},function(E){var T=E.width,P=E.height,I=E.x,O=E.y;return le.createElement(Rs,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:_,easing:v},le.createElement("path",tw({},Nt(n,!0),{className:w,d:aF(I,O,T,P,h),ref:r})))}):le.createElement("path",tw({},Nt(n,!0),{className:w,d:aF(l,u,c,f,h)}))},i1e=["points","className","baseLinePoints","connectNulls"];function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vm.apply(this,arguments)}function o1e(t,e){if(t==null)return{};var n=a1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function a1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sF(t){return c1e(t)||u1e(t)||l1e(t)||s1e()}function s1e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function l1e(t,e){if(t){if(typeof t=="string")return WC(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return WC(t,e)}}function u1e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function c1e(t){if(Array.isArray(t))return WC(t)}function WC(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lF=function(e){return e&&e.x===+e.x&&e.y===+e.y},f1e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){lF(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),lF(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},ky=function(e,n){var r=f1e(e);n&&(r=[r.reduce(function(o,a){return[].concat(sF(o),sF(a))},[])]);var i=r.map(function(o){return o.reduce(function(a,s,l){return"".concat(a).concat(l===0?"M":"L").concat(s.x,",").concat(s.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},h1e=function(e,n,r){var i=ky(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(ky(n.reverse(),r).slice(1))},mH=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,o=e.connectNulls,a=o1e(e,i1e);if(!n||!n.length)return null;var s=an("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",u=h1e(n,i,o);return le.createElement("g",{className:s},le.createElement("path",vm({},Nt(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:u})),l?le.createElement("path",vm({},Nt(a,!0),{fill:"none",d:ky(n,o)})):null,l?le.createElement("path",vm({},Nt(a,!0),{fill:"none",d:ky(i,o)})):null)}var c=ky(n,o);return le.createElement("path",vm({},Nt(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",className:s,d:c}))};function VC(){return VC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VC.apply(this,arguments)}var L_=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=an("recharts-dot",o);return n===+n&&r===+r&&i===+i?le.createElement("circle",VC({},Nt(e,!1),xS(e),{className:a,cx:n,cy:r,r:i})):null};function G0(t){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G0(t)}var d1e=["x","y","top","left","width","height","className"];function XC(){return XC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XC.apply(this,arguments)}function uF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function p1e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uF(Object(n),!0).forEach(function(r){m1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function m1e(t,e,n){return e=g1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g1e(t){var e=v1e(t,"string");return G0(e)=="symbol"?e:e+""}function v1e(t,e){if(G0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(G0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function y1e(t,e){if(t==null)return{};var n=_1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var x1e=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},b1e=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,g=h===void 0?0:h,v=e.className,b=y1e(e,d1e),x=p1e({x:r,y:o,top:s,left:u,width:f,height:g},b);return!mt(r)||!mt(o)||!mt(f)||!mt(g)||!mt(s)||!mt(u)?null:le.createElement("path",XC({},Nt(x,!0),{className:an("recharts-cross",v),d:x1e(r,o,f,g,s,u)}))},S1e=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function W0(t){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W0(t)}function w1e(t,e){if(t==null)return{};var n=M1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ac(){return ac=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ac.apply(this,arguments)}function cF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V0(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cF(Object(n),!0).forEach(function(r){E1e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function E1e(t,e,n){return e=A1e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A1e(t){var e=T1e(t,"string");return W0(e)=="symbol"?e:e+""}function T1e(t,e){if(W0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(W0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var P1e=function(e,n,r,i){var o="";return i.forEach(function(a,s){var l=Gn(n,r,e,a);s?o+="L ".concat(l.x,",").concat(l.y):o+="M ".concat(l.x,",").concat(l.y)}),o+="Z",o},C1e=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.polarAngles,s=e.radialLines;if(!a||!a.length||!s)return null;var l=V0({stroke:"#ccc"},Nt(e,!1));return le.createElement("g",{className:"recharts-polar-grid-angle"},a.map(function(u){var c=Gn(n,r,i,u),f=Gn(n,r,o,u);return le.createElement("line",ac({},l,{key:"line-".concat(u),x1:c.x,y1:c.y,x2:f.x,y2:f.y}))}))},O1e=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.index,a=V0(V0({stroke:"#ccc"},Nt(e,!1)),{},{fill:"none"});return le.createElement("circle",ac({},a,{className:an("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(o),cx:n,cy:r,r:i}))},R1e=function(e){var n=e.radius,r=e.index,i=V0(V0({stroke:"#ccc"},Nt(e,!1)),{},{fill:"none"});return le.createElement("path",ac({},i,{className:an("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(r),d:P1e(n,e.cx,e.cy,e.polarAngles)}))},I1e=function(e){var n=e.polarRadius,r=e.gridType;return!n||!n.length?null:le.createElement("g",{className:"recharts-polar-grid-concentric"},n.map(function(i,o){var a=o;return r==="circle"?le.createElement(O1e,ac({key:a},e,{radius:i,index:o})):le.createElement(R1e,ac({key:a},e,{radius:i,index:o}))}))},L1e=function(e){var n=e.cx,r=n===void 0?0:n,i=e.cy,o=i===void 0?0:i,a=e.innerRadius,s=a===void 0?0:a,l=e.outerRadius,u=l===void 0?0:l,c=e.gridType,f=c===void 0?"polygon":c,h=e.radialLines,g=h===void 0?!0:h,v=w1e(e,S1e);return u<=0?null:le.createElement("g",{className:"recharts-polar-grid"},le.createElement(C1e,ac({cx:r,cy:o,innerRadius:s,outerRadius:u,gridType:f,radialLines:g},v)),le.createElement(I1e,ac({cx:r,cy:o,innerRadius:s,outerRadius:u,gridType:f,radialLines:g},v)))};L1e.displayName="PolarGrid";var D1e=uE,N1e=w8,k1e=nu;function U1e(t,e){return t&&t.length?D1e(t,k1e(e),N1e):void 0}var F1e=U1e;const B1e=Nn(F1e);var z1e=uE,j1e=nu,$1e=M8;function H1e(t,e){return t&&t.length?z1e(t,j1e(e),$1e):void 0}var G1e=H1e;const W1e=Nn(G1e);var V1e=["cx","cy","angle","ticks","axisLine"],X1e=["ticks","tick","angle","tickFormatter","stroke"];function ng(t){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ng(t)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Uy.apply(this,arguments)}function fF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ph(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fF(Object(n),!0).forEach(function(r){pE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hF(t,e){if(t==null)return{};var n=q1e(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function q1e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Y1e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vH(r.key),r)}}function K1e(t,e,n){return e&&dF(t.prototype,e),n&&dF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Z1e(t,e,n){return e=nw(e),J1e(t,gH()?Reflect.construct(e,n||[],nw(t).constructor):e.apply(t,n))}function J1e(t,e){if(e&&(ng(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Q1e(t)}function Q1e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gH=function(){return!!t})()}function nw(t){return nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},nw(t)}function ebe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qC(t,e)}function qC(t,e){return qC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qC(t,e)}function pE(t,e,n){return e=vH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vH(t){var e=tbe(t,"string");return ng(e)=="symbol"?e:e+""}function tbe(t,e){if(ng(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var D_=function(t){function e(){return Y1e(this,e),Z1e(this,e,arguments)}return ebe(e,t),K1e(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,o=this.props,a=o.angle,s=o.cx,l=o.cy;return Gn(s,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=B1e(s,function(c){return c.coordinate||0}),u=W1e(s,function(c){return c.coordinate||0});return{cx:i,cy:o,startAngle:a,endAngle:a,innerRadius:u.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.angle,s=r.ticks,l=r.axisLine,u=hF(r,V1e),c=s.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),f=Gn(i,o,c[0],a),h=Gn(i,o,c[1],a),g=Ph(Ph(Ph({},Nt(u,!1)),{},{fill:"none"},Nt(l,!1)),{},{x1:f.x,y1:f.y,x2:h.x,y2:h.y});return le.createElement("line",Uy({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.angle,l=i.tickFormatter,u=i.stroke,c=hF(i,X1e),f=this.getTickTextAnchor(),h=Nt(c,!1),g=Nt(a,!1),v=o.map(function(b,x){var _=r.getTickValueCoord(b),S=Ph(Ph(Ph(Ph({textAnchor:f,transform:"rotate(".concat(90-s,", ").concat(_.x,", ").concat(_.y,")")},h),{},{stroke:"none",fill:u},g),{},{index:x},_),{},{payload:b});return le.createElement(wn,Uy({className:an("recharts-polar-radius-axis-tick",Q8(a)),key:"tick-".concat(b.coordinate)},Pf(r.props,b,x)),e.renderTickItem(a,S,l?l(b.value,x):b.value))});return le.createElement(wn,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.axisLine,a=r.tick;return!i||!i.length?null:le.createElement(wn,{className:an("recharts-polar-radius-axis",this.props.className)},o&&this.renderAxisLine(),a&&this.renderTicks(),Wi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return le.isValidElement(r)?a=le.cloneElement(r,i):Kt(r)?a=r(i):a=le.createElement(Td,Uy({},i,{className:"recharts-polar-radius-axis-tick-value"}),o),a}}])}(oe.PureComponent);pE(D_,"displayName","PolarRadiusAxis");pE(D_,"axisType","radiusAxis");pE(D_,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function rg(t){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rg(t)}function Qh(){return Qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qh.apply(this,arguments)}function pF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ch(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pF(Object(n),!0).forEach(function(r){mE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_H(r.key),r)}}function rbe(t,e,n){return e&&mF(t.prototype,e),n&&mF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ibe(t,e,n){return e=rw(e),obe(t,yH()?Reflect.construct(e,n||[],rw(t).constructor):e.apply(t,n))}function obe(t,e){if(e&&(rg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return abe(t)}function abe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yH=function(){return!!t})()}function rw(t){return rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rw(t)}function sbe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YC(t,e)}function YC(t,e){return YC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YC(t,e)}function mE(t,e,n){return e=_H(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _H(t){var e=lbe(t,"string");return rg(e)=="symbol"?e:e+""}function lbe(t,e){if(rg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ube=Math.PI/180,gF=1e-5,N_=function(t){function e(){return nbe(this,e),ibe(this,e,arguments)}return sbe(e,t),rbe(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.cx,a=i.cy,s=i.radius,l=i.orientation,u=i.tickSize,c=u||8,f=Gn(o,a,s,r.coordinate),h=Gn(o,a,s+(l==="inner"?-1:1)*c,r.coordinate);return{x1:f.x,y1:f.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,o=Math.cos(-r.coordinate*ube),a;return o>gF?a=i==="outer"?"start":"end":o<-gF?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,o=r.cy,a=r.radius,s=r.axisLine,l=r.axisLineType,u=Ch(Ch({},Nt(this.props,!1)),{},{fill:"none"},Nt(s,!1));if(l==="circle")return le.createElement(L_,Qh({className:"recharts-polar-angle-axis-line"},u,{cx:i,cy:o,r:a}));var c=this.props.ticks,f=c.map(function(h){return Gn(i,o,a,h.coordinate)});return le.createElement(mH,Qh({className:"recharts-polar-angle-axis-line"},u,{points:f}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,o=i.ticks,a=i.tick,s=i.tickLine,l=i.tickFormatter,u=i.stroke,c=Nt(this.props,!1),f=Nt(a,!1),h=Ch(Ch({},c),{},{fill:"none"},Nt(s,!1)),g=o.map(function(v,b){var x=r.getTickLineCoord(v),_=r.getTickTextAnchor(v),S=Ch(Ch(Ch({textAnchor:_},c),{},{stroke:"none",fill:u},f),{},{index:b,payload:v,x:x.x2,y:x.y2});return le.createElement(wn,Qh({className:an("recharts-polar-angle-axis-tick",Q8(a)),key:"tick-".concat(v.coordinate)},Pf(r.props,v,b)),s&&le.createElement("line",Qh({className:"recharts-polar-angle-axis-tick-line"},h,x)),a&&e.renderTickItem(a,S,l?l(v.value,b):v.value))});return le.createElement(wn,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var r=this.props,i=r.ticks,o=r.radius,a=r.axisLine;return o<=0||!i||!i.length?null:le.createElement(wn,{className:an("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,o){var a;return le.isValidElement(r)?a=le.cloneElement(r,i):Kt(r)?a=r(i):a=le.createElement(Td,Qh({},i,{className:"recharts-polar-angle-axis-tick-value"}),o),a}}])}(oe.PureComponent);mE(N_,"displayName","PolarAngleAxis");mE(N_,"axisType","angleAxis");mE(N_,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var cbe=_$,fbe=cbe(Object.getPrototypeOf,Object),hbe=fbe,dbe=hc,pbe=hbe,mbe=dc,gbe="[object Object]",vbe=Function.prototype,ybe=Object.prototype,xH=vbe.toString,_be=ybe.hasOwnProperty,xbe=xH.call(Object);function bbe(t){if(!mbe(t)||dbe(t)!=gbe)return!1;var e=pbe(t);if(e===null)return!0;var n=_be.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&xH.call(n)==xbe}var Sbe=bbe;const wbe=Nn(Sbe);var Mbe=hc,Ebe=dc,Abe="[object Boolean]";function Tbe(t){return t===!0||t===!1||Ebe(t)&&Mbe(t)==Abe}var Pbe=Tbe;const Cbe=Nn(Pbe);function X0(t){"@babel/helpers - typeof";return X0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X0(t)}function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(this,arguments)}function Obe(t,e){return Dbe(t)||Lbe(t,e)||Ibe(t,e)||Rbe()}function Rbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ibe(t,e){if(t){if(typeof t=="string")return vF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vF(t,e)}}function vF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Lbe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Dbe(t){if(Array.isArray(t))return t}function yF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _F(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(n),!0).forEach(function(r){Nbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nbe(t,e,n){return e=kbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kbe(t){var e=Ube(t,"string");return X0(e)=="symbol"?e:e+""}function Ube(t,e){if(X0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(X0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xF=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Fbe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bbe=function(e){var n=_F(_F({},Fbe),e),r=oe.useRef(),i=oe.useState(-1),o=Obe(i,2),a=o[0],s=o[1];oe.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var w=r.current.getTotalLength();w&&s(w)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,g=n.className,v=n.animationEasing,b=n.animationDuration,x=n.animationBegin,_=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var S=an("recharts-trapezoid",g);return _?le.createElement(Rs,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:b,animationEasing:v,isActive:_},function(w){var E=w.upperWidth,T=w.lowerWidth,P=w.height,I=w.x,O=w.y;return le.createElement(Rs,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:v},le.createElement("path",iw({},Nt(n,!0),{className:S,d:xF(I,O,E,T,P),ref:r})))}):le.createElement("g",null,le.createElement("path",iw({},Nt(n,!0),{className:S,d:xF(l,u,c,f,h)})))},zbe=["option","shapeType","propTransformer","activeClassName","isActive"];function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}function jbe(t,e){if(t==null)return{};var n=$be(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $be(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ow(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bF(Object(n),!0).forEach(function(r){Hbe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hbe(t,e,n){return e=Gbe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gbe(t){var e=Wbe(t,"string");return q0(e)=="symbol"?e:e+""}function Wbe(t,e){if(q0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(q0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vbe(t,e){return ow(ow({},e),t)}function Xbe(t,e){return t==="symbols"}function SF(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return le.createElement(jI,n);case"trapezoid":return le.createElement(Bbe,n);case"sector":return le.createElement(rH,n);case"symbols":if(Xbe(e))return le.createElement(JM,n);break;default:return null}}function qbe(t){return oe.isValidElement(t)?t.props:t}function aw(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Vbe:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=jbe(t,zbe),u;if(oe.isValidElement(e))u=oe.cloneElement(e,ow(ow({},l),qbe(e)));else if(Kt(e))u=e(l);else if(wbe(e)&&!Cbe(e)){var c=i(e,l);u=le.createElement(SF,{shapeType:n,elementProps:c})}else{var f=l;u=le.createElement(SF,{shapeType:n,elementProps:f})}return s?le.createElement(wn,{className:a},u):u}function gE(t,e){return e!=null&&"trapezoids"in t.props}function vE(t,e){return e!=null&&"sectors"in t.props}function Y0(t,e){return e!=null&&"points"in t.props}function Ybe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Kbe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Zbe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Jbe(t,e){var n;return gE(t,e)?n=Ybe:vE(t,e)?n=Kbe:Y0(t,e)&&(n=Zbe),n}function Qbe(t,e){var n;return gE(t,e)?n="trapezoids":vE(t,e)?n="sectors":Y0(t,e)&&(n="points"),n}function eSe(t,e){if(gE(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(vE(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Y0(t,e)?e.payload:{}}function tSe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Qbe(n,e),o=eSe(n,e),a=r.filter(function(l,u){var c=Vd(o,l),f=n.props[i].filter(function(v){var b=Jbe(n,e);return b(v,e)}),h=n.props[i].indexOf(f[f.length-1]),g=u===h;return c&&g}),s=r.indexOf(a[a.length-1]);return s}var Bb;function ig(t){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ig(t)}function ym(){return ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ym.apply(this,arguments)}function wF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(n),!0).forEach(function(r){Ss(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,SH(r.key),r)}}function rSe(t,e,n){return e&&MF(t.prototype,e),n&&MF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iSe(t,e,n){return e=sw(e),oSe(t,bH()?Reflect.construct(e,n||[],sw(t).constructor):e.apply(t,n))}function oSe(t,e){if(e&&(ig(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aSe(t)}function aSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bH=function(){return!!t})()}function sw(t){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sw(t)}function sSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KC(t,e)}function KC(t,e){return KC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KC(t,e)}function Ss(t,e,n){return e=SH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SH(t){var e=lSe(t,"string");return ig(e)=="symbol"?e:e+""}function lSe(t,e){if(ig(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ff=function(t){function e(n){var r;return nSe(this,e),r=iSe(this,e,[n]),Ss(r,"pieRef",null),Ss(r,"sectorRefs",[]),Ss(r,"id",Hd("recharts-pie-")),Ss(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Kt(i)&&i()}),Ss(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Kt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return sSe(e,t),rSe(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.label,s=o.labelLine,l=o.dataKey,u=o.valueKey,c=Nt(this.props,!1),f=Nt(a,!1),h=Nt(s,!1),g=a&&a.offsetRadius||20,v=r.map(function(b,x){var _=(b.startAngle+b.endAngle)/2,S=Gn(b.cx,b.cy,b.outerRadius+g,_),w=lr(lr(lr(lr({},c),b),{},{stroke:"none"},f),{},{index:x,textAnchor:e.getTextAnchor(S.x,b.cx)},S),E=lr(lr(lr(lr({},c),b),{},{fill:"none",stroke:b.fill},h),{},{index:x,points:[Gn(b.cx,b.cy,b.outerRadius,_),S]}),T=l;return Vt(l)&&Vt(u)?T="value":Vt(l)&&(T=u),le.createElement(wn,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(x)},s&&e.renderLabelLineItem(s,E,"line"),e.renderLabelItem(a,w,yr(b,T)))});return le.createElement(wn,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(r){var i=this,o=this.props,a=o.activeShape,s=o.blendStroke,l=o.inactiveShape;return r.map(function(u,c){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&r.length!==1)return null;var f=i.isActiveIndex(c),h=l&&i.hasActiveIndex()?l:null,g=f?a:h,v=lr(lr({},u),{},{stroke:s?u.fill:u.stroke,tabIndex:-1});return le.createElement(wn,ym({ref:function(x){x&&!i.sectorRefs.includes(x)&&i.sectorRefs.push(x)},tabIndex:-1,className:"recharts-pie-sector"},Pf(i.props,u,c),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(c)}),le.createElement(aw,ym({option:g,isActive:f,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,o=i.sectors,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state,h=f.prevSectors,g=f.prevIsAnimationActive;return le.createElement(Rs,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,x=[],_=o&&o[0],S=_.startAngle;return o.forEach(function(w,E){var T=h&&h[E],P=E>0?qa(w,"paddingAngle",0):0;if(T){var I=ii(T.endAngle-T.startAngle,w.endAngle-w.startAngle),O=lr(lr({},w),{},{startAngle:S+P,endAngle:S+I(b)+P});x.push(O),S=O.endAngle}else{var C=w.endAngle,L=w.startAngle,N=ii(0,C-L),U=N(b),z=lr(lr({},w),{},{startAngle:S+P,endAngle:S+U+P});x.push(z),S=z.endAngle}}),le.createElement(wn,null,r.renderSectorsStatically(x))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(o){if(!o.altKey)switch(o.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var s=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[s].focus(),i.setState({sectorToFocus:s});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,o=r.isAnimationActive,a=this.state.prevSectors;return o&&i&&i.length&&(!a||!Vd(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,o=i.hide,a=i.sectors,s=i.className,l=i.label,u=i.cx,c=i.cy,f=i.innerRadius,h=i.outerRadius,g=i.isAnimationActive,v=this.state.isAnimationFinished;if(o||!a||!a.length||!mt(u)||!mt(c)||!mt(f)||!mt(h))return null;var b=an("recharts-pie",s);return le.createElement(wn,{tabIndex:this.props.rootTabIndex,className:b,ref:function(_){r.pieRef=_}},this.renderSectors(),l&&this.renderLabels(a),Wi.renderCallByParent(this.props,null,!1),(!g||v)&&fl.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,o){if(le.isValidElement(r))return le.cloneElement(r,i);if(Kt(r))return r(i);var a=an("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return le.createElement(z0,ym({},i,{key:o,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,o){if(le.isValidElement(r))return le.cloneElement(r,i);var a=o;if(Kt(r)&&(a=r(i),le.isValidElement(a)))return a;var s=an("recharts-pie-label-text",typeof r!="boolean"&&!Kt(r)?r.className:"");return le.createElement(Td,ym({},i,{alignmentBaseline:"middle",className:s}),a)}}])}(oe.PureComponent);Bb=Ff;Ss(Ff,"displayName","Pie");Ss(Ff,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Ts.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ss(Ff,"parseDeltaAngle",function(t,e){var n=Vo(e-t),r=Math.min(Math.abs(e-t),360);return n*r});Ss(Ff,"getRealPieData",function(t){var e=t.data,n=t.children,r=Nt(t,!1),i=Ko(n,nE);return e&&e.length?e.map(function(o,a){return lr(lr(lr({payload:o},r),o),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(o){return lr(lr({},r),o.props)}):[]});Ss(Ff,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,o=e.height,a=Z8(i,o),s=r+Xo(t.cx,i,i/2),l=n+Xo(t.cy,o,o/2),u=Xo(t.innerRadius,a,0),c=Xo(t.outerRadius,a,a*.8),f=t.maxRadius||Math.sqrt(i*i+o*o)/2;return{cx:s,cy:l,innerRadius:u,outerRadius:c,maxRadius:f}});Ss(Ff,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?lr(lr({},e.type.defaultProps),e.props):e.props,i=Bb.getRealPieData(r);if(!i||!i.length)return null;var o=r.cornerRadius,a=r.startAngle,s=r.endAngle,l=r.paddingAngle,u=r.dataKey,c=r.nameKey,f=r.valueKey,h=r.tooltipType,g=Math.abs(r.minAngle),v=Bb.parseCoordinateOfPie(r,n),b=Bb.parseDeltaAngle(a,s),x=Math.abs(b),_=u;Vt(u)&&Vt(f)?(cl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):Vt(u)&&(cl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=f);var S=i.filter(function(O){return yr(O,_,0)!==0}).length,w=(x>=360?S:S-1)*l,E=x-S*g-w,T=i.reduce(function(O,C){var L=yr(C,_,0);return O+(mt(L)?L:0)},0),P;if(T>0){var I;P=i.map(function(O,C){var L=yr(O,_,0),N=yr(O,c,C),U=(mt(L)?L:0)/T,z;C?z=I.endAngle+Vo(b)*l*(L!==0?1:0):z=a;var $=z+Vo(b)*((L!==0?g:0)+U*E),K=(z+$)/2,q=(v.innerRadius+v.outerRadius)/2,Q=[{name:N,value:L,payload:O,dataKey:_,type:h}],F=Gn(v.cx,v.cy,q,K);return I=lr(lr(lr({percent:U,cornerRadius:o,name:N,tooltipPayload:Q,midAngle:K,middleRadius:q,tooltipPosition:F},O),v),{},{value:yr(O,_),startAngle:z,endAngle:$,payload:O,paddingAngle:Vo(b)*l}),I})}return lr(lr({},v),{},{sectors:P,data:i})});function uSe(t){return t&&t.length?t[0]:void 0}var cSe=uSe,fSe=cSe;const hSe=Nn(fSe);var dSe=["key"];function og(t){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},og(t)}function pSe(t,e){if(t==null)return{};var n=mSe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mSe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(this,arguments)}function EF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ho(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EF(Object(n),!0).forEach(function(r){Fu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,MH(r.key),r)}}function vSe(t,e,n){return e&&AF(t.prototype,e),n&&AF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ySe(t,e,n){return e=uw(e),_Se(t,wH()?Reflect.construct(e,n||[],uw(t).constructor):e.apply(t,n))}function _Se(t,e){if(e&&(og(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xSe(t)}function xSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wH=function(){return!!t})()}function uw(t){return uw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uw(t)}function bSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZC(t,e)}function ZC(t,e){return ZC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZC(t,e)}function Fu(t,e,n){return e=MH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MH(t){var e=SSe(t,"string");return og(e)=="symbol"?e:e+""}function SSe(t,e){if(og(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yE=function(t){function e(){var n;gSe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=ySe(this,e,[].concat(i)),Fu(n,"state",{isAnimationFinished:!1}),Fu(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Kt(a)&&a()}),Fu(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Kt(a)&&a()}),Fu(n,"handleMouseEnter",function(a){var s=n.props.onMouseEnter;s&&s(n.props,a)}),Fu(n,"handleMouseLeave",function(a){var s=n.props.onMouseLeave;s&&s(n.props,a)}),n}return bSe(e,t),vSe(e,[{key:"renderDots",value:function(r){var i=this.props,o=i.dot,a=i.dataKey,s=Nt(this.props,!1),l=Nt(o,!0),u=r.map(function(c,f){var h=Ho(Ho(Ho({key:"dot-".concat(f),r:3},s),l),{},{dataKey:a,cx:c.x,cy:c.y,index:f,payload:c});return e.renderDotItem(o,h)});return le.createElement(wn,{className:"recharts-radar-dots"},u)}},{key:"renderPolygonStatically",value:function(r){var i=this.props,o=i.shape,a=i.dot,s=i.isRange,l=i.baseLinePoints,u=i.connectNulls,c;return le.isValidElement(o)?c=le.cloneElement(o,Ho(Ho({},this.props),{},{points:r})):Kt(o)?c=o(Ho(Ho({},this.props),{},{points:r})):c=le.createElement(mH,lw({},Nt(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:r,baseLinePoints:s?l:null,connectNulls:u})),le.createElement(wn,{className:"recharts-radar-polygon"},c,a?this.renderDots(r):null)}},{key:"renderPolygonWithAnimation",value:function(){var r=this,i=this.props,o=i.points,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state.prevPoints;return le.createElement(Rs,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"radar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var g=h.t,v=f&&f.length/o.length,b=o.map(function(x,_){var S=f&&f[Math.floor(_*v)];if(S){var w=ii(S.x,x.x),E=ii(S.y,x.y);return Ho(Ho({},x),{},{x:w(g),y:E(g)})}var T=ii(x.cx,x.x),P=ii(x.cy,x.y);return Ho(Ho({},x),{},{x:T(g),y:P(g)})});return r.renderPolygonStatically(b)})}},{key:"renderPolygon",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,a=r.isRange,s=this.state.prevPoints;return o&&i&&i.length&&!a&&(!s||!Vd(s,i))?this.renderPolygonWithAnimation():this.renderPolygonStatically(i)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.className,a=r.points,s=r.isAnimationActive;if(i||!a||!a.length)return null;var l=this.state.isAnimationFinished,u=an("recharts-radar",o);return le.createElement(wn,{className:u},this.renderPolygon(),(!s||l)&&fl.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"renderDotItem",value:function(r,i){var o;if(le.isValidElement(r))o=le.cloneElement(r,i);else if(Kt(r))o=r(i);else{var a=i.key,s=pSe(i,dSe);o=le.createElement(L_,lw({},s,{key:a,className:an("recharts-radar-dot",typeof r!="boolean"?r.className:"")}))}return o}}])}(oe.PureComponent);Fu(yE,"displayName","Radar");Fu(yE,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Ts.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Fu(yE,"getComposedData",function(t){var e=t.radiusAxis,n=t.angleAxis,r=t.displayedData,i=t.dataKey,o=t.bandSize,a=n.cx,s=n.cy,l=!1,u=[],c=n.type!=="number"?o??0:0;r.forEach(function(h,g){var v=yr(h,n.dataKey,g),b=yr(h,i),x=n.scale(v)+c,_=Array.isArray(b)?tH(b):b,S=Vt(_)?void 0:e.scale(_);Array.isArray(b)&&b.length>=2&&(l=!0),u.push(Ho(Ho({},Gn(a,s,S,x)),{},{name:v,value:b,cx:a,cy:s,radius:S,angle:x,payload:h}))});var f=[];return l&&u.forEach(function(h){if(Array.isArray(h.value)){var g=hSe(h.value),v=Vt(g)?void 0:e.scale(g);f.push(Ho(Ho({},h),{},{radius:v},Gn(a,s,v,h.angle)))}else f.push(h)}),{points:u,isRange:l,baseLinePoints:f}});var wSe=Math.ceil,MSe=Math.max;function ESe(t,e,n,r){for(var i=-1,o=MSe(wSe((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var ASe=ESe,TSe=F$,TF=1/0,PSe=17976931348623157e292;function CSe(t){if(!t)return t===0?t:0;if(t=TSe(t),t===TF||t===-TF){var e=t<0?-1:1;return e*PSe}return t===t?t:0}var EH=CSe,OSe=ASe,RSe=tE,FT=EH;function ISe(t){return function(e,n,r){return r&&typeof r!="number"&&RSe(e,n,r)&&(n=r=void 0),e=FT(e),n===void 0?(n=e,e=0):n=FT(n),r=r===void 0?e<n?1:-1:FT(r),OSe(e,n,r,t)}}var LSe=ISe,DSe=LSe,NSe=DSe(),kSe=NSe;const cw=Nn(kSe);function K0(t){"@babel/helpers - typeof";return K0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K0(t)}function PF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PF(Object(n),!0).forEach(function(r){AH(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AH(t,e,n){return e=USe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function USe(t){var e=FSe(t,"string");return K0(e)=="symbol"?e:e+""}function FSe(t,e){if(K0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(K0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BSe=["Webkit","Moz","O","ms"],zSe=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=BSe.reduce(function(o,a){return CF(CF({},o),{},AH({},a+r,n))},{});return i[e]=n,i};function ag(t){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ag(t)}function fw(){return fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fw.apply(this,arguments)}function OF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OF(Object(n),!0).forEach(function(r){$a(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PH(r.key),r)}}function $Se(t,e,n){return e&&RF(t.prototype,e),n&&RF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function HSe(t,e,n){return e=hw(e),GSe(t,TH()?Reflect.construct(e,n||[],hw(t).constructor):e.apply(t,n))}function GSe(t,e){if(e&&(ag(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WSe(t)}function WSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TH=function(){return!!t})()}function hw(t){return hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hw(t)}function VSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JC(t,e)}function JC(t,e){return JC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},JC(t,e)}function $a(t,e,n){return e=PH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PH(t){var e=XSe(t,"string");return ag(e)=="symbol"?e:e+""}function XSe(t,e){if(ag(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qSe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=Ly().domain(cw(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},IF=function(e){return e.changedTouches&&!!e.changedTouches.length},sg=function(t){function e(n){var r;return jSe(this,e),r=HSe(this,e,[n]),$a(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),$a(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),$a(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a==null||a({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),$a(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),$a(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),$a(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),$a(r,"handleSlideDragStart",function(i){var o=IF(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return VSe(e,t),$Se(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),g=e.getIndexInRange(a,f),v=e.getIndexInRange(a,h);return{startIndex:g-g%l,endIndex:v===c?c:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=yr(o[r],s,r);return Kt(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,g=l.endIndex,v=l.onChange,b=r.pageX-o;b>0?b=Math.min(b,u+c-f-s,u+c-f-a):b<0&&(b=Math.max(b,u-a,u-s));var x=this.getIndex({startX:a+b,endX:s+b});(x.startIndex!==h||x.endIndex!==g)&&v&&v(x),this.setState({startX:a+b,endX:s+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=IF(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,h=c.width,g=c.travellerWidth,v=c.onChange,b=c.gap,x=c.data,_={startX:this.state.startX,endX:this.state.endX},S=r.pageX-o;S>0?S=Math.min(S,f+h-g-u):S<0&&(S=Math.max(S,f-u)),_[a]=u+S;var w=this.getIndex(_),E=w.startIndex,T=w.endIndex,P=function(){var O=x.length-1;return a==="startX"&&(s>l?E%b===0:T%b===0)||s<l&&T===O||a==="endX"&&(s>l?T%b===0:E%b===0)||s>l&&T===O};this.setState($a($a({},a,u+S),"brushMoveStartX",r.pageX),function(){v&&P()&&v(w)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var g=s[h];i==="startX"&&g>=u||i==="endX"&&g<=l||this.setState($a({},i,g),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return le.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=oe.Children.only(u);return f?le.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,g=l.ariaLabel,v=l.data,b=l.startIndex,x=l.endIndex,_=Math.max(r,this.props.x),S=BT(BT({},Nt(this.props,!1)),{},{x:_,y:u,width:c,height:f}),w=g||"Min value: ".concat((o=v[b])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=v[x])===null||a===void 0?void 0:a.name);return le.createElement(wn,{tabIndex:0,role:"slider","aria-label":w,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(T){["ArrowLeft","ArrowRight"].includes(T.key)&&(T.preventDefault(),T.stopPropagation(),s.handleTravellerMoveKeyboard(T.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,S))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return le.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,g=5,v={pointerEvents:"none",fill:u};return le.createElement(wn,{className:"recharts-brush-texts"},le.createElement(Td,fw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-g,y:a+s/2},v),this.getTextOfTick(i)),le.createElement(Td,fw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+g,y:a+s/2},v),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,g=h.startX,v=h.endX,b=h.isTextActive,x=h.isSlideMoving,_=h.isTravellerMoving,S=h.isTravellerFocused;if(!i||!i.length||!mt(s)||!mt(l)||!mt(u)||!mt(c)||u<=0||c<=0)return null;var w=an("recharts-brush",o),E=le.Children.count(a)===1,T=zSe("userSelect","none");return le.createElement(wn,{className:w,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:T},this.renderBackground(),E&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(b||x||_||S||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return le.createElement(le.Fragment,null,le.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),le.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),le.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return le.isValidElement(r)?o=le.cloneElement(r,i):Kt(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return BT({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?qSe({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(g){return i.scale(g)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(oe.PureComponent);$a(sg,"displayName","Brush");$a(sg,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var YSe=dI;function KSe(t,e){var n;return YSe(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var ZSe=KSe,JSe=f$,QSe=nu,ewe=ZSe,twe=xa,nwe=tE;function rwe(t,e,n){var r=twe(t)?JSe:ewe;return n&&nwe(t,e,n)&&(e=void 0),r(t,QSe(e))}var iwe=rwe;const owe=Nn(iwe);var Kl=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},LF=L$;function awe(t,e,n){e=="__proto__"&&LF?LF(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var swe=awe,lwe=swe,uwe=R$,cwe=nu;function fwe(t,e){var n={};return e=cwe(e),uwe(t,function(r,i,o){lwe(n,i,e(r,i,o))}),n}var hwe=fwe;const dwe=Nn(hwe);function pwe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var mwe=pwe,gwe=dI;function vwe(t,e){var n=!0;return gwe(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var ywe=vwe,_we=mwe,xwe=ywe,bwe=nu,Swe=xa,wwe=tE;function Mwe(t,e,n){var r=Swe(t)?_we:xwe;return n&&wwe(t,e,n)&&(e=void 0),r(t,bwe(e))}var Ewe=Mwe;const CH=Nn(Ewe);var Awe=["x","y"];function Z0(t){"@babel/helpers - typeof";return Z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Z0(t)}function QC(){return QC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},QC.apply(this,arguments)}function DF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DF(Object(n),!0).forEach(function(r){Twe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Twe(t,e,n){return e=Pwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pwe(t){var e=Cwe(t,"string");return Z0(e)=="symbol"?e:e+""}function Cwe(t,e){if(Z0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Z0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Owe(t,e){if(t==null)return{};var n=Rwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Rwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Iwe(t,e){var n=t.x,r=t.y,i=Owe(t,Awe),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Qv(Qv(Qv(Qv(Qv({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function NF(t){return le.createElement(aw,QC({shapeType:"rectangle",propTransformer:Iwe,activeClassName:"recharts-active-bar"},t))}var Lwe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||Cd(),n)}},Dwe=["value","background"],OH;function lg(t){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lg(t)}function Nwe(t,e){if(t==null)return{};var n=kwe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kwe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function dw(){return dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dw.apply(this,arguments)}function kF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kF(Object(n),!0).forEach(function(r){df(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Uwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,IH(r.key),r)}}function Fwe(t,e,n){return e&&UF(t.prototype,e),n&&UF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bwe(t,e,n){return e=pw(e),zwe(t,RH()?Reflect.construct(e,n||[],pw(t).constructor):e.apply(t,n))}function zwe(t,e){if(e&&(lg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jwe(t)}function jwe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RH=function(){return!!t})()}function pw(t){return pw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pw(t)}function $we(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eO(t,e)}function eO(t,e){return eO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},eO(t,e)}function df(t,e,n){return e=IH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IH(t){var e=Hwe(t,"string");return lg(e)=="symbol"?e:e+""}function Hwe(t,e){if(lg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $g=function(t){function e(){var n;Uwe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=Bwe(this,e,[].concat(i)),df(n,"state",{isAnimationFinished:!1}),df(n,"id",Hd("recharts-bar-")),df(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),df(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return $we(e,t),Fwe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Nt(this.props,!1);return r&&r.map(function(f,h){var g=h===l,v=g?u:a,b=hi(hi(hi({},c),f),{},{isActive:g,option:v,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return le.createElement(wn,dw({className:"recharts-bar-rectangle"},Pf(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value)}),le.createElement(NF,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return le.createElement(Rs,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,b=o.map(function(x,_){var S=h&&h[_];if(S){var w=ii(S.x,x.x),E=ii(S.y,x.y),T=ii(S.width,x.width),P=ii(S.height,x.height);return hi(hi({},x),{},{x:w(v),y:E(v),width:T(v),height:P(v)})}if(a==="horizontal"){var I=ii(0,x.height),O=I(v);return hi(hi({},x),{},{y:x.y+x.height-O,height:O})}var C=ii(0,x.width),L=C(v);return hi(hi({},x),{},{width:L})});return le.createElement(wn,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!Vd(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Nt(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=Nwe(u,Dwe);if(!f)return null;var g=hi(hi(hi(hi(hi({},h),{},{fill:"#eee"},f),l),Pf(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return le.createElement(NF,dw({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},g))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=Ko(c,zg);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,g=function(x,_){var S=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:S,errorVal:yr(x,_)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return le.createElement(wn,v,f.map(function(b){return le.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:g})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,g=r.isAnimationActive,v=r.background,b=r.id;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,_=an("recharts-bar",a),S=s&&s.allowDataOverflow,w=l&&l.allowDataOverflow,E=S||w,T=Vt(b)?this.id:b;return le.createElement(wn,{className:_},S||w?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(T)},le.createElement("rect",{x:S?u:u-f/2,y:w?c:c-h/2,width:S?f:f*2,height:w?h:h*2}))):null,le.createElement(wn,{className:"recharts-bar-rectangles",clipPath:E?"url(#clipPath-".concat(T,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(E,T),(!g||x)&&fl.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(oe.PureComponent);OH=$g;df($g,"displayName","Bar");df($g,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Ts.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});df($g,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,g=c0e(r,n);if(!g)return null;var v=e.layout,b=n.type.defaultProps,x=b!==void 0?hi(hi({},b),n.props):n.props,_=x.dataKey,S=x.children,w=x.minPointSize,E=v==="horizontal"?a:o,T=u?E.scale.domain():null,P=v0e({numericAxis:E}),I=Ko(S,nE),O=f.map(function(C,L){var N,U,z,$,K,q;u?N=f0e(u[c+L],T):(N=yr(C,_),Array.isArray(N)||(N=[P,N]));var Q=Lwe(w,OH.defaultProps.minPointSize)(N[1],L);if(v==="horizontal"){var F,j=[a.scale(N[0]),a.scale(N[1])],X=j[0],H=j[1];U=wU({axis:o,ticks:s,bandSize:i,offset:g.offset,entry:C,index:L}),z=(F=H??X)!==null&&F!==void 0?F:void 0,$=g.size;var Y=X-H;if(K=Number.isNaN(Y)?0:Y,q={x:U,y:a.y,width:$,height:a.height},Math.abs(Q)>0&&Math.abs(K)<Math.abs(Q)){var se=Vo(K||Q)*(Math.abs(Q)-Math.abs(K));z-=se,K+=se}}else{var re=[o.scale(N[0]),o.scale(N[1])],ie=re[0],ge=re[1];if(U=ie,z=wU({axis:a,ticks:l,bandSize:i,offset:g.offset,entry:C,index:L}),$=ge-ie,K=g.size,q={x:o.x,y:z,width:o.width,height:K},Math.abs(Q)>0&&Math.abs($)<Math.abs(Q)){var de=Vo($||Q)*(Math.abs(Q)-Math.abs($));$+=de}}return hi(hi(hi({},C),{},{x:U,y:z,width:$,height:K,value:u?N:N[1],payload:C,background:q},I&&I[L]&&I[L].props),{},{tooltipPayload:[Y8(n,C)],tooltipPosition:{x:U+$/2,y:z+K/2}})});return hi({data:O,layout:v},h)});function J0(t){"@babel/helpers - typeof";return J0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J0(t)}function Gwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LH(r.key),r)}}function Wwe(t,e,n){return e&&FF(t.prototype,e),n&&FF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function BF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BF(Object(n),!0).forEach(function(r){_E(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _E(t,e,n){return e=LH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LH(t){var e=Vwe(t,"string");return J0(e)=="symbol"?e:e+""}function Vwe(t,e){if(J0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(J0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $I=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Ga(u,$g);return c.reduce(function(g,v){var b=n[v],x=b.orientation,_=b.domain,S=b.padding,w=S===void 0?{}:S,E=b.mirror,T=b.reversed,P="".concat(x).concat(E?"Mirror":""),I,O,C,L,N;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var U=_[1]-_[0],z=1/0,$=b.categoricalDomain.sort();if($.forEach(function(re,ie){ie>0&&(z=Math.min((re||0)-($[ie-1]||0),z))}),Number.isFinite(z)){var K=z/U,q=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(I=K*q/2),b.padding==="no-gap"){var Q=Xo(e.barCategoryGap,K*q),F=K*q/2;I=F-Q-(F-Q)/q*Q}}}i==="xAxis"?O=[r.left+(w.left||0)+(I||0),r.left+r.width-(w.right||0)-(I||0)]:i==="yAxis"?O=l==="horizontal"?[r.top+r.height-(w.bottom||0),r.top+(w.top||0)]:[r.top+(w.top||0)+(I||0),r.top+r.height-(w.bottom||0)-(I||0)]:O=b.range,T&&(O=[O[1],O[0]]);var j=W8(b,o,h),X=j.scale,H=j.realScaleType;X.domain(_).range(O),V8(X);var Y=X8(X,nl(nl({},b),{},{realScaleType:H}));i==="xAxis"?(N=x==="top"&&!E||x==="bottom"&&E,C=r.left,L=f[P]-N*b.height):i==="yAxis"&&(N=x==="left"&&!E||x==="right"&&E,C=f[P]-N*b.width,L=r.top);var se=nl(nl(nl({},b),Y),{},{realScaleType:H,x:C,y:L,scale:X,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return se.bandSize=qS(se,Y),!b.hide&&i==="xAxis"?f[P]+=(N?-1:1)*se.height:b.hide||(f[P]+=(N?-1:1)*se.width),nl(nl({},g),{},_E({},v,se))},{})},DH=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},Xwe=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return DH({x:n,y:r},{x:i,y:o})},NH=function(){function t(e){Gwe(this,t),this.scale=e}return Wwe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();_E(NH,"EPS",1e-4);var HI=function(e){var n=Object.keys(e).reduce(function(r,i){return nl(nl({},r),{},_E({},i,NH.create(e[i])))},{});return nl(nl({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return dwe(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return CH(i,function(o,a){return n[a].isInRange(o)})}})};function qwe(t){return(t%180+180)%180}var Ywe=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=qwe(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Kwe=nu,Zwe=P_,Jwe=QM;function Qwe(t){return function(e,n,r){var i=Object(e);if(!Zwe(e)){var o=Kwe(n);e=Jwe(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var eMe=Qwe,tMe=EH;function nMe(t){var e=tMe(t),n=e%1;return e===e?n?e-n:e:0}var rMe=nMe,iMe=E$,oMe=nu,aMe=rMe,sMe=Math.max;function lMe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:aMe(n);return i<0&&(i=sMe(r+i,0)),iMe(t,oMe(e),i)}var uMe=lMe,cMe=eMe,fMe=uMe,hMe=cMe(fMe),dMe=hMe;const pMe=Nn(dMe);var mMe=Kne(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),GI=oe.createContext(void 0),WI=oe.createContext(void 0),kH=oe.createContext(void 0),UH=oe.createContext({}),FH=oe.createContext(void 0),BH=oe.createContext(0),zH=oe.createContext(0),zF=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=mMe(o);return le.createElement(GI.Provider,{value:r},le.createElement(WI.Provider,{value:i},le.createElement(UH.Provider,{value:o},le.createElement(kH.Provider,{value:c},le.createElement(FH.Provider,{value:a},le.createElement(BH.Provider,{value:u},le.createElement(zH.Provider,{value:l},s)))))))},gMe=function(){return oe.useContext(FH)},jH=function(e){var n=oe.useContext(GI);n==null&&Cd();var r=n[e];return r==null&&Cd(),r},vMe=function(){var e=oe.useContext(GI);return lf(e)},yMe=function(){var e=oe.useContext(WI),n=pMe(e,function(r){return CH(r.domain,Number.isFinite)});return n||lf(e)},$H=function(e){var n=oe.useContext(WI);n==null&&Cd();var r=n[e];return r==null&&Cd(),r},_Me=function(){var e=oe.useContext(kH);return e},xMe=function(){return oe.useContext(UH)},VI=function(){return oe.useContext(zH)},XI=function(){return oe.useContext(BH)};function ug(t){"@babel/helpers - typeof";return ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ug(t)}function bMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,GH(r.key),r)}}function wMe(t,e,n){return e&&SMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MMe(t,e,n){return e=mw(e),EMe(t,HH()?Reflect.construct(e,n||[],mw(t).constructor):e.apply(t,n))}function EMe(t,e){if(e&&(ug(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AMe(t)}function AMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function HH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(HH=function(){return!!t})()}function mw(t){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mw(t)}function TMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tO(t,e)}function tO(t,e){return tO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},tO(t,e)}function jF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $F(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jF(Object(n),!0).forEach(function(r){qI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qI(t,e,n){return e=GH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GH(t){var e=PMe(t,"string");return ug(e)=="symbol"?e:e+""}function PMe(t,e){if(ug(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ug(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CMe(t,e){return LMe(t)||IMe(t,e)||RMe(t,e)||OMe()}function OMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RMe(t,e){if(t){if(typeof t=="string")return HF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HF(t,e)}}function HF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function IMe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function LMe(t){if(Array.isArray(t))return t}function nO(){return nO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nO.apply(this,arguments)}var DMe=function(e,n){var r;return le.isValidElement(e)?r=le.cloneElement(e,n):Kt(e)?r=e(n):r=le.createElement("line",nO({},n,{className:"recharts-reference-line-line"})),r},NMe=function(e,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,h=o.width,g=o.height;if(r){var v=u.y,b=e.y.apply(v,{position:a});if(Kl(u,"discard")&&!e.y.isInRange(b))return null;var x=[{x:c+h,y:b},{x:c,y:b}];return l==="left"?x.reverse():x}if(n){var _=u.x,S=e.x.apply(_,{position:a});if(Kl(u,"discard")&&!e.x.isInRange(S))return null;var w=[{x:S,y:f+g},{x:S,y:f}];return s==="top"?w.reverse():w}if(i){var E=u.segment,T=E.map(function(P){return e.apply(P,{position:a})});return Kl(u,"discard")&&owe(T,function(P){return!e.isInRange(P)})?null:T}return null};function kMe(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=gMe(),c=jH(i),f=$H(o),h=_Me();if(!u||!h)return null;cl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=HI({x:c.scale,y:f.scale}),v=wi(e),b=wi(n),x=r&&r.length===2,_=NMe(g,v,b,x,h,t.position,c.orientation,f.orientation,t);if(!_)return null;var S=CMe(_,2),w=S[0],E=w.x,T=w.y,P=S[1],I=P.x,O=P.y,C=Kl(t,"hidden")?"url(#".concat(u,")"):void 0,L=$F($F({clipPath:C},Nt(t,!0)),{},{x1:E,y1:T,x2:I,y2:O});return le.createElement(wn,{className:an("recharts-reference-line",s)},DMe(a,L),Wi.renderCallByParent(t,Xwe({x1:E,y1:T,x2:I,y2:O})))}var YI=function(t){function e(){return bMe(this,e),MMe(this,e,arguments)}return TMe(e,t),wMe(e,[{key:"render",value:function(){return le.createElement(kMe,this.props)}}])}(le.Component);qI(YI,"displayName","ReferenceLine");qI(YI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function rO(){return rO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rO.apply(this,arguments)}function cg(t){"@babel/helpers - typeof";return cg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cg(t)}function GF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function WF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GF(Object(n),!0).forEach(function(r){xE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,VH(r.key),r)}}function BMe(t,e,n){return e&&FMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zMe(t,e,n){return e=gw(e),jMe(t,WH()?Reflect.construct(e,n||[],gw(t).constructor):e.apply(t,n))}function jMe(t,e){if(e&&(cg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Me(t)}function $Me(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function WH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WH=function(){return!!t})()}function gw(t){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gw(t)}function HMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iO(t,e)}function iO(t,e){return iO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},iO(t,e)}function xE(t,e,n){return e=VH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VH(t){var e=GMe(t,"string");return cg(e)=="symbol"?e:e+""}function GMe(t,e){if(cg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(cg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WMe=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=HI({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Kl(e,"discard")&&!a.isInRange(s)?null:s},bE=function(t){function e(){return UMe(this,e),zMe(this,e,arguments)}return HMe(e,t),BMe(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=wi(i),c=wi(o);if(cl(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=WMe(this.props);if(!f)return null;var h=f.x,g=f.y,v=this.props,b=v.shape,x=v.className,_=Kl(this.props,"hidden")?"url(#".concat(l,")"):void 0,S=WF(WF({clipPath:_},Nt(this.props,!0)),{},{cx:h,cy:g});return le.createElement(wn,{className:an("recharts-reference-dot",x)},e.renderDot(b,S),Wi.renderCallByParent(this.props,{x:h-a,y:g-a,width:2*a,height:2*a}))}}])}(le.Component);xE(bE,"displayName","ReferenceDot");xE(bE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});xE(bE,"renderDot",function(t,e){var n;return le.isValidElement(t)?n=le.cloneElement(t,e):Kt(t)?n=t(e):n=le.createElement(L_,rO({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function oO(){return oO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oO.apply(this,arguments)}function fg(t){"@babel/helpers - typeof";return fg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fg(t)}function VF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VF(Object(n),!0).forEach(function(r){SE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XMe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,qH(r.key),r)}}function qMe(t,e,n){return e&&XMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function YMe(t,e,n){return e=vw(e),KMe(t,XH()?Reflect.construct(e,n||[],vw(t).constructor):e.apply(t,n))}function KMe(t,e){if(e&&(fg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZMe(t)}function ZMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XH=function(){return!!t})()}function vw(t){return vw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vw(t)}function JMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aO(t,e)}function aO(t,e){return aO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},aO(t,e)}function SE(t,e,n){return e=qH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qH(t){var e=QMe(t,"string");return fg(e)=="symbol"?e:e+""}function QMe(t,e){if(fg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(fg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eEe=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=HI({x:c.scale,y:f.scale}),g={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},v={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Kl(o,"discard")&&(!h.isInRange(g)||!h.isInRange(v))?null:DH(g,v)},wE=function(t){function e(){return VMe(this,e),YMe(this,e,arguments)}return JMe(e,t),qMe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;cl(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=wi(i),h=wi(o),g=wi(a),v=wi(s),b=this.props.shape;if(!f&&!h&&!g&&!v&&!b)return null;var x=eEe(f,h,g,v,this.props);if(!x&&!b)return null;var _=Kl(this.props,"hidden")?"url(#".concat(c,")"):void 0;return le.createElement(wn,{className:an("recharts-reference-area",l)},e.renderRect(b,XF(XF({clipPath:_},Nt(this.props,!0)),x)),Wi.renderCallByParent(this.props,x))}}])}(le.Component);SE(wE,"displayName","ReferenceArea");SE(wE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});SE(wE,"renderRect",function(t,e){var n;return le.isValidElement(t)?n=le.cloneElement(t,e):Kt(t)?n=t(e):n=le.createElement(jI,oO({},e,{className:"recharts-reference-area-rect"})),n});function YH(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function tEe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Ywe(r,n)}function nEe(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function yw(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function rEe(t,e){return YH(t,e+1)}function iEe(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:YH(r,u)};var b=l,x,_=function(){return x===void 0&&(x=n(v,b)),x},S=v.coordinate,w=l===0||yw(t,S,_,c,s);w||(l=0,c=a,u+=1),w&&(c=S+t*(_()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Q0(t){"@babel/helpers - typeof";return Q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q0(t)}function qF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(n),!0).forEach(function(r){oEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oEe(t,e,n){return e=aEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aEe(t){var e=sEe(t,"string");return Q0(e)=="symbol"?e:e+""}function sEe(t,e){if(Q0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Q0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lEe(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var g=o[h],v,b=function(){return v===void 0&&(v=n(g,h)),v};if(h===a-1){var x=t*(g.coordinate+t*b()/2-l);o[h]=g=bo(bo({},g),{},{tickCoord:x>0?g.coordinate-x*t:g.coordinate})}else o[h]=g=bo(bo({},g),{},{tickCoord:g.coordinate});var _=yw(t,g.tickCoord,b,s,l);_&&(l=g.tickCoord-t*(b()/2+i),o[h]=bo(bo({},g),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function uEe(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],f=n(c,s-1),h=t*(c.coordinate+t*f/2-u);a[s-1]=c=bo(bo({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var g=yw(t,c.tickCoord,function(){return f},l,u);g&&(u=c.tickCoord-t*(f/2+i),a[s-1]=bo(bo({},c),{},{isShow:!0}))}for(var v=o?s-1:s,b=function(S){var w=a[S],E,T=function(){return E===void 0&&(E=n(w,S)),E};if(S===0){var P=t*(w.coordinate-t*T()/2-l);a[S]=w=bo(bo({},w),{},{tickCoord:P<0?w.coordinate-P*t:w.coordinate})}else a[S]=w=bo(bo({},w),{},{tickCoord:w.coordinate});var I=yw(t,w.tickCoord,T,l,u);I&&(l=w.tickCoord+t*(T()/2+i),a[S]=bo(bo({},w),{},{isShow:!0}))},x=0;x<v;x++)b(x);return a}function KI(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(mt(l)||Ts.isSsr)return rEe(i,typeof l=="number"&&mt(l)?l:0);var h=[],g=s==="top"||s==="bottom"?"width":"height",v=c&&g==="width"?Iy(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(w,E){var T=Kt(u)?u(w.value,E):w.value;return g==="width"?tEe(Iy(T,{fontSize:e,letterSpacing:n}),v,f):Iy(T,{fontSize:e,letterSpacing:n})[g]},x=i.length>=2?Vo(i[1].coordinate-i[0].coordinate):1,_=nEe(o,x,g);return l==="equidistantPreserveStart"?iEe(x,_,b,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=uEe(x,_,b,i,a,l==="preserveStartEnd"):h=lEe(x,_,b,i,a),h.filter(function(S){return S.isShow}))}var cEe=["viewBox"],fEe=["viewBox"],hEe=["ticks"];function hg(t){"@babel/helpers - typeof";return hg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hg(t)}function _m(){return _m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_m.apply(this,arguments)}function YF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YF(Object(n),!0).forEach(function(r){ZI(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zT(t,e){if(t==null)return{};var n=dEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function pEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ZH(r.key),r)}}function mEe(t,e,n){return e&&KF(t.prototype,e),n&&KF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function gEe(t,e,n){return e=_w(e),vEe(t,KH()?Reflect.construct(e,n||[],_w(t).constructor):e.apply(t,n))}function vEe(t,e){if(e&&(hg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yEe(t)}function yEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KH=function(){return!!t})()}function _w(t){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_w(t)}function _Ee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sO(t,e)}function sO(t,e){return sO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},sO(t,e)}function ZI(t,e,n){return e=ZH(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ZH(t){var e=xEe(t,"string");return hg(e)=="symbol"?e:e+""}function xEe(t,e){if(hg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hg=function(t){function e(n){var r;return pEe(this,e),r=gEe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return _Ee(e,t),mEe(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=zT(r,cEe),s=this.props,l=s.viewBox,u=zT(s,fEe);return!Dm(o,l)||!Dm(a,u)||!Dm(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,g,v,b,x,_,S,w=f?-1:1,E=r.tickSize||c,T=mt(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":g=v=r.coordinate,x=a+ +!f*l,b=x-w*E,S=b-w*h,_=T;break;case"left":b=x=r.coordinate,v=o+ +!f*s,g=v-w*E,_=g-w*h,S=T;break;case"right":b=x=r.coordinate,v=o+ +f*s,g=v+w*E,_=g+w*h,S=T;break;default:g=v=r.coordinate,x=a+ +f*l,b=x+w*E,S=b+w*h,_=T;break}return{line:{x1:g,y1:b,x2:v,y2:x},tick:{x:_,y:S}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=zo(zo(zo({},Nt(this.props,!1)),Nt(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=zo(zo({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var g=+(l==="left"&&!u||l==="right"&&u);f=zo(zo({},f),{},{x1:i+g*a,y1:o,x2:i+g*a,y2:o+s})}return le.createElement("line",_m({},f,{className:an("recharts-cartesian-axis-line",qa(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,g=KI(zo(zo({},this.props),{},{ticks:r}),i,o),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=Nt(this.props,!1),_=Nt(c,!1),S=zo(zo({},x),{},{fill:"none"},Nt(l,!1)),w=g.map(function(E,T){var P=a.getTickLineCoord(E),I=P.line,O=P.tick,C=zo(zo(zo(zo({textAnchor:v,verticalAnchor:b},x),{},{stroke:"none",fill:u},_),O),{},{index:T,payload:E,visibleTicksCount:g.length,tickFormatter:f});return le.createElement(wn,_m({className:"recharts-cartesian-axis-tick",key:"tick-".concat(E.value,"-").concat(E.coordinate,"-").concat(E.tickCoord)},Pf(a.props,E,T)),l&&le.createElement("line",_m({},S,I,{className:an("recharts-cartesian-axis-tick-line",qa(l,"className"))})),c&&e.renderTickItem(c,C,"".concat(Kt(f)?f(E.value,T):E.value).concat(h||"")))});return le.createElement("g",{className:"recharts-cartesian-axis-ticks"},w)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,g=zT(f,hEe),v=h;return Kt(l)&&(v=h&&h.length>0?l(this.props):l(g)),a<=0||s<=0||!v||!v.length?null:le.createElement(wn,{className:an("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},o&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Wi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return le.isValidElement(r)?a=le.cloneElement(r,i):Kt(r)?a=r(i):a=le.createElement(Td,_m({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(oe.Component);ZI(Hg,"displayName","CartesianAxis");ZI(Hg,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var bEe=["x1","y1","x2","y2","key"],SEe=["offset"];function Od(t){"@babel/helpers - typeof";return Od=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Od(t)}function ZF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZF(Object(n),!0).forEach(function(r){wEe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wEe(t,e,n){return e=MEe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MEe(t){var e=EEe(t,"string");return Od(e)=="symbol"?e:e+""}function EEe(t,e){if(Od(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Od(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sd(){return sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sd.apply(this,arguments)}function JF(t,e){if(t==null)return{};var n=AEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function AEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var TEe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return le.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function JH(t,e){var n;if(le.isValidElement(t))n=le.cloneElement(t,e);else if(Kt(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=JF(e,bEe),u=Nt(l,!1);u.offset;var c=JF(u,SEe);n=le.createElement("line",sd({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function PEe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=wo(wo({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return JH(i,u)});return le.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function CEe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=wo(wo({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return JH(i,u)});return le.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function OEe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,g){return h-g});i!==c[0]&&c.unshift(0);var f=c.map(function(h,g){var v=!c[g+1],b=v?i+a-h:c[g+1]-h;if(b<=0)return null;var x=g%e.length;return le.createElement("rect",{key:"react-".concat(g),y:h,x:r,height:b,width:o,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function REe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,g){return h-g});o!==c[0]&&c.unshift(0);var f=c.map(function(h,g){var v=!c[g+1],b=v?o+s-h:c[g+1]-h;if(b<=0)return null;var x=g%r.length;return le.createElement("rect",{key:"react-".concat(g),x:h,y:a,width:b,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return le.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var IEe=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return G8(KI(wo(wo(wo({},Hg.defaultProps),r),{},{ticks:Wu(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},LEe=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return G8(KI(wo(wo(wo({},Hg.defaultProps),r),{},{ticks:Wu(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},Ip={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function DEe(t){var e,n,r,i,o,a,s=VI(),l=XI(),u=xMe(),c=wo(wo({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Ip.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Ip.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Ip.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Ip.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:Ip.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Ip.verticalFill,x:mt(t.x)?t.x:u.left,y:mt(t.y)?t.y:u.top,width:mt(t.width)?t.width:u.width,height:mt(t.height)?t.height:u.height}),f=c.x,h=c.y,g=c.width,v=c.height,b=c.syncWithTicks,x=c.horizontalValues,_=c.verticalValues,S=vMe(),w=yMe();if(!mt(g)||g<=0||!mt(v)||v<=0||!mt(f)||f!==+f||!mt(h)||h!==+h)return null;var E=c.verticalCoordinatesGenerator||IEe,T=c.horizontalCoordinatesGenerator||LEe,P=c.horizontalPoints,I=c.verticalPoints;if((!P||!P.length)&&Kt(T)){var O=x&&x.length,C=T({yAxis:w?wo(wo({},w),{},{ticks:O?x:w.ticks}):void 0,width:s,height:l,offset:u},O?!0:b);cl(Array.isArray(C),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Od(C),"]")),Array.isArray(C)&&(P=C)}if((!I||!I.length)&&Kt(E)){var L=_&&_.length,N=E({xAxis:S?wo(wo({},S),{},{ticks:L?_:S.ticks}):void 0,width:s,height:l,offset:u},L?!0:b);cl(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Od(N),"]")),Array.isArray(N)&&(I=N)}return le.createElement("g",{className:"recharts-cartesian-grid"},le.createElement(TEe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),le.createElement(PEe,sd({},c,{offset:u,horizontalPoints:P,xAxis:S,yAxis:w})),le.createElement(CEe,sd({},c,{offset:u,verticalPoints:I,xAxis:S,yAxis:w})),le.createElement(OEe,sd({},c,{horizontalPoints:P})),le.createElement(REe,sd({},c,{verticalPoints:I})))}DEe.displayName="CartesianGrid";var NEe=["type","layout","connectNulls","ref"],kEe=["key"];function dg(t){"@babel/helpers - typeof";return dg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dg(t)}function QF(t,e){if(t==null)return{};var n=UEe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function UEe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Fy(){return Fy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fy.apply(this,arguments)}function eB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ja(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eB(Object(n),!0).forEach(function(r){rl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lp(t){return jEe(t)||zEe(t)||BEe(t)||FEe()}function FEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BEe(t,e){if(t){if(typeof t=="string")return lO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lO(t,e)}}function zEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jEe(t){if(Array.isArray(t))return lO(t)}function lO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $Ee(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function tB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,eG(r.key),r)}}function HEe(t,e,n){return e&&tB(t.prototype,e),n&&tB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function GEe(t,e,n){return e=xw(e),WEe(t,QH()?Reflect.construct(e,n||[],xw(t).constructor):e.apply(t,n))}function WEe(t,e){if(e&&(dg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VEe(t)}function VEe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QH(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QH=function(){return!!t})()}function xw(t){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xw(t)}function XEe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uO(t,e)}function uO(t,e){return uO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uO(t,e)}function rl(t,e,n){return e=eG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function eG(t){var e=qEe(t,"string");return dg(e)=="symbol"?e:e+""}function qEe(t,e){if(dg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(dg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ME=function(t){function e(){var n;$Ee(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=GEe(this,e,[].concat(i)),rl(n,"state",{isAnimationFinished:!0,totalLength:0}),rl(n,"generateSimpleStrokeDasharray",function(a,s){return"".concat(s,"px ").concat(a-s,"px")}),rl(n,"getStrokeDasharray",function(a,s,l){var u=l.reduce(function(_,S){return _+S});if(!u)return n.generateSimpleStrokeDasharray(s,a);for(var c=Math.floor(a/u),f=a%u,h=s-a,g=[],v=0,b=0;v<l.length;b+=l[v],++v)if(b+l[v]>f){g=[].concat(Lp(l.slice(0,v)),[f-b]);break}var x=g.length%2===0?[0,h]:[h];return[].concat(Lp(e.repeat(l,c)),Lp(g),x).map(function(_){return"".concat(_,"px")}).join(", ")}),rl(n,"id",Hd("recharts-line-")),rl(n,"pathRef",function(a){n.mainCurve=a}),rl(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),rl(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return XEe(e,t),HEe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.points,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=Ko(c,zg);if(!f)return null;var h=function(b,x){return{x:b.x,y:b.y,value:b.value,errorVal:yr(b.payload,x)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return le.createElement(wn,g,f.map(function(v){return le.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,o){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=Nt(this.props,!1),h=Nt(l,!0),g=u.map(function(b,x){var _=ja(ja(ja({key:"dot-".concat(x),r:3},f),h),{},{value:b.value,dataKey:c,cx:b.x,cy:b.y,index:x,payload:b.payload});return e.renderDotItem(l,_)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(o,")"):null};return le.createElement(wn,Fy({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(r,i,o,a){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=QF(s,NEe),h=ja(ja(ja({},Nt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(o,")"):null,points:r},a),{},{type:l,layout:u,connectNulls:c});return le.createElement(z0,Fy({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var o=this,a=this.props,s=a.points,l=a.strokeDasharray,u=a.isAnimationActive,c=a.animationBegin,f=a.animationDuration,h=a.animationEasing,g=a.animationId,v=a.animateNewValues,b=a.width,x=a.height,_=this.state,S=_.prevPoints,w=_.totalLength;return le.createElement(Rs,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(E){var T=E.t;if(S){var P=S.length/s.length,I=s.map(function(U,z){var $=Math.floor(z*P);if(S[$]){var K=S[$],q=ii(K.x,U.x),Q=ii(K.y,U.y);return ja(ja({},U),{},{x:q(T),y:Q(T)})}if(v){var F=ii(b*2,U.x),j=ii(x/2,U.y);return ja(ja({},U),{},{x:F(T),y:j(T)})}return ja(ja({},U),{},{x:U.x,y:U.y})});return o.renderCurveStatically(I,r,i)}var O=ii(0,w),C=O(T),L;if(l){var N="".concat(l).split(/[,\s]+/gim).map(function(U){return parseFloat(U)});L=o.getStrokeDasharray(C,w,N)}else L=o.generateSimpleStrokeDasharray(w,C);return o.renderCurveStatically(s,r,i,{strokeDasharray:L})})}},{key:"renderCurve",value:function(r,i){var o=this.props,a=o.points,s=o.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&a&&a.length&&(!u&&c>0||!Vd(u,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,o=i.hide,a=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,h=i.left,g=i.width,v=i.height,b=i.isAnimationActive,x=i.id;if(o||!s||!s.length)return null;var _=this.state.isAnimationFinished,S=s.length===1,w=an("recharts-line",l),E=u&&u.allowDataOverflow,T=c&&c.allowDataOverflow,P=E||T,I=Vt(x)?this.id:x,O=(r=Nt(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},C=O.r,L=C===void 0?3:C,N=O.strokeWidth,U=N===void 0?2:N,z=rie(a)?a:{},$=z.clipDot,K=$===void 0?!0:$,q=L*2+U;return le.createElement(wn,{className:w},E||T?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(I)},le.createElement("rect",{x:E?h:h-g/2,y:T?f:f-v/2,width:E?g:g*2,height:T?v:v*2})),!K&&le.createElement("clipPath",{id:"clipPath-dots-".concat(I)},le.createElement("rect",{x:h-q/2,y:f-q/2,width:g+q,height:v+q}))):null,!S&&this.renderCurve(P,I),this.renderErrorBar(P,I),(S||a)&&this.renderDots(P,K,I),(!b||_)&&fl.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var o=r.length%2!==0?[].concat(Lp(r),[0]):r,a=[],s=0;s<i;++s)a=[].concat(Lp(a),Lp(o));return a}},{key:"renderDotItem",value:function(r,i){var o;if(le.isValidElement(r))o=le.cloneElement(r,i);else if(Kt(r))o=r(i);else{var a=i.key,s=QF(i,kEe),l=an("recharts-line-dot",typeof r!="boolean"?r.className:"");o=le.createElement(L_,Fy({key:a},s,{className:l}))}return o}}])}(oe.PureComponent);rl(ME,"displayName","Line");rl(ME,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Ts.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});rl(ME,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,a=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(h,g){var v=yr(h,a);return c==="horizontal"?{x:XS({axis:n,ticks:i,bandSize:s,entry:h,index:g}),y:Vt(v)?null:r.scale(v),value:v,payload:h}:{x:Vt(v)?null:n.scale(v),y:XS({axis:r,ticks:o,bandSize:s,entry:h,index:g}),value:v,payload:h}});return ja({points:f,layout:c},u)});function pg(t){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}function YEe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KEe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rG(r.key),r)}}function ZEe(t,e,n){return e&&KEe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JEe(t,e,n){return e=bw(e),QEe(t,tG()?Reflect.construct(e,n||[],bw(t).constructor):e.apply(t,n))}function QEe(t,e){if(e&&(pg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eAe(t)}function eAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tG=function(){return!!t})()}function bw(t){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bw(t)}function tAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cO(t,e)}function cO(t,e){return cO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},cO(t,e)}function nG(t,e,n){return e=rG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rG(t){var e=nAe(t,"string");return pg(e)=="symbol"?e:e+""}function nAe(t,e){if(pg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EE=function(t){function e(){return YEe(this,e),JEe(this,e,arguments)}return tAe(e,t),ZEe(e,[{key:"render",value:function(){return null}}])}(le.Component);nG(EE,"displayName","ZAxis");nG(EE,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var rAe=["option","isActive"];function By(){return By=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},By.apply(this,arguments)}function iAe(t,e){if(t==null)return{};var n=oAe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function aAe(t){var e=t.option,n=t.isActive,r=iAe(t,rAe);return typeof e=="string"?le.createElement(aw,By({option:le.createElement(JM,By({type:e},r)),isActive:n,shapeType:"symbols"},r)):le.createElement(aw,By({option:e,isActive:n,shapeType:"symbols"},r))}function mg(t){"@babel/helpers - typeof";return mg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mg(t)}function zy(){return zy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zy.apply(this,arguments)}function nB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _s(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nB(Object(n),!0).forEach(function(r){pf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rB(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,oG(r.key),r)}}function lAe(t,e,n){return e&&rB(t.prototype,e),n&&rB(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function uAe(t,e,n){return e=Sw(e),cAe(t,iG()?Reflect.construct(e,n||[],Sw(t).constructor):e.apply(t,n))}function cAe(t,e){if(e&&(mg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fAe(t)}function fAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iG=function(){return!!t})()}function Sw(t){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Sw(t)}function hAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fO(t,e)}function fO(t,e){return fO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fO(t,e)}function pf(t,e,n){return e=oG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oG(t){var e=dAe(t,"string");return mg(e)=="symbol"?e:e+""}function dAe(t,e){if(mg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AE=function(t){function e(){var n;sAe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=uAe(this,e,[].concat(i)),pf(n,"state",{isAnimationFinished:!1}),pf(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),pf(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),pf(n,"id",Hd("recharts-scatter-")),n}return hAe(e,t),lAe(e,[{key:"renderSymbolsStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.activeShape,l=o.activeIndex,u=Nt(this.props,!1);return r.map(function(c,f){var h=l===f,g=h?s:a,v=_s(_s({},u),c);return le.createElement(wn,zy({className:"recharts-scatter-symbol",key:"symbol-".concat(c==null?void 0:c.cx,"-").concat(c==null?void 0:c.cy,"-").concat(c==null?void 0:c.size,"-").concat(f)},Pf(i.props,c,f),{role:"img"}),le.createElement(aAe,zy({option:g,isActive:h,key:"symbol-".concat(f)},v)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,i=this.props,o=i.points,a=i.isAnimationActive,s=i.animationBegin,l=i.animationDuration,u=i.animationEasing,c=i.animationId,f=this.state.prevPoints;return le.createElement(Rs,{begin:s,duration:l,isActive:a,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var g=h.t,v=o.map(function(b,x){var _=f&&f[x];if(_){var S=ii(_.cx,b.cx),w=ii(_.cy,b.cy),E=ii(_.size,b.size);return _s(_s({},b),{},{cx:S(g),cy:w(g),size:E(g)})}var T=ii(0,b.size);return _s(_s({},b),{},{size:T(g)})});return le.createElement(wn,null,r.renderSymbolsStatically(v))})}},{key:"renderSymbols",value:function(){var r=this.props,i=r.points,o=r.isAnimationActive,a=this.state.prevPoints;return o&&i&&i.length&&(!a||!Vd(a,i))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(i)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,a=i.xAxis,s=i.yAxis,l=i.children,u=Ko(l,zg);return u?u.map(function(c,f){var h=c.props,g=h.direction,v=h.dataKey;return le.cloneElement(c,{key:"".concat(g,"-").concat(v,"-").concat(o[f]),data:o,xAxis:a,yAxis:s,layout:g==="x"?"vertical":"horizontal",dataPointFormatter:function(x,_){return{x:x.cx,y:x.cy,value:g==="x"?+x.node.x:+x.node.y,errorVal:yr(x,_)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,i=r.points,o=r.line,a=r.lineType,s=r.lineJointType,l=Nt(this.props,!1),u=Nt(o,!1),c,f;if(a==="joint")c=i.map(function(w){return{x:w.cx,y:w.cy}});else if(a==="fitting"){var h=qre(i),g=h.xmin,v=h.xmax,b=h.a,x=h.b,_=function(E){return b*E+x};c=[{x:g,y:_(g)},{x:v,y:_(v)}]}var S=_s(_s(_s({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:c});return le.isValidElement(o)?f=le.cloneElement(o,S):Kt(o)?f=o(S):f=le.createElement(z0,zy({},S,{type:s})),le.createElement(wn,{className:"recharts-scatter-line",key:"recharts-scatter-line"},f)}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.points,a=r.line,s=r.className,l=r.xAxis,u=r.yAxis,c=r.left,f=r.top,h=r.width,g=r.height,v=r.id,b=r.isAnimationActive;if(i||!o||!o.length)return null;var x=this.state.isAnimationFinished,_=an("recharts-scatter",s),S=l&&l.allowDataOverflow,w=u&&u.allowDataOverflow,E=S||w,T=Vt(v)?this.id:v;return le.createElement(wn,{className:_,clipPath:E?"url(#clipPath-".concat(T,")"):null},S||w?le.createElement("defs",null,le.createElement("clipPath",{id:"clipPath-".concat(T)},le.createElement("rect",{x:S?c:c-h/2,y:w?f:f-g/2,width:S?h:h*2,height:w?g:g*2}))):null,a&&this.renderLine(),this.renderErrorBar(),le.createElement(wn,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!b||x)&&fl.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}}])}(oe.PureComponent);pf(AE,"displayName","Scatter");pf(AE,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ts.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});pf(AE,"getComposedData",function(t){var e=t.xAxis,n=t.yAxis,r=t.zAxis,i=t.item,o=t.displayedData,a=t.xAxisTicks,s=t.yAxisTicks,l=t.offset,u=i.props.tooltipType,c=Ko(i.props.children,nE),f=Vt(e.dataKey)?i.props.dataKey:e.dataKey,h=Vt(n.dataKey)?i.props.dataKey:n.dataKey,g=r&&r.dataKey,v=r?r.range:EE.defaultProps.range,b=v&&v[0],x=e.scale.bandwidth?e.scale.bandwidth():0,_=n.scale.bandwidth?n.scale.bandwidth():0,S=o.map(function(w,E){var T=yr(w,f),P=yr(w,h),I=!Vt(g)&&yr(w,g)||"-",O=[{name:Vt(e.dataKey)?i.props.name:e.name||e.dataKey,unit:e.unit||"",value:T,payload:w,dataKey:f,type:u},{name:Vt(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:P,payload:w,dataKey:h,type:u}];I!=="-"&&O.push({name:r.name||r.dataKey,unit:r.unit||"",value:I,payload:w,dataKey:g,type:u});var C=XS({axis:e,ticks:a,bandSize:x,entry:w,index:E,dataKey:f}),L=XS({axis:n,ticks:s,bandSize:_,entry:w,index:E,dataKey:h}),N=I!=="-"?r.scale(I):b,U=Math.sqrt(Math.max(N,0)/Math.PI);return _s(_s({},w),{},{cx:C,cy:L,x:C-U,y:L-U,xAxis:e,yAxis:n,zAxis:r,width:2*U,height:2*U,size:N,node:{x:T,y:P,z:I},tooltipPayload:O,tooltipPosition:{x:C,y:L},payload:w},c&&c[E]&&c[E].props)});return _s({points:S},l)});function gg(t){"@babel/helpers - typeof";return gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gg(t)}function pAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,lG(r.key),r)}}function gAe(t,e,n){return e&&mAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vAe(t,e,n){return e=ww(e),yAe(t,aG()?Reflect.construct(e,n||[],ww(t).constructor):e.apply(t,n))}function yAe(t,e){if(e&&(gg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Ae(t)}function _Ae(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aG=function(){return!!t})()}function ww(t){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ww(t)}function xAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hO(t,e)}function hO(t,e){return hO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hO(t,e)}function sG(t,e,n){return e=lG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lG(t){var e=bAe(t,"string");return gg(e)=="symbol"?e:e+""}function bAe(t,e){if(gg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dO(){return dO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dO.apply(this,arguments)}function SAe(t){var e=t.xAxisId,n=VI(),r=XI(),i=jH(e);return i==null?null:le.createElement(Hg,dO({},i,{className:an("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Wu(a,!0)}}))}var k_=function(t){function e(){return pAe(this,e),vAe(this,e,arguments)}return xAe(e,t),gAe(e,[{key:"render",value:function(){return le.createElement(SAe,this.props)}}])}(le.Component);sG(k_,"displayName","XAxis");sG(k_,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function vg(t){"@babel/helpers - typeof";return vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vg(t)}function wAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function MAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,fG(r.key),r)}}function EAe(t,e,n){return e&&MAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AAe(t,e,n){return e=Mw(e),TAe(t,uG()?Reflect.construct(e,n||[],Mw(t).constructor):e.apply(t,n))}function TAe(t,e){if(e&&(vg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PAe(t)}function PAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function uG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uG=function(){return!!t})()}function Mw(t){return Mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mw(t)}function CAe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pO(t,e)}function pO(t,e){return pO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pO(t,e)}function cG(t,e,n){return e=fG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fG(t){var e=OAe(t,"string");return vg(e)=="symbol"?e:e+""}function OAe(t,e){if(vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mO(){return mO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mO.apply(this,arguments)}var RAe=function(e){var n=e.yAxisId,r=VI(),i=XI(),o=$H(n);return o==null?null:le.createElement(Hg,mO({},o,{className:an("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return Wu(s,!0)}}))},U_=function(t){function e(){return wAe(this,e),AAe(this,e,arguments)}return CAe(e,t),EAe(e,[{key:"render",value:function(){return le.createElement(RAe,this.props)}}])}(le.Component);cG(U_,"displayName","YAxis");cG(U_,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function iB(t){return NAe(t)||DAe(t)||LAe(t)||IAe()}function IAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LAe(t,e){if(t){if(typeof t=="string")return gO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gO(t,e)}}function DAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NAe(t){if(Array.isArray(t))return gO(t)}function gO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var vO=function(e,n,r,i,o){var a=Ko(e,YI),s=Ko(e,bE),l=[].concat(iB(a),iB(s)),u=Ko(e,wE),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(b,x){if(x.props[c]===r&&Kl(x.props,"extendDomain")&&mt(x.props[f])){var _=x.props[f];return[Math.min(b[0],_),Math.max(b[1],_)]}return b},h)),u.length){var g="".concat(f,"1"),v="".concat(f,"2");h=u.reduce(function(b,x){if(x.props[c]===r&&Kl(x.props,"extendDomain")&&mt(x.props[g])&&mt(x.props[v])){var _=x.props[g],S=x.props[v];return[Math.min(b[0],_,S),Math.max(b[1],_,S)]}return b},h)}return o&&o.length&&(h=o.reduce(function(b,x){return mt(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},h)),h},hG={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var g=new i(c,f||l,h),v=n?n+u:u;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],g]:l._events[v].push(g):(l._events[v]=g,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,g=f.length,v=new Array(g);h<g;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,g,v){var b=n?n+u:u;if(!this._events[b])return!1;var x=this._events[b],_=arguments.length,S,w;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),_){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,f),!0;case 4:return x.fn.call(x.context,c,f,h),!0;case 5:return x.fn.call(x.context,c,f,h,g),!0;case 6:return x.fn.call(x.context,c,f,h,g,v),!0}for(w=1,S=new Array(_-1);w<_;w++)S[w-1]=arguments[w];x.fn.apply(x.context,S)}else{var E=x.length,T;for(w=0;w<E;w++)switch(x[w].once&&this.removeListener(u,x[w].fn,void 0,!0),_){case 1:x[w].fn.call(x[w].context);break;case 2:x[w].fn.call(x[w].context,c);break;case 3:x[w].fn.call(x[w].context,c,f);break;case 4:x[w].fn.call(x[w].context,c,f,h);break;default:if(!S)for(T=1,S=new Array(_-1);T<_;T++)S[T-1]=arguments[T];x[w].fn.apply(x[w].context,S)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var g=n?n+u:u;if(!this._events[g])return this;if(!c)return a(this,g),this;var v=this._events[g];if(v.fn)v.fn===c&&(!h||v.once)&&(!f||v.context===f)&&a(this,g);else{for(var b=0,x=[],_=v.length;b<_;b++)(v[b].fn!==c||h&&!v[b].once||f&&v[b].context!==f)&&x.push(v[b]);x.length?this._events[g]=x.length===1?x[0]:x:a(this,g)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(hG);var kAe=hG.exports;const UAe=Nn(kAe);var jT=new UAe,$T="recharts.syncMouseEvents";function e_(t){"@babel/helpers - typeof";return e_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e_(t)}function FAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BAe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dG(r.key),r)}}function zAe(t,e,n){return e&&BAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function HT(t,e,n){return e=dG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dG(t){var e=jAe(t,"string");return e_(e)=="symbol"?e:e+""}function jAe(t,e){if(e_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(e_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $Ae=function(){function t(){FAe(this,t),HT(this,"activeIndex",0),HT(this,"coordinateList",[]),HT(this,"layout","horizontal")}return zAe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,g=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function HAe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&mt(r)&&mt(i))return!0}return!1}function GAe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function pG(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Gn(e,n,r,i),s=Gn(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function WAe(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Gn(s,l,u,f),g=Gn(s,l,c,f);r=h.x,i=h.y,o=g.x,a=g.y}else return pG(e);return[{x:r,y:i},{x:o,y:a}]}function t_(t){"@babel/helpers - typeof";return t_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t_(t)}function oB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function P1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oB(Object(n),!0).forEach(function(r){VAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VAe(t,e,n){return e=XAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XAe(t){var e=qAe(t,"string");return t_(e)=="symbol"?e:e+""}function qAe(t,e){if(t_(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(t_(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YAe(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,g=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!g||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var v,b=z0;if(h==="ScatterChart")v=a,b=b1e;else if(h==="BarChart")v=GAe(f,a,l,c),b=jI;else if(f==="radial"){var x=pG(a),_=x.cx,S=x.cy,w=x.radius,E=x.startAngle,T=x.endAngle;v={cx:_,cy:S,startAngle:E,endAngle:T,innerRadius:w,outerRadius:w},b=rH}else v={points:WAe(f,a,l)},b=z0;var P=P1(P1(P1(P1({stroke:"#ccc",pointerEvents:"none"},l),v),Nt(g,!1)),{},{payload:s,payloadIndex:u,className:an("recharts-tooltip-cursor",g.className)});return oe.isValidElement(g)?oe.cloneElement(g,P):oe.createElement(b,P)}var KAe=["item"],ZAe=["children","className","width","height","style","compact","title","desc"];function yg(t){"@babel/helpers - typeof";return yg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yg(t)}function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xm.apply(this,arguments)}function aB(t,e){return eTe(t)||QAe(t,e)||gG(t,e)||JAe()}function JAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function eTe(t){if(Array.isArray(t))return t}function sB(t,e){if(t==null)return{};var n=tTe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tTe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rTe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vG(r.key),r)}}function iTe(t,e,n){return e&&rTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function oTe(t,e,n){return e=Ew(e),aTe(t,mG()?Reflect.construct(e,n||[],Ew(t).constructor):e.apply(t,n))}function aTe(t,e){if(e&&(yg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sTe(t)}function sTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mG=function(){return!!t})()}function Ew(t){return Ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ew(t)}function lTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yO(t,e)}function yO(t,e){return yO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yO(t,e)}function _g(t){return fTe(t)||cTe(t)||gG(t)||uTe()}function uTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gG(t,e){if(t){if(typeof t=="string")return _O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _O(t,e)}}function cTe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fTe(t){if(Array.isArray(t))return _O(t)}function _O(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lB(Object(n),!0).forEach(function(r){Qt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lB(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qt(t,e,n){return e=vG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vG(t){var e=hTe(t,"string");return yg(e)=="symbol"?e:e+""}function hTe(t,e){if(yg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dTe={xAxis:["bottom","top"],yAxis:["left","right"]},pTe={width:"100%",height:"100%"},yG={x:0,y:0};function C1(t){return t}var mTe=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},gTe=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return et(et(et({},i),Gn(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return et(et(et({},i),Gn(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return yG},TE=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(_g(s),_g(u)):s},[]);return a.length>0?a:e&&e.length&&mt(i)&&mt(o)?e.slice(i,o+1):[]};function _G(t){return t==="number"?[0,"auto"]:void 0}var xO=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=TE(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var g=f===void 0?s:f;h=_S(g,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(_g(l),[Y8(u,h)]):l},[])},uB=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=mTe(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=i0e(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=xO(e,n,c,f),g=gTe(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:g}}return null},vTe=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,g=H8(c,o);return r.reduce(function(v,b){var x,_=b.type.defaultProps!==void 0?et(et({},b.type.defaultProps),b.props):b.props,S=_.type,w=_.dataKey,E=_.allowDataOverflow,T=_.allowDuplicatedCategory,P=_.scale,I=_.ticks,O=_.includeHidden,C=_[a];if(v[C])return v;var L=TE(e.data,{graphicalItems:i.filter(function(Y){var se,re=a in Y.props?Y.props[a]:(se=Y.type.defaultProps)===null||se===void 0?void 0:se[a];return re===C}),dataStartIndex:l,dataEndIndex:u}),N=L.length,U,z,$;HAe(_.domain,E,S)&&(U=RC(_.domain,null,E),g&&(S==="number"||P!=="auto")&&($=Dy(L,w,"category")));var K=_G(S);if(!U||U.length===0){var q,Q=(q=_.domain)!==null&&q!==void 0?q:K;if(w){if(U=Dy(L,w,S),S==="category"&&g){var F=Xre(U);T&&F?(z=U,U=cw(0,N)):T||(U=AU(Q,U,b).reduce(function(Y,se){return Y.indexOf(se)>=0?Y:[].concat(_g(Y),[se])},[]))}else if(S==="category")T?U=U.filter(function(Y){return Y!==""&&!Vt(Y)}):U=AU(Q,U,b).reduce(function(Y,se){return Y.indexOf(se)>=0||se===""||Vt(se)?Y:[].concat(_g(Y),[se])},[]);else if(S==="number"){var j=u0e(L,i.filter(function(Y){var se,re,ie=a in Y.props?Y.props[a]:(se=Y.type.defaultProps)===null||se===void 0?void 0:se[a],ge="hide"in Y.props?Y.props.hide:(re=Y.type.defaultProps)===null||re===void 0?void 0:re.hide;return ie===C&&(O||!ge)}),w,o,c);j&&(U=j)}g&&(S==="number"||P!=="auto")&&($=Dy(L,w,"category"))}else g?U=cw(0,N):s&&s[C]&&s[C].hasStack&&S==="number"?U=h==="expand"?[0,1]:q8(s[C].stackGroups,l,u):U=$8(L,i.filter(function(Y){var se=a in Y.props?Y.props[a]:Y.type.defaultProps[a],re="hide"in Y.props?Y.props.hide:Y.type.defaultProps.hide;return se===C&&(O||!re)}),S,c,!0);if(S==="number")U=vO(f,U,C,o,I),Q&&(U=RC(Q,U,E));else if(S==="category"&&Q){var X=Q,H=U.every(function(Y){return X.indexOf(Y)>=0});H&&(U=X)}}return et(et({},v),{},Qt({},C,et(et({},_),{},{axisType:o,domain:U,categoricalDomain:$,duplicateDomain:z,originalDomain:(x=_.domain)!==null&&x!==void 0?x:K,isCategorical:g,layout:c})))},{})},yTe=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=TE(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),g=h.length,v=H8(c,o),b=-1;return r.reduce(function(x,_){var S=_.type.defaultProps!==void 0?et(et({},_.type.defaultProps),_.props):_.props,w=S[a],E=_G("number");if(!x[w]){b++;var T;return v?T=cw(0,g):s&&s[w]&&s[w].hasStack?(T=q8(s[w].stackGroups,l,u),T=vO(f,T,w,o)):(T=RC(E,$8(h,r.filter(function(P){var I,O,C=a in P.props?P.props[a]:(I=P.type.defaultProps)===null||I===void 0?void 0:I[a],L="hide"in P.props?P.props.hide:(O=P.type.defaultProps)===null||O===void 0?void 0:O.hide;return C===w&&!L}),"number",c),i.defaultProps.allowDataOverflow),T=vO(f,T,w,o)),et(et({},x),{},Qt({},w,et(et({axisType:o},i.defaultProps),{},{hide:!0,orientation:qa(dTe,"".concat(o,".").concat(b%2),null),domain:T,originalDomain:E,isCategorical:v,layout:c})))}return x},{})},_Te=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=Ko(c,o),g={};return h&&h.length?g=vTe(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(g=yTe(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),g},xTe=function(e){var n=lf(e),r=Wu(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:pI(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:qS(n,r)}},cB=function(e){var n=e.children,r=e.defaultShowTooltip,i=Ga(n,sg),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},bTe=function(e){return!e||!e.length?!1:e.some(function(n){var r=Yu(n&&n.type);return r&&r.indexOf("Bar")>=0})},fB=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},STe=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},g=Ga(f,sg),v=Ga(f,Nm),b=Object.keys(l).reduce(function(T,P){var I=l[P],O=I.orientation;return!I.mirror&&!I.hide?et(et({},T),{},Qt({},O,T[O]+I.width)):T},{left:h.left||0,right:h.right||0}),x=Object.keys(a).reduce(function(T,P){var I=a[P],O=I.orientation;return!I.mirror&&!I.hide?et(et({},T),{},Qt({},O,qa(T,"".concat(O))+I.height)):T},{top:h.top||0,bottom:h.bottom||0}),_=et(et({},x),b),S=_.bottom;g&&(_.bottom+=g.props.height||sg.defaultProps.height),v&&n&&(_=s0e(_,i,r,n));var w=u-_.left-_.right,E=c-_.top-_.bottom;return et(et({brushBottom:S},_),{},{width:Math.max(w,0),height:Math.max(E,0)})},wTe=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},F_=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(_,S){var w=S.graphicalItems,E=S.stackGroups,T=S.offset,P=S.updateId,I=S.dataStartIndex,O=S.dataEndIndex,C=_.barSize,L=_.layout,N=_.barGap,U=_.barCategoryGap,z=_.maxBarSize,$=fB(L),K=$.numericAxisName,q=$.cateAxisName,Q=bTe(w),F=[];return w.forEach(function(j,X){var H=TE(_.data,{graphicalItems:[j],dataStartIndex:I,dataEndIndex:O}),Y=j.type.defaultProps!==void 0?et(et({},j.type.defaultProps),j.props):j.props,se=Y.dataKey,re=Y.maxBarSize,ie=Y["".concat(K,"Id")],ge=Y["".concat(q,"Id")],de={},be=l.reduce(function(W,G){var ce=S["".concat(G.axisType,"Map")],Me=Y["".concat(G.axisType,"Id")];ce&&ce[Me]||G.axisType==="zAxis"||Cd();var ve=ce[Me];return et(et({},W),{},Qt(Qt({},G.axisType,ve),"".concat(G.axisType,"Ticks"),Wu(ve)))},de),fe=be[q],Te=be["".concat(q,"Ticks")],Se=E&&E[ie]&&E[ie].hasStack&&y0e(j,E[ie].stackGroups),ee=Yu(j.type).indexOf("Bar")>=0,we=qS(fe,Te),Z=[],Ie=Q&&o0e({barSize:C,stackGroups:E,totalSize:wTe(be,q)});if(ee){var xe,Ne,Ee=Vt(re)?z:re,Ke=(xe=(Ne=qS(fe,Te,!0))!==null&&Ne!==void 0?Ne:Ee)!==null&&xe!==void 0?xe:0;Z=a0e({barGap:N,barCategoryGap:U,bandSize:Ke!==we?Ke:we,sizeList:Ie[ge],maxBarSize:Ee}),Ke!==we&&(Z=Z.map(function(W){return et(et({},W),{},{position:et(et({},W.position),{},{offset:W.position.offset-Ke/2})})}))}var Ue=j&&j.type&&j.type.getComposedData;Ue&&F.push({props:et(et({},Ue(et(et({},be),{},{displayedData:H,props:_,dataKey:se,item:j,bandSize:we,barPosition:Z,offset:T,stackedData:Se,layout:L,dataStartIndex:I,dataEndIndex:O}))),{},Qt(Qt(Qt({key:j.key||"item-".concat(X)},K,be[K]),q,be[q]),"animationId",P)),childIndex:aie(j,_.children),item:j})}),F},g=function(_,S){var w=_.props,E=_.dataStartIndex,T=_.dataEndIndex,P=_.updateId;if(!xN({props:w}))return null;var I=w.children,O=w.layout,C=w.stackOffset,L=w.data,N=w.reverseStackOrder,U=fB(O),z=U.numericAxisName,$=U.cateAxisName,K=Ko(I,r),q=g0e(L,K,"".concat(z,"Id"),"".concat($,"Id"),C,N),Q=l.reduce(function(Y,se){var re="".concat(se.axisType,"Map");return et(et({},Y),{},Qt({},re,_Te(w,et(et({},se),{},{graphicalItems:K,stackGroups:se.axisType===z&&q,dataStartIndex:E,dataEndIndex:T}))))},{}),F=STe(et(et({},Q),{},{props:w,graphicalItems:K}),S==null?void 0:S.legendBBox);Object.keys(Q).forEach(function(Y){Q[Y]=c(w,Q[Y],F,Y.replace("Map",""),n)});var j=Q["".concat($,"Map")],X=xTe(j),H=h(w,et(et({},Q),{},{dataStartIndex:E,dataEndIndex:T,updateId:P,graphicalItems:K,stackGroups:q,offset:F}));return et(et({formattedGraphicalItems:H,graphicalItems:K,offset:F,stackGroups:q},X),Q)},v=function(x){function _(S){var w,E,T;return nTe(this,_),T=oTe(this,_,[S]),Qt(T,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Qt(T,"accessibilityManager",new $Ae),Qt(T,"handleLegendBBoxUpdate",function(P){if(P){var I=T.state,O=I.dataStartIndex,C=I.dataEndIndex,L=I.updateId;T.setState(et({legendBBox:P},g({props:T.props,dataStartIndex:O,dataEndIndex:C,updateId:L},et(et({},T.state),{},{legendBBox:P}))))}}),Qt(T,"handleReceiveSyncEvent",function(P,I,O){if(T.props.syncId===P){if(O===T.eventEmitterSymbol&&typeof T.props.syncMethod!="function")return;T.applySyncEvent(I)}}),Qt(T,"handleBrushChange",function(P){var I=P.startIndex,O=P.endIndex;if(I!==T.state.dataStartIndex||O!==T.state.dataEndIndex){var C=T.state.updateId;T.setState(function(){return et({dataStartIndex:I,dataEndIndex:O},g({props:T.props,dataStartIndex:I,dataEndIndex:O,updateId:C},T.state))}),T.triggerSyncEvent({dataStartIndex:I,dataEndIndex:O})}}),Qt(T,"handleMouseEnter",function(P){var I=T.getMouseInfo(P);if(I){var O=et(et({},I),{},{isTooltipActive:!0});T.setState(O),T.triggerSyncEvent(O);var C=T.props.onMouseEnter;Kt(C)&&C(O,P)}}),Qt(T,"triggeredAfterMouseMove",function(P){var I=T.getMouseInfo(P),O=I?et(et({},I),{},{isTooltipActive:!0}):{isTooltipActive:!1};T.setState(O),T.triggerSyncEvent(O);var C=T.props.onMouseMove;Kt(C)&&C(O,P)}),Qt(T,"handleItemMouseEnter",function(P){T.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),Qt(T,"handleItemMouseLeave",function(){T.setState(function(){return{isTooltipActive:!1}})}),Qt(T,"handleMouseMove",function(P){P.persist(),T.throttleTriggeredAfterMouseMove(P)}),Qt(T,"handleMouseLeave",function(P){T.throttleTriggeredAfterMouseMove.cancel();var I={isTooltipActive:!1};T.setState(I),T.triggerSyncEvent(I);var O=T.props.onMouseLeave;Kt(O)&&O(I,P)}),Qt(T,"handleOuterEvent",function(P){var I=oie(P),O=qa(T.props,"".concat(I));if(I&&Kt(O)){var C,L;/.*touch.*/i.test(I)?L=T.getMouseInfo(P.changedTouches[0]):L=T.getMouseInfo(P),O((C=L)!==null&&C!==void 0?C:{},P)}}),Qt(T,"handleClick",function(P){var I=T.getMouseInfo(P);if(I){var O=et(et({},I),{},{isTooltipActive:!0});T.setState(O),T.triggerSyncEvent(O);var C=T.props.onClick;Kt(C)&&C(O,P)}}),Qt(T,"handleMouseDown",function(P){var I=T.props.onMouseDown;if(Kt(I)){var O=T.getMouseInfo(P);I(O,P)}}),Qt(T,"handleMouseUp",function(P){var I=T.props.onMouseUp;if(Kt(I)){var O=T.getMouseInfo(P);I(O,P)}}),Qt(T,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),Qt(T,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseDown(P.changedTouches[0])}),Qt(T,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&T.handleMouseUp(P.changedTouches[0])}),Qt(T,"triggerSyncEvent",function(P){T.props.syncId!==void 0&&jT.emit($T,T.props.syncId,P,T.eventEmitterSymbol)}),Qt(T,"applySyncEvent",function(P){var I=T.props,O=I.layout,C=I.syncMethod,L=T.state.updateId,N=P.dataStartIndex,U=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)T.setState(et({dataStartIndex:N,dataEndIndex:U},g({props:T.props,dataStartIndex:N,dataEndIndex:U,updateId:L},T.state)));else if(P.activeTooltipIndex!==void 0){var z=P.chartX,$=P.chartY,K=P.activeTooltipIndex,q=T.state,Q=q.offset,F=q.tooltipTicks;if(!Q)return;if(typeof C=="function")K=C(F,P);else if(C==="value"){K=-1;for(var j=0;j<F.length;j++)if(F[j].value===P.activeLabel){K=j;break}}var X=et(et({},Q),{},{x:Q.left,y:Q.top}),H=Math.min(z,X.x+X.width),Y=Math.min($,X.y+X.height),se=F[K]&&F[K].value,re=xO(T.state,T.props.data,K),ie=F[K]?{x:O==="horizontal"?F[K].coordinate:H,y:O==="horizontal"?Y:F[K].coordinate}:yG;T.setState(et(et({},P),{},{activeLabel:se,activeCoordinate:ie,activePayload:re,activeTooltipIndex:K}))}else T.setState(P)}),Qt(T,"renderCursor",function(P){var I,O=T.state,C=O.isTooltipActive,L=O.activeCoordinate,N=O.activePayload,U=O.offset,z=O.activeTooltipIndex,$=O.tooltipAxisBandSize,K=T.getTooltipEventType(),q=(I=P.props.active)!==null&&I!==void 0?I:C,Q=T.props.layout,F=P.key||"_recharts-cursor";return le.createElement(YAe,{key:F,activeCoordinate:L,activePayload:N,activeTooltipIndex:z,chartName:n,element:P,isActive:q,layout:Q,offset:U,tooltipAxisBandSize:$,tooltipEventType:K})}),Qt(T,"renderPolarAxis",function(P,I,O){var C=qa(P,"type.axisType"),L=qa(T.state,"".concat(C,"Map")),N=P.type.defaultProps,U=N!==void 0?et(et({},N),P.props):P.props,z=L&&L[U["".concat(C,"Id")]];return oe.cloneElement(P,et(et({},z),{},{className:an(C,z.className),key:P.key||"".concat(I,"-").concat(O),ticks:Wu(z,!0)}))}),Qt(T,"renderPolarGrid",function(P){var I=P.props,O=I.radialLines,C=I.polarAngles,L=I.polarRadius,N=T.state,U=N.radiusAxisMap,z=N.angleAxisMap,$=lf(U),K=lf(z),q=K.cx,Q=K.cy,F=K.innerRadius,j=K.outerRadius;return oe.cloneElement(P,{polarAngles:Array.isArray(C)?C:Wu(K,!0).map(function(X){return X.coordinate}),polarRadius:Array.isArray(L)?L:Wu($,!0).map(function(X){return X.coordinate}),cx:q,cy:Q,innerRadius:F,outerRadius:j,key:P.key||"polar-grid",radialLines:O})}),Qt(T,"renderLegend",function(){var P=T.state.formattedGraphicalItems,I=T.props,O=I.children,C=I.width,L=I.height,N=T.props.margin||{},U=C-(N.left||0)-(N.right||0),z=z8({children:O,formattedGraphicalItems:P,legendWidth:U,legendContent:u});if(!z)return null;var $=z.item,K=sB(z,KAe);return oe.cloneElement($,et(et({},K),{},{chartWidth:C,chartHeight:L,margin:N,onBBoxUpdate:T.handleLegendBBoxUpdate}))}),Qt(T,"renderTooltip",function(){var P,I=T.props,O=I.children,C=I.accessibilityLayer,L=Ga(O,Du);if(!L)return null;var N=T.state,U=N.isTooltipActive,z=N.activeCoordinate,$=N.activePayload,K=N.activeLabel,q=N.offset,Q=(P=L.props.active)!==null&&P!==void 0?P:U;return oe.cloneElement(L,{viewBox:et(et({},q),{},{x:q.left,y:q.top}),active:Q,label:K,payload:Q?$:[],coordinate:z,accessibilityLayer:C})}),Qt(T,"renderBrush",function(P){var I=T.props,O=I.margin,C=I.data,L=T.state,N=L.offset,U=L.dataStartIndex,z=L.dataEndIndex,$=L.updateId;return oe.cloneElement(P,{key:P.key||"_recharts-brush",onChange:M1(T.handleBrushChange,P.props.onChange),data:C,x:mt(P.props.x)?P.props.x:N.left,y:mt(P.props.y)?P.props.y:N.top+N.height+N.brushBottom-(O.bottom||0),width:mt(P.props.width)?P.props.width:N.width,startIndex:U,endIndex:z,updateId:"brush-".concat($)})}),Qt(T,"renderReferenceElement",function(P,I,O){if(!P)return null;var C=T,L=C.clipPathId,N=T.state,U=N.xAxisMap,z=N.yAxisMap,$=N.offset,K=P.type.defaultProps||{},q=P.props,Q=q.xAxisId,F=Q===void 0?K.xAxisId:Q,j=q.yAxisId,X=j===void 0?K.yAxisId:j;return oe.cloneElement(P,{key:P.key||"".concat(I,"-").concat(O),xAxis:U[F],yAxis:z[X],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:L})}),Qt(T,"renderActivePoints",function(P){var I=P.item,O=P.activePoint,C=P.basePoint,L=P.childIndex,N=P.isRange,U=[],z=I.props.key,$=I.item.type.defaultProps!==void 0?et(et({},I.item.type.defaultProps),I.item.props):I.item.props,K=$.activeDot,q=$.dataKey,Q=et(et({index:L,dataKey:q,cx:O.x,cy:O.y,r:4,fill:zI(I.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},Nt(K,!1)),xS(K));return U.push(_.renderActiveDot(K,Q,"".concat(z,"-activePoint-").concat(L))),C?U.push(_.renderActiveDot(K,et(et({},Q),{},{cx:C.x,cy:C.y}),"".concat(z,"-basePoint-").concat(L))):N&&U.push(null),U}),Qt(T,"renderGraphicChild",function(P,I,O){var C=T.filterFormatItem(P,I,O);if(!C)return null;var L=T.getTooltipEventType(),N=T.state,U=N.isTooltipActive,z=N.tooltipAxis,$=N.activeTooltipIndex,K=N.activeLabel,q=T.props.children,Q=Ga(q,Du),F=C.props,j=F.points,X=F.isRange,H=F.baseLine,Y=C.item.type.defaultProps!==void 0?et(et({},C.item.type.defaultProps),C.item.props):C.item.props,se=Y.activeDot,re=Y.hide,ie=Y.activeBar,ge=Y.activeShape,de=!!(!re&&U&&Q&&(se||ie||ge)),be={};L!=="axis"&&Q&&Q.props.trigger==="click"?be={onClick:M1(T.handleItemMouseEnter,P.props.onClick)}:L!=="axis"&&(be={onMouseLeave:M1(T.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:M1(T.handleItemMouseEnter,P.props.onMouseEnter)});var fe=oe.cloneElement(P,et(et({},C.props),be));function Te(G){return typeof z.dataKey=="function"?z.dataKey(G.payload):null}if(de)if($>=0){var Se,ee;if(z.dataKey&&!z.allowDuplicatedCategory){var we=typeof z.dataKey=="function"?Te:"payload.".concat(z.dataKey.toString());Se=_S(j,we,K),ee=X&&H&&_S(H,we,K)}else Se=j==null?void 0:j[$],ee=X&&H&&H[$];if(ge||ie){var Z=P.props.activeIndex!==void 0?P.props.activeIndex:$;return[oe.cloneElement(P,et(et(et({},C.props),be),{},{activeIndex:Z})),null,null]}if(!Vt(Se))return[fe].concat(_g(T.renderActivePoints({item:C,activePoint:Se,basePoint:ee,childIndex:$,isRange:X})))}else{var Ie,xe=(Ie=T.getItemByXY(T.state.activeCoordinate))!==null&&Ie!==void 0?Ie:{graphicalItem:fe},Ne=xe.graphicalItem,Ee=Ne.item,Ke=Ee===void 0?P:Ee,Ue=Ne.childIndex,W=et(et(et({},C.props),be),{},{activeIndex:Ue});return[oe.cloneElement(Ke,W),null,null]}return X?[fe,null,null]:[fe,null]}),Qt(T,"renderCustomized",function(P,I,O){return oe.cloneElement(P,et(et({key:"recharts-customized-".concat(O)},T.props),T.state))}),Qt(T,"renderMap",{CartesianGrid:{handler:C1,once:!0},ReferenceArea:{handler:T.renderReferenceElement},ReferenceLine:{handler:C1},ReferenceDot:{handler:T.renderReferenceElement},XAxis:{handler:C1},YAxis:{handler:C1},Brush:{handler:T.renderBrush,once:!0},Bar:{handler:T.renderGraphicChild},Line:{handler:T.renderGraphicChild},Area:{handler:T.renderGraphicChild},Radar:{handler:T.renderGraphicChild},RadialBar:{handler:T.renderGraphicChild},Scatter:{handler:T.renderGraphicChild},Pie:{handler:T.renderGraphicChild},Funnel:{handler:T.renderGraphicChild},Tooltip:{handler:T.renderCursor,once:!0},PolarGrid:{handler:T.renderPolarGrid,once:!0},PolarAngleAxis:{handler:T.renderPolarAxis},PolarRadiusAxis:{handler:T.renderPolarAxis},Customized:{handler:T.renderCustomized}}),T.clipPathId="".concat((w=S.id)!==null&&w!==void 0?w:Hd("recharts"),"-clip"),T.throttleTriggeredAfterMouseMove=B$(T.triggeredAfterMouseMove,(E=S.throttleDelay)!==null&&E!==void 0?E:1e3/60),T.state={},T}return lTe(_,x),iTe(_,[{key:"componentDidMount",value:function(){var w,E;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,E=w.children,T=w.data,P=w.height,I=w.layout,O=Ga(E,Du);if(O){var C=O.props.defaultIndex;if(!(typeof C!="number"||C<0||C>this.state.tooltipTicks.length-1)){var L=this.state.tooltipTicks[C]&&this.state.tooltipTicks[C].value,N=xO(this.state,T,C,L),U=this.state.tooltipTicks[C].coordinate,z=(this.state.offset.top+P)/2,$=I==="horizontal",K=$?{x:U,y:z}:{y:U,x:z},q=this.state.formattedGraphicalItems.find(function(F){var j=F.item;return j.type.name==="Scatter"});q&&(K=et(et({},K),q.props.points[C].tooltipPosition),N=q.props.points[C].tooltipPayload);var Q={activeTooltipIndex:C,isTooltipActive:!0,activeLabel:L,activePayload:N,activeCoordinate:K};this.setState(Q),this.renderCursor(O),this.accessibilityManager.setIndex(C)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,E){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==E.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var T,P;this.accessibilityManager.setDetails({offset:{left:(T=this.props.margin.left)!==null&&T!==void 0?T:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(w){VP([Ga(w.children,Du)],[Ga(this.props.children,Du)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Ga(this.props.children,Du);if(w&&typeof w.props.shared=="boolean"){var E=w.props.shared?"axis":"item";return s.indexOf(E)>=0?E:o}return o}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var E=this.container,T=E.getBoundingClientRect(),P=Ipe(T),I={chartX:Math.round(w.pageX-P.left),chartY:Math.round(w.pageY-P.top)},O=T.width/E.offsetWidth||1,C=this.inRange(I.chartX,I.chartY,O);if(!C)return null;var L=this.state,N=L.xAxisMap,U=L.yAxisMap,z=this.getTooltipEventType();if(z!=="axis"&&N&&U){var $=lf(N).scale,K=lf(U).scale,q=$&&$.invert?$.invert(I.chartX):null,Q=K&&K.invert?K.invert(I.chartY):null;return et(et({},I),{},{xValue:q,yValue:Q})}var F=uB(this.state,this.props.data,this.props.layout,C);return F?et(et({},I),F):null}},{key:"inRange",value:function(w,E){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,I=w/T,O=E/T;if(P==="horizontal"||P==="vertical"){var C=this.state.offset,L=I>=C.left&&I<=C.left+C.width&&O>=C.top&&O<=C.top+C.height;return L?{x:I,y:O}:null}var N=this.state,U=N.angleAxisMap,z=N.radiusAxisMap;if(U&&z){var $=lf(U);return CU({x:I,y:O},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,E=this.getTooltipEventType(),T=Ga(w,Du),P={};T&&E==="axis"&&(T.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var I=xS(this.props,this.handleOuterEvent);return et(et({},I),P)}},{key:"addListener",value:function(){jT.on($T,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){jT.removeListener($T,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,E,T){for(var P=this.state.formattedGraphicalItems,I=0,O=P.length;I<O;I++){var C=P[I];if(C.item===w||C.props.key===w.key||E===Yu(C.item.type)&&T===C.childIndex)return C}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,E=this.state.offset,T=E.left,P=E.top,I=E.height,O=E.width;return le.createElement("defs",null,le.createElement("clipPath",{id:w},le.createElement("rect",{x:T,y:P,height:I,width:O})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(E,T){var P=aB(T,2),I=P[0],O=P[1];return et(et({},E),{},Qt({},I,O.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(E,T){var P=aB(T,2),I=P[0],O=P[1];return et(et({},E),{},Qt({},I,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var E;return(E=this.state.xAxisMap)===null||E===void 0||(E=E[w])===null||E===void 0?void 0:E.scale}},{key:"getYScaleByAxisId",value:function(w){var E;return(E=this.state.yAxisMap)===null||E===void 0||(E=E[w])===null||E===void 0?void 0:E.scale}},{key:"getItemByXY",value:function(w){var E=this.state,T=E.formattedGraphicalItems,P=E.activeItem;if(T&&T.length)for(var I=0,O=T.length;I<O;I++){var C=T[I],L=C.props,N=C.item,U=N.type.defaultProps!==void 0?et(et({},N.type.defaultProps),N.props):N.props,z=Yu(N.type);if(z==="Bar"){var $=(L.data||[]).find(function(F){return n1e(w,F)});if($)return{graphicalItem:C,payload:$}}else if(z==="RadialBar"){var K=(L.data||[]).find(function(F){return CU(w,F)});if(K)return{graphicalItem:C,payload:K}}else if(gE(C,P)||vE(C,P)||Y0(C,P)){var q=tSe({graphicalItem:C,activeTooltipItem:P,itemData:U.data}),Q=U.activeIndex===void 0?q:U.activeIndex;return{graphicalItem:et(et({},C),{},{childIndex:Q}),payload:Y0(C,P)?U.data[q]:C.props.data[q]}}}return null}},{key:"render",value:function(){var w=this;if(!xN(this))return null;var E=this.props,T=E.children,P=E.className,I=E.width,O=E.height,C=E.style,L=E.compact,N=E.title,U=E.desc,z=sB(E,ZAe),$=Nt(z,!1);if(L)return le.createElement(zF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement(qP,xm({},$,{width:I,height:O,title:N,desc:U}),this.renderClipPath(),SN(T,this.renderMap)));if(this.props.accessibilityLayer){var K,q;$.tabIndex=(K=this.props.tabIndex)!==null&&K!==void 0?K:0,$.role=(q=this.props.role)!==null&&q!==void 0?q:"application",$.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},$.onFocus=function(){w.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return le.createElement(zF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},le.createElement("div",xm({className:an("recharts-wrapper",P),style:et({position:"relative",cursor:"default",width:I,height:O},C)},Q,{ref:function(j){w.container=j}}),le.createElement(qP,xm({},$,{width:I,height:O,title:N,desc:U,style:pTe}),this.renderClipPath(),SN(T,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(oe.Component);Qt(v,"displayName",n),Qt(v,"defaultProps",et({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Qt(v,"getDerivedStateFromProps",function(x,_){var S=x.dataKey,w=x.data,E=x.children,T=x.width,P=x.height,I=x.layout,O=x.stackOffset,C=x.margin,L=_.dataStartIndex,N=_.dataEndIndex;if(_.updateId===void 0){var U=cB(x);return et(et(et({},U),{},{updateId:0},g(et(et({props:x},U),{},{updateId:0}),_)),{},{prevDataKey:S,prevData:w,prevWidth:T,prevHeight:P,prevLayout:I,prevStackOffset:O,prevMargin:C,prevChildren:E})}if(S!==_.prevDataKey||w!==_.prevData||T!==_.prevWidth||P!==_.prevHeight||I!==_.prevLayout||O!==_.prevStackOffset||!Dm(C,_.prevMargin)){var z=cB(x),$={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},K=et(et({},uB(_,w,I)),{},{updateId:_.updateId+1}),q=et(et(et({},z),$),K);return et(et(et({},q),g(et({props:x},q),_)),{},{prevDataKey:S,prevData:w,prevWidth:T,prevHeight:P,prevLayout:I,prevStackOffset:O,prevMargin:C,prevChildren:E})}if(!VP(E,_.prevChildren)){var Q,F,j,X,H=Ga(E,sg),Y=H&&(Q=(F=H.props)===null||F===void 0?void 0:F.startIndex)!==null&&Q!==void 0?Q:L,se=H&&(j=(X=H.props)===null||X===void 0?void 0:X.endIndex)!==null&&j!==void 0?j:N,re=Y!==L||se!==N,ie=!Vt(w),ge=ie&&!re?_.updateId:_.updateId+1;return et(et({updateId:ge},g(et(et({props:x},_),{},{updateId:ge,dataStartIndex:Y,dataEndIndex:se}),_)),{},{prevChildren:E,dataStartIndex:Y,dataEndIndex:se})}return null}),Qt(v,"renderActiveDot",function(x,_,S){var w;return oe.isValidElement(x)?w=oe.cloneElement(x,_):Kt(x)?w=x(_):w=le.createElement(L_,_),le.createElement(wn,{className:"recharts-active-dot",key:S},w)});var b=oe.forwardRef(function(_,S){return le.createElement(v,xm({},_,{ref:S}))});return b.displayName=v.displayName,b},ske=F_({chartName:"LineChart",GraphicalChild:ME,axisComponents:[{axisType:"xAxis",AxisComp:k_},{axisType:"yAxis",AxisComp:U_}],formatAxisMap:$I}),lke=F_({chartName:"BarChart",GraphicalChild:$g,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:k_},{axisType:"yAxis",AxisComp:U_}],formatAxisMap:$I}),uke=F_({chartName:"PieChart",GraphicalChild:Ff,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:N_},{axisType:"radiusAxis",AxisComp:D_}],formatAxisMap:J8,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),cke=F_({chartName:"RadarChart",GraphicalChild:yE,axisComponents:[{axisType:"angleAxis",AxisComp:N_},{axisType:"radiusAxis",AxisComp:D_}],formatAxisMap:J8,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),fke=F_({chartName:"ScatterChart",GraphicalChild:AE,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:k_},{axisType:"yAxis",AxisComp:U_},{axisType:"zAxis",AxisComp:EE}],formatAxisMap:$I}),xG={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})($l,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},s=0,l={parse:function(O,C){var L=(C=C||{}).dynamicTyping||!1;if(I(L)&&(C.dynamicTypingFunction=L,L={}),C.dynamicTyping=L,C.transform=!!I(C.transform)&&C.transform,C.worker&&l.WORKERS_SUPPORTED){var N=function(){if(!l.WORKERS_SUPPORTED)return!1;var z=(K=r.URL||r.webkitURL||null,q=n.toString(),l.BLOB_URL||(l.BLOB_URL=K.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",q,")();"],{type:"text/javascript"})))),$=new r.Worker(z),K,q;return $.onmessage=S,$.id=s++,a[$.id]=$}();return N.userStep=C.step,N.userChunk=C.chunk,N.userComplete=C.complete,N.userError=C.error,C.step=I(C.step),C.chunk=I(C.chunk),C.complete=I(C.complete),C.error=I(C.error),delete C.worker,void N.postMessage({input:O,config:C,workerId:N.id})}var U=null;return l.NODE_STREAM_INPUT,typeof O=="string"?(O=function(z){return z.charCodeAt(0)===65279?z.slice(1):z}(O),U=C.download?new f(C):new g(C)):O.readable===!0&&I(O.read)&&I(O.on)?U=new v(C):(r.File&&O instanceof File||O instanceof Object)&&(U=new h(C)),U.stream(O)},unparse:function(O,C){var L=!1,N=!0,U=",",z=`\r
`,$='"',K=$+$,q=!1,Q=null,F=!1;(function(){if(typeof C=="object"){if(typeof C.delimiter!="string"||l.BAD_DELIMITERS.filter(function(Y){return C.delimiter.indexOf(Y)!==-1}).length||(U=C.delimiter),(typeof C.quotes=="boolean"||typeof C.quotes=="function"||Array.isArray(C.quotes))&&(L=C.quotes),typeof C.skipEmptyLines!="boolean"&&typeof C.skipEmptyLines!="string"||(q=C.skipEmptyLines),typeof C.newline=="string"&&(z=C.newline),typeof C.quoteChar=="string"&&($=C.quoteChar),typeof C.header=="boolean"&&(N=C.header),Array.isArray(C.columns)){if(C.columns.length===0)throw new Error("Option columns is empty");Q=C.columns}C.escapeChar!==void 0&&(K=C.escapeChar+$),(typeof C.escapeFormulae=="boolean"||C.escapeFormulae instanceof RegExp)&&(F=C.escapeFormulae instanceof RegExp?C.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var j=new RegExp(x($),"g");if(typeof O=="string"&&(O=JSON.parse(O)),Array.isArray(O)){if(!O.length||Array.isArray(O[0]))return X(null,O,q);if(typeof O[0]=="object")return X(Q||Object.keys(O[0]),O,q)}else if(typeof O=="object")return typeof O.data=="string"&&(O.data=JSON.parse(O.data)),Array.isArray(O.data)&&(O.fields||(O.fields=O.meta&&O.meta.fields||Q),O.fields||(O.fields=Array.isArray(O.data[0])?O.fields:typeof O.data[0]=="object"?Object.keys(O.data[0]):[]),Array.isArray(O.data[0])||typeof O.data[0]=="object"||(O.data=[O.data])),X(O.fields||[],O.data||[],q);throw new Error("Unable to serialize unrecognized input");function X(Y,se,re){var ie="";typeof Y=="string"&&(Y=JSON.parse(Y)),typeof se=="string"&&(se=JSON.parse(se));var ge=Array.isArray(Y)&&0<Y.length,de=!Array.isArray(se[0]);if(ge&&N){for(var be=0;be<Y.length;be++)0<be&&(ie+=U),ie+=H(Y[be],be);0<se.length&&(ie+=z)}for(var fe=0;fe<se.length;fe++){var Te=ge?Y.length:se[fe].length,Se=!1,ee=ge?Object.keys(se[fe]).length===0:se[fe].length===0;if(re&&!ge&&(Se=re==="greedy"?se[fe].join("").trim()==="":se[fe].length===1&&se[fe][0].length===0),re==="greedy"&&ge){for(var we=[],Z=0;Z<Te;Z++){var Ie=de?Y[Z]:Z;we.push(se[fe][Ie])}Se=we.join("").trim()===""}if(!Se){for(var xe=0;xe<Te;xe++){0<xe&&!ee&&(ie+=U);var Ne=ge&&de?Y[xe]:xe;ie+=H(se[fe][Ne],xe)}fe<se.length-1&&(!re||0<Te&&!ee)&&(ie+=z)}}return ie}function H(Y,se){if(Y==null)return"";if(Y.constructor===Date)return JSON.stringify(Y).slice(1,25);var re=!1;F&&typeof Y=="string"&&F.test(Y)&&(Y="'"+Y,re=!0);var ie=Y.toString().replace(j,K);return(re=re||L===!0||typeof L=="function"&&L(Y,se)||Array.isArray(L)&&L[se]||function(ge,de){for(var be=0;be<de.length;be++)if(-1<ge.indexOf(de[be]))return!0;return!1}(ie,l.BAD_DELIMITERS)||-1<ie.indexOf(U)||ie.charAt(0)===" "||ie.charAt(ie.length-1)===" ")?$+ie+$:ie}}};if(l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!i&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=_,l.ParserHandle=b,l.NetworkStreamer=f,l.FileStreamer=h,l.StringStreamer=g,l.ReadableStreamStreamer=v,r.jQuery){var u=r.jQuery;u.fn.parse=function(O){var C=O.config||{},L=[];return this.each(function(z){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var $=0;$<this.files.length;$++)L.push({file:this.files[$],inputElem:this,instanceConfig:u.extend({},C)})}),N(),this;function N(){if(L.length!==0){var z,$,K,q,Q=L[0];if(I(O.before)){var F=O.before(Q.file,Q.inputElem);if(typeof F=="object"){if(F.action==="abort")return z="AbortError",$=Q.file,K=Q.inputElem,q=F.reason,void(I(O.error)&&O.error({name:z},$,K,q));if(F.action==="skip")return void U();typeof F.config=="object"&&(Q.instanceConfig=u.extend(Q.instanceConfig,F.config))}else if(F==="skip")return void U()}var j=Q.instanceConfig.complete;Q.instanceConfig.complete=function(X){I(j)&&j(X,Q.file,Q.inputElem),U()},l.parse(Q.file,Q.instanceConfig)}else I(O.complete)&&O.complete()}function U(){L.splice(0,1),N()}}}function c(O){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(C){var L=T(C);L.chunkSize=parseInt(L.chunkSize),C.step||C.chunk||(L.chunkSize=null),this._handle=new b(L),(this._handle.streamer=this)._config=L}).call(this,O),this.parseChunk=function(C,L){if(this.isFirstChunk&&I(this._config.beforeFirstChunk)){var N=this._config.beforeFirstChunk(C);N!==void 0&&(C=N)}this.isFirstChunk=!1,this._halted=!1;var U=this._partialLine+C;this._partialLine="";var z=this._handle.parse(U,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var $=z.meta.cursor;this._finished||(this._partialLine=U.substring($-this._baseIndex),this._baseIndex=$),z&&z.data&&(this._rowCount+=z.data.length);var K=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)r.postMessage({results:z,workerId:l.WORKER_ID,finished:K});else if(I(this._config.chunk)&&!L){if(this._config.chunk(z,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);z=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(z.data),this._completeResults.errors=this._completeResults.errors.concat(z.errors),this._completeResults.meta=z.meta),this._completed||!K||!I(this._config.complete)||z&&z.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),K||z&&z.meta.paused||this._nextChunk(),z}this._halted=!0},this._sendError=function(C){I(this._config.error)?this._config.error(C):o&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:C,finished:!1})}}function f(O){var C;(O=O||{}).chunkSize||(O.chunkSize=l.RemoteChunkSize),c.call(this,O),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(L){this._input=L,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(C=new XMLHttpRequest,this._config.withCredentials&&(C.withCredentials=this._config.withCredentials),i||(C.onload=P(this._chunkLoaded,this),C.onerror=P(this._chunkError,this)),C.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var L=this._config.downloadRequestHeaders;for(var N in L)C.setRequestHeader(N,L[N])}if(this._config.chunkSize){var U=this._start+this._config.chunkSize-1;C.setRequestHeader("Range","bytes="+this._start+"-"+U)}try{C.send(this._config.downloadRequestBody)}catch(z){this._chunkError(z.message)}i&&C.status===0&&this._chunkError()}},this._chunkLoaded=function(){C.readyState===4&&(C.status<200||400<=C.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:C.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(L){var N=L.getResponseHeader("Content-Range");return N===null?-1:parseInt(N.substring(N.lastIndexOf("/")+1))}(C),this.parseChunk(C.responseText)))},this._chunkError=function(L){var N=C.statusText||L;this._sendError(new Error(N))}}function h(O){var C,L;(O=O||{}).chunkSize||(O.chunkSize=l.LocalChunkSize),c.call(this,O);var N=typeof FileReader<"u";this.stream=function(U){this._input=U,L=U.slice||U.webkitSlice||U.mozSlice,N?((C=new FileReader).onload=P(this._chunkLoaded,this),C.onerror=P(this._chunkError,this)):C=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var U=this._input;if(this._config.chunkSize){var z=Math.min(this._start+this._config.chunkSize,this._input.size);U=L.call(U,this._start,z)}var $=C.readAsText(U,this._config.encoding);N||this._chunkLoaded({target:{result:$}})},this._chunkLoaded=function(U){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(U.target.result)},this._chunkError=function(){this._sendError(C.error)}}function g(O){var C;c.call(this,O=O||{}),this.stream=function(L){return C=L,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var L,N=this._config.chunkSize;return N?(L=C.substring(0,N),C=C.substring(N)):(L=C,C=""),this._finished=!C,this.parseChunk(L)}}}function v(O){c.call(this,O=O||{});var C=[],L=!0,N=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(U){this._input=U,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){N&&C.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),C.length?this.parseChunk(C.shift()):L=!0},this._streamData=P(function(U){try{C.push(typeof U=="string"?U:U.toString(this._config.encoding)),L&&(L=!1,this._checkIsFinished(),this.parseChunk(C.shift()))}catch(z){this._streamError(z)}},this),this._streamError=P(function(U){this._streamCleanUp(),this._sendError(U)},this),this._streamEnd=P(function(){this._streamCleanUp(),N=!0,this._streamData("")},this),this._streamCleanUp=P(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(O){var C,L,N,U=Math.pow(2,53),z=-U,$=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,K=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,q=this,Q=0,F=0,j=!1,X=!1,H=[],Y={data:[],errors:[],meta:{}};if(I(O.step)){var se=O.step;O.step=function(fe){if(Y=fe,ge())ie();else{if(ie(),Y.data.length===0)return;Q+=fe.data.length,O.preview&&Q>O.preview?L.abort():(Y.data=Y.data[0],se(Y,q))}}}function re(fe){return O.skipEmptyLines==="greedy"?fe.join("").trim()==="":fe.length===1&&fe[0].length===0}function ie(){return Y&&N&&(be("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),N=!1),O.skipEmptyLines&&(Y.data=Y.data.filter(function(fe){return!re(fe)})),ge()&&function(){if(!Y)return;function fe(Se,ee){I(O.transformHeader)&&(Se=O.transformHeader(Se,ee)),H.push(Se)}if(Array.isArray(Y.data[0])){for(var Te=0;ge()&&Te<Y.data.length;Te++)Y.data[Te].forEach(fe);Y.data.splice(0,1)}else Y.data.forEach(fe)}(),function(){if(!Y||!O.header&&!O.dynamicTyping&&!O.transform)return Y;function fe(Se,ee){var we,Z=O.header?{}:[];for(we=0;we<Se.length;we++){var Ie=we,xe=Se[we];O.header&&(Ie=we>=H.length?"__parsed_extra":H[we]),O.transform&&(xe=O.transform(xe,Ie)),xe=de(Ie,xe),Ie==="__parsed_extra"?(Z[Ie]=Z[Ie]||[],Z[Ie].push(xe)):Z[Ie]=xe}return O.header&&(we>H.length?be("FieldMismatch","TooManyFields","Too many fields: expected "+H.length+" fields but parsed "+we,F+ee):we<H.length&&be("FieldMismatch","TooFewFields","Too few fields: expected "+H.length+" fields but parsed "+we,F+ee)),Z}var Te=1;return!Y.data.length||Array.isArray(Y.data[0])?(Y.data=Y.data.map(fe),Te=Y.data.length):Y.data=fe(Y.data,0),O.header&&Y.meta&&(Y.meta.fields=H),F+=Te,Y}()}function ge(){return O.header&&H.length===0}function de(fe,Te){return Se=fe,O.dynamicTypingFunction&&O.dynamicTyping[Se]===void 0&&(O.dynamicTyping[Se]=O.dynamicTypingFunction(Se)),(O.dynamicTyping[Se]||O.dynamicTyping)===!0?Te==="true"||Te==="TRUE"||Te!=="false"&&Te!=="FALSE"&&(function(ee){if($.test(ee)){var we=parseFloat(ee);if(z<we&&we<U)return!0}return!1}(Te)?parseFloat(Te):K.test(Te)?new Date(Te):Te===""?null:Te):Te;var Se}function be(fe,Te,Se,ee){var we={type:fe,code:Te,message:Se};ee!==void 0&&(we.row=ee),Y.errors.push(we)}this.parse=function(fe,Te,Se){var ee=O.quoteChar||'"';if(O.newline||(O.newline=function(Ie,xe){Ie=Ie.substring(0,1048576);var Ne=new RegExp(x(xe)+"([^]*?)"+x(xe),"gm"),Ee=(Ie=Ie.replace(Ne,"")).split("\r"),Ke=Ie.split(`
`),Ue=1<Ke.length&&Ke[0].length<Ee[0].length;if(Ee.length===1||Ue)return`
`;for(var W=0,G=0;G<Ee.length;G++)Ee[G][0]===`
`&&W++;return W>=Ee.length/2?`\r
`:"\r"}(fe,ee)),N=!1,O.delimiter)I(O.delimiter)&&(O.delimiter=O.delimiter(fe),Y.meta.delimiter=O.delimiter);else{var we=function(Ie,xe,Ne,Ee,Ke){var Ue,W,G,ce;Ke=Ke||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var Me=0;Me<Ke.length;Me++){var ve=Ke[Me],ke=0,We=0,Be=0;G=void 0;for(var Xe=new _({comments:Ee,delimiter:ve,newline:xe,preview:10}).parse(Ie),ct=0;ct<Xe.data.length;ct++)if(Ne&&re(Xe.data[ct]))Be++;else{var qe=Xe.data[ct].length;We+=qe,G!==void 0?0<qe&&(ke+=Math.abs(qe-G),G=qe):G=qe}0<Xe.data.length&&(We/=Xe.data.length-Be),(W===void 0||ke<=W)&&(ce===void 0||ce<We)&&1.99<We&&(W=ke,Ue=ve,ce=We)}return{successful:!!(O.delimiter=Ue),bestDelimiter:Ue}}(fe,O.newline,O.skipEmptyLines,O.comments,O.delimitersToGuess);we.successful?O.delimiter=we.bestDelimiter:(N=!0,O.delimiter=l.DefaultDelimiter),Y.meta.delimiter=O.delimiter}var Z=T(O);return O.preview&&O.header&&Z.preview++,C=fe,L=new _(Z),Y=L.parse(C,Te,Se),ie(),j?{meta:{paused:!0}}:Y||{meta:{paused:!1}}},this.paused=function(){return j},this.pause=function(){j=!0,L.abort(),C=I(O.chunk)?"":C.substring(L.getCharIndex())},this.resume=function(){q.streamer._halted?(j=!1,q.streamer.parseChunk(C,!0)):setTimeout(q.resume,3)},this.aborted=function(){return X},this.abort=function(){X=!0,L.abort(),Y.meta.aborted=!0,I(O.complete)&&O.complete(Y),C=""}}function x(O){return O.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _(O){var C,L=(O=O||{}).delimiter,N=O.newline,U=O.comments,z=O.step,$=O.preview,K=O.fastMode,q=C=O.quoteChar===void 0||O.quoteChar===null?'"':O.quoteChar;if(O.escapeChar!==void 0&&(q=O.escapeChar),(typeof L!="string"||-1<l.BAD_DELIMITERS.indexOf(L))&&(L=","),U===L)throw new Error("Comment character same as delimiter");U===!0?U="#":(typeof U!="string"||-1<l.BAD_DELIMITERS.indexOf(U))&&(U=!1),N!==`
`&&N!=="\r"&&N!==`\r
`&&(N=`
`);var Q=0,F=!1;this.parse=function(j,X,H){if(typeof j!="string")throw new Error("Input must be a string");var Y=j.length,se=L.length,re=N.length,ie=U.length,ge=I(z),de=[],be=[],fe=[],Te=Q=0;if(!j)return ot();if(O.header&&!X){var Se=j.split(N)[0].split(L),ee=[],we={},Z=!1;for(var Ie in Se){var xe=Se[Ie];I(O.transformHeader)&&(xe=O.transformHeader(xe,Ie));var Ne=xe,Ee=we[xe]||0;for(0<Ee&&(Z=!0,Ne=xe+"_"+Ee),we[xe]=Ee+1;ee.includes(Ne);)Ne=Ne+"_"+Ee;ee.push(Ne)}if(Z){var Ke=j.split(N);Ke[0]=ee.join(L),j=Ke.join(N)}}if(K||K!==!1&&j.indexOf(C)===-1){for(var Ue=j.split(N),W=0;W<Ue.length;W++){if(fe=Ue[W],Q+=fe.length,W!==Ue.length-1)Q+=N.length;else if(H)return ot();if(!U||fe.substring(0,ie)!==U){if(ge){if(de=[],Be(fe.split(L)),ut(),F)return ot()}else Be(fe.split(L));if($&&$<=W)return de=de.slice(0,$),ot(!0)}}return ot()}for(var G=j.indexOf(L,Q),ce=j.indexOf(N,Q),Me=new RegExp(x(q)+x(C),"g"),ve=j.indexOf(C,Q);;)if(j[Q]!==C)if(U&&fe.length===0&&j.substring(Q,Q+ie)===U){if(ce===-1)return ot();Q=ce+re,ce=j.indexOf(N,Q),G=j.indexOf(L,Q)}else if(G!==-1&&(G<ce||ce===-1))fe.push(j.substring(Q,G)),Q=G+se,G=j.indexOf(L,Q);else{if(ce===-1)break;if(fe.push(j.substring(Q,ce)),qe(ce+re),ge&&(ut(),F))return ot();if($&&de.length>=$)return ot(!0)}else for(ve=Q,Q++;;){if((ve=j.indexOf(C,ve+1))===-1)return H||be.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:de.length,index:Q}),ct();if(ve===Y-1)return ct(j.substring(Q,ve).replace(Me,C));if(C!==q||j[ve+1]!==q){if(C===q||ve===0||j[ve-1]!==q){G!==-1&&G<ve+1&&(G=j.indexOf(L,ve+1)),ce!==-1&&ce<ve+1&&(ce=j.indexOf(N,ve+1));var ke=Xe(ce===-1?G:Math.min(G,ce));if(j.substr(ve+1+ke,se)===L){fe.push(j.substring(Q,ve).replace(Me,C)),j[Q=ve+1+ke+se]!==C&&(ve=j.indexOf(C,Q)),G=j.indexOf(L,Q),ce=j.indexOf(N,Q);break}var We=Xe(ce);if(j.substring(ve+1+We,ve+1+We+re)===N){if(fe.push(j.substring(Q,ve).replace(Me,C)),qe(ve+1+We+re),G=j.indexOf(L,Q),ve=j.indexOf(C,Q),ge&&(ut(),F))return ot();if($&&de.length>=$)return ot(!0);break}be.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:de.length,index:Q}),ve++}}else ve++}return ct();function Be(at){de.push(at),Te=Q}function Xe(at){var Ze=0;if(at!==-1){var me=j.substring(ve+1,at);me&&me.trim()===""&&(Ze=me.length)}return Ze}function ct(at){return H||(at===void 0&&(at=j.substring(Q)),fe.push(at),Q=Y,Be(fe),ge&&ut()),ot()}function qe(at){Q=at,Be(fe),fe=[],ce=j.indexOf(N,Q)}function ot(at){return{data:de,errors:be,meta:{delimiter:L,linebreak:N,aborted:F,truncated:!!at,cursor:Te+(X||0)}}}function ut(){z(ot()),de=[],be=[]}},this.abort=function(){F=!0},this.getCharIndex=function(){return Q}}function S(O){var C=O.data,L=a[C.workerId],N=!1;if(C.error)L.userError(C.error,C.file);else if(C.results&&C.results.data){var U={abort:function(){N=!0,w(C.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:E,resume:E};if(I(L.userStep)){for(var z=0;z<C.results.data.length&&(L.userStep({data:C.results.data[z],errors:C.results.errors,meta:C.results.meta},U),!N);z++);delete C.results}else I(L.userChunk)&&(L.userChunk(C.results,U,C.file),delete C.results)}C.finished&&!N&&w(C.workerId,C.results)}function w(O,C){var L=a[O];I(L.userComplete)&&L.userComplete(C),L.terminate(),delete a[O]}function E(){throw new Error("Not implemented.")}function T(O){if(typeof O!="object"||O===null)return O;var C=Array.isArray(O)?[]:{};for(var L in O)C[L]=T(O[L]);return C}function P(O,C){return function(){O.apply(C,arguments)}}function I(O){return typeof O=="function"}return o&&(r.onmessage=function(O){var C=O.data;if(l.WORKER_ID===void 0&&C&&(l.WORKER_ID=C.workerId),typeof C.input=="string")r.postMessage({workerId:l.WORKER_ID,results:l.parse(C.input,C.config),finished:!0});else if(r.File&&C.input instanceof File||C.input instanceof Object){var L=l.parse(C.input,C.config);L&&r.postMessage({workerId:l.WORKER_ID,results:L,finished:!0})}}),(f.prototype=Object.create(c.prototype)).constructor=f,(h.prototype=Object.create(c.prototype)).constructor=h,(g.prototype=Object.create(g.prototype)).constructor=g,(v.prototype=Object.create(c.prototype)).constructor=v,l})})(xG);var MTe=xG.exports;const hke=Nn(MTe);var Aw={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Aw.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",s="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",f=1,h=2,g=4,v=1,b=2,x=1,_=2,S=4,w=8,E=16,T=32,P=64,I=128,O=256,C=512,L=30,N="...",U=800,z=16,$=1,K=2,q=3,Q=1/0,F=9007199254740991,j=17976931348623157e292,X=NaN,H=4294967295,Y=H-1,se=H>>>1,re=[["ary",I],["bind",x],["bindKey",_],["curry",w],["curryRight",E],["flip",C],["partial",T],["partialRight",P],["rearg",O]],ie="[object Arguments]",ge="[object Array]",de="[object AsyncFunction]",be="[object Boolean]",fe="[object Date]",Te="[object DOMException]",Se="[object Error]",ee="[object Function]",we="[object GeneratorFunction]",Z="[object Map]",Ie="[object Number]",xe="[object Null]",Ne="[object Object]",Ee="[object Promise]",Ke="[object Proxy]",Ue="[object RegExp]",W="[object Set]",G="[object String]",ce="[object Symbol]",Me="[object Undefined]",ve="[object WeakMap]",ke="[object WeakSet]",We="[object ArrayBuffer]",Be="[object DataView]",Xe="[object Float32Array]",ct="[object Float64Array]",qe="[object Int8Array]",ot="[object Int16Array]",ut="[object Int32Array]",at="[object Uint8Array]",Ze="[object Uint8ClampedArray]",me="[object Uint16Array]",Fe="[object Uint32Array]",pt=/\b__p \+= '';/g,he=/\b(__p \+=) '' \+/g,He=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Le=/&(?:amp|lt|gt|quot|#39);/g,Je=/[&<>"']/g,st=RegExp(Le.source),nt=RegExp(Je.source),vt=/<%-([\s\S]+?)%>/g,It=/<%([\s\S]+?)%>/g,Et=/<%=([\s\S]+?)%>/g,Rt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Mn=/^\w*$/,Cn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Zn=/[\\^$.*+?()[\]{}|]/g,Ti=RegExp(Zn.source),Ar=/^\s+/,gi=/\s/,To=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Pi=/\{\n\/\* \[wrapped with (.+)\] \*/,Ci=/,? & /,Ur=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,co=/[()=,{}\[\]\/\s]/,iu=/\\(\\)?/g,xl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,vc=/\w*$/,yc=/^[-+]0x[0-9a-f]+$/i,Ds=/^0b[01]+$/i,te=/^\[object .+?Constructor\]$/,Ce=/^0o[0-7]+$/i,je=/^(?:0|[1-9]\d*)$/,ze=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Pe=/($^)/,ft=/['\n\r\u2028\u2029\\]/g,Ve="\\ud800-\\udfff",wt="\\u0300-\\u036f",Pt="\\ufe20-\\ufe2f",Bt="\\u20d0-\\u20ff",Gt=wt+Pt+Bt,At="\\u2700-\\u27bf",en="a-z\\xdf-\\xf6\\xf8-\\xff",fn="\\xac\\xb1\\xd7\\xf7",Ft="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",tn="\\u2000-\\u206f",nn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",gt="A-Z\\xc0-\\xd6\\xd8-\\xde",jn="\\ufe0e\\ufe0f",sn=fn+Ft+tn+nn,Jn="['’]",nr="["+Ve+"]",Qn="["+sn+"]",qi="["+Gt+"]",On="\\d+",Xr="["+At+"]",Fr="["+en+"]",Xn="[^"+Ve+sn+On+At+en+gt+"]",vi="\\ud83c[\\udffb-\\udfff]",Oi="(?:"+qi+"|"+vi+")",bl="[^"+Ve+"]",Sa="(?:\\ud83c[\\udde6-\\uddff]){2}",wa="[\\ud800-\\udbff][\\udc00-\\udfff]",fo="["+gt+"]",Sl="\\u200d",$f="(?:"+Fr+"|"+Xn+")",Hf="(?:"+fo+"|"+Xn+")",es="(?:"+Jn+"(?:d|ll|m|re|s|t|ve))?",ou="(?:"+Jn+"(?:D|LL|M|RE|S|T|VE))?",Ma=Oi+"?",Ns="["+jn+"]?",ts="(?:"+Sl+"(?:"+[bl,Sa,wa].join("|")+")"+Ns+Ma+")*",bn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Gf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ns=Ns+Ma+ts,_c="(?:"+[Xr,Sa,wa].join("|")+")"+ns,Wf="(?:"+[bl+qi+"?",qi,Sa,wa,nr].join("|")+")",Qd=RegExp(Jn,"g"),fr=RegExp(qi,"g"),ks=RegExp(vi+"(?="+vi+")|"+Wf+ns,"g"),ep=RegExp([fo+"?"+Fr+"+"+es+"(?="+[Qn,fo,"$"].join("|")+")",Hf+"+"+ou+"(?="+[Qn,fo+$f,"$"].join("|")+")",fo+"?"+$f+"+"+es,fo+"+"+ou,Gf,bn,On,_c].join("|"),"g"),Yi=RegExp("["+Sl+Ve+Gt+jn+"]"),Vf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,au=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Po=-1,$n={};$n[Xe]=$n[ct]=$n[qe]=$n[ot]=$n[ut]=$n[at]=$n[Ze]=$n[me]=$n[Fe]=!0,$n[ie]=$n[ge]=$n[We]=$n[be]=$n[Be]=$n[fe]=$n[Se]=$n[ee]=$n[Z]=$n[Ie]=$n[Ne]=$n[Ue]=$n[W]=$n[G]=$n[ve]=!1;var Hn={};Hn[ie]=Hn[ge]=Hn[We]=Hn[Be]=Hn[be]=Hn[fe]=Hn[Xe]=Hn[ct]=Hn[qe]=Hn[ot]=Hn[ut]=Hn[Z]=Hn[Ie]=Hn[Ne]=Hn[Ue]=Hn[W]=Hn[G]=Hn[ce]=Hn[at]=Hn[Ze]=Hn[me]=Hn[Fe]=!0,Hn[Se]=Hn[ee]=Hn[ve]=!1;var Co={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ki={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},rs={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ta={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xf=parseFloat,qf=parseInt,Zi=typeof $l=="object"&&$l&&$l.Object===Object&&$l,su=typeof self=="object"&&self&&self.Object===Object&&self,hr=Zi||su||Function("return this")(),Us=e&&!e.nodeType&&e,Tr=Us&&!0&&t&&!t.nodeType&&t,qr=Tr&&Tr.exports===Us,wl=qr&&Zi.process,xr=function(){try{var _e=Tr&&Tr.require&&Tr.require("util").types;return _e||wl&&wl.binding&&wl.binding("util")}catch{}}(),Fs=xr&&xr.isArrayBuffer,lu=xr&&xr.isDate,Yf=xr&&xr.isMap,Yr=xr&&xr.isRegExp,Ri=xr&&xr.isSet,br=xr&&xr.isTypedArray;function Rn(_e,Qe,$e){switch($e.length){case 0:return _e.call(Qe);case 1:return _e.call(Qe,$e[0]);case 2:return _e.call(Qe,$e[0],$e[1]);case 3:return _e.call(Qe,$e[0],$e[1],$e[2])}return _e.apply(Qe,$e)}function Oo(_e,Qe,$e,Mt){for(var Zt=-1,ln=_e==null?0:_e.length;++Zt<ln;){var sr=_e[Zt];Qe(Mt,sr,$e(sr),_e)}return Mt}function Kr(_e,Qe){for(var $e=-1,Mt=_e==null?0:_e.length;++$e<Mt&&Qe(_e[$e],$e,_e)!==!1;);return _e}function Yg(_e,Qe){for(var $e=_e==null?0:_e.length;$e--&&Qe(_e[$e],$e,_e)!==!1;);return _e}function Kg(_e,Qe){for(var $e=-1,Mt=_e==null?0:_e.length;++$e<Mt;)if(!Qe(_e[$e],$e,_e))return!1;return!0}function Ii(_e,Qe){for(var $e=-1,Mt=_e==null?0:_e.length,Zt=0,ln=[];++$e<Mt;){var sr=_e[$e];Qe(sr,$e,_e)&&(ln[Zt++]=sr)}return ln}function Ea(_e,Qe){var $e=_e==null?0:_e.length;return!!$e&&Ta(_e,Qe,0)>-1}function xc(_e,Qe,$e){for(var Mt=-1,Zt=_e==null?0:_e.length;++Mt<Zt;)if($e(Qe,_e[Mt]))return!0;return!1}function rr(_e,Qe){for(var $e=-1,Mt=_e==null?0:_e.length,Zt=Array(Mt);++$e<Mt;)Zt[$e]=Qe(_e[$e],$e,_e);return Zt}function Aa(_e,Qe){for(var $e=-1,Mt=Qe.length,Zt=_e.length;++$e<Mt;)_e[Zt+$e]=Qe[$e];return _e}function tp(_e,Qe,$e,Mt){var Zt=-1,ln=_e==null?0:_e.length;for(Mt&&ln&&($e=_e[++Zt]);++Zt<ln;)$e=Qe($e,_e[Zt],Zt,_e);return $e}function Z_(_e,Qe,$e,Mt){var Zt=_e==null?0:_e.length;for(Mt&&Zt&&($e=_e[--Zt]);Zt--;)$e=Qe($e,_e[Zt],Zt,_e);return $e}function Kf(_e,Qe){for(var $e=-1,Mt=_e==null?0:_e.length;++$e<Mt;)if(Qe(_e[$e],$e,_e))return!0;return!1}var np=ho("length");function J_(_e){return _e.split("")}function Q_(_e){return _e.match(Ur)||[]}function Zg(_e,Qe,$e){var Mt;return $e(_e,function(Zt,ln,sr){if(Qe(Zt,ln,sr))return Mt=ln,!1}),Mt}function bc(_e,Qe,$e,Mt){for(var Zt=_e.length,ln=$e+(Mt?1:-1);Mt?ln--:++ln<Zt;)if(Qe(_e[ln],ln,_e))return ln;return-1}function Ta(_e,Qe,$e){return Qe===Qe?Ac(_e,Qe,$e):bc(_e,Zf,$e)}function Sc(_e,Qe,$e,Mt){for(var Zt=$e-1,ln=_e.length;++Zt<ln;)if(Mt(_e[Zt],Qe))return Zt;return-1}function Zf(_e){return _e!==_e}function Jf(_e,Qe){var $e=_e==null?0:_e.length;return $e?Pa(_e,Qe)/$e:X}function ho(_e){return function(Qe){return Qe==null?n:Qe[_e]}}function po(_e){return function(Qe){return _e==null?n:_e[Qe]}}function Ml(_e,Qe,$e,Mt,Zt){return Zt(_e,function(ln,sr,Xt){$e=Mt?(Mt=!1,ln):Qe($e,ln,sr,Xt)}),$e}function Bs(_e,Qe){var $e=_e.length;for(_e.sort(Qe);$e--;)_e[$e]=_e[$e].value;return _e}function Pa(_e,Qe){for(var $e,Mt=-1,Zt=_e.length;++Mt<Zt;){var ln=Qe(_e[Mt]);ln!==n&&($e=$e===n?ln:$e+ln)}return $e}function zs(_e,Qe){for(var $e=-1,Mt=Array(_e);++$e<_e;)Mt[$e]=Qe($e);return Mt}function ex(_e,Qe){return rr(Qe,function($e){return[$e,_e[$e]]})}function rp(_e){return _e&&_e.slice(0,Tc(_e)+1).replace(Ar,"")}function Ji(_e){return function(Qe){return _e(Qe)}}function Qi(_e,Qe){return rr(Qe,function($e){return _e[$e]})}function yi(_e,Qe){return _e.has(Qe)}function ir(_e,Qe){for(var $e=-1,Mt=_e.length;++$e<Mt&&Ta(Qe,_e[$e],0)>-1;);return $e}function wc(_e,Qe){for(var $e=_e.length;$e--&&Ta(Qe,_e[$e],0)>-1;);return $e}function Ca(_e,Qe){for(var $e=_e.length,Mt=0;$e--;)_e[$e]===Qe&&++Mt;return Mt}var tx=po(Co),nx=po(Ki);function Jg(_e){return"\\"+ta[_e]}function Qg(_e,Qe){return _e==null?n:_e[Qe]}function uu(_e){return Yi.test(_e)}function Qf(_e){return Vf.test(_e)}function Mc(_e){for(var Qe,$e=[];!(Qe=_e.next()).done;)$e.push(Qe.value);return $e}function eh(_e){var Qe=-1,$e=Array(_e.size);return _e.forEach(function(Mt,Zt){$e[++Qe]=[Zt,Mt]}),$e}function Ec(_e,Qe){return function($e){return _e(Qe($e))}}function Oa(_e,Qe){for(var $e=-1,Mt=_e.length,Zt=0,ln=[];++$e<Mt;){var sr=_e[$e];(sr===Qe||sr===c)&&(_e[$e]=c,ln[Zt++]=$e)}return ln}function th(_e){var Qe=-1,$e=Array(_e.size);return _e.forEach(function(Mt){$e[++Qe]=Mt}),$e}function rx(_e){var Qe=-1,$e=Array(_e.size);return _e.forEach(function(Mt){$e[++Qe]=[Mt,Mt]}),$e}function Ac(_e,Qe,$e){for(var Mt=$e-1,Zt=_e.length;++Mt<Zt;)if(_e[Mt]===Qe)return Mt;return-1}function ix(_e,Qe,$e){for(var Mt=$e+1;Mt--;)if(_e[Mt]===Qe)return Mt;return Mt}function is(_e){return uu(_e)?os(_e):np(_e)}function Sr(_e){return uu(_e)?ev(_e):J_(_e)}function Tc(_e){for(var Qe=_e.length;Qe--&&gi.test(_e.charAt(Qe)););return Qe}var Pc=po(rs);function os(_e){for(var Qe=ks.lastIndex=0;ks.test(_e);)++Qe;return Qe}function ev(_e){return _e.match(ks)||[]}function Cc(_e){return _e.match(ep)||[]}var ox=function _e(Qe){Qe=Qe==null?hr:El.defaults(hr.Object(),Qe,El.pick(hr,au));var $e=Qe.Array,Mt=Qe.Date,Zt=Qe.Error,ln=Qe.Function,sr=Qe.Math,Xt=Qe.Object,li=Qe.RegExp,ui=Qe.String,eo=Qe.TypeError,Al=$e.prototype,nh=ln.prototype,Oc=Xt.prototype,Zr=Qe["__core-js_shared__"],Rc=nh.toString,kn=Oc.hasOwnProperty,tv=0,as=function(){var d=/[^.]+$/.exec(Zr&&Zr.keys&&Zr.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),Ro=Oc.toString,cu=Rc.call(Xt),ip=hr._,op=li("^"+Rc.call(kn).replace(Zn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),rh=qr?Qe.Buffer:n,js=Qe.Symbol,ih=Qe.Uint8Array,nv=rh?rh.allocUnsafe:n,oh=Ec(Xt.getPrototypeOf,Xt),rv=Xt.create,ap=Oc.propertyIsEnumerable,Tl=Al.splice,iv=js?js.isConcatSpreadable:n,Pl=js?js.iterator:n,ss=js?js.toStringTag:n,Ic=function(){try{var d=Mh(Xt,"defineProperty");return d({},"",{}),d}catch{}}(),ah=Qe.clearTimeout!==hr.clearTimeout&&Qe.clearTimeout,ax=Mt&&Mt.now!==hr.Date.now&&Mt.now,sx=Qe.setTimeout!==hr.setTimeout&&Qe.setTimeout,sh=sr.ceil,lh=sr.floor,uh=Xt.getOwnPropertySymbols,lx=rh?rh.isBuffer:n,ov=Qe.isFinite,uA=Al.join,ux=Ec(Xt.keys,Xt),Jr=sr.max,Li=sr.min,cx=Mt.now,fx=Qe.parseInt,av=sr.random,hx=Al.reverse,Lc=Mh(Qe,"DataView"),ch=Mh(Qe,"Map"),sv=Mh(Qe,"Promise"),Dc=Mh(Qe,"Set"),fu=Mh(Qe,"WeakMap"),hu=Mh(Xt,"create"),sp=fu&&new fu,du={},dx=Eh(Lc),px=Eh(ch),mx=Eh(sv),gx=Eh(Dc),ls=Eh(fu),fh=js?js.prototype:n,$s=fh?fh.valueOf:n,Nc=fh?fh.toString:n;function J(d){if($r(d)&&!cn(d)&&!(d instanceof $t)){if(d instanceof Di)return d;if(kn.call(d,"__wrapped__"))return tL(d)}return new Di(d)}var Hs=function(){function d(){}return function(y){if(!Rr(y))return{};if(rv)return rv(y);d.prototype=y;var A=new d;return d.prototype=n,A}}();function hh(){}function Di(d,y){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!y,this.__index__=0,this.__values__=n}J.templateSettings={escape:vt,evaluate:It,interpolate:Et,variable:"",imports:{_:J}},J.prototype=hh.prototype,J.prototype.constructor=J,Di.prototype=Hs(hh.prototype),Di.prototype.constructor=Di;function $t(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=H,this.__views__=[]}function cA(){var d=new $t(this.__wrapped__);return d.__actions__=Bi(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=Bi(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=Bi(this.__views__),d}function fA(){if(this.__filtered__){var d=new $t(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function Io(){var d=this.__wrapped__.value(),y=this.__dir__,A=cn(d),k=y<0,V=A?d.length:0,ne=ZV(0,V,this.__views__),pe=ne.start,ye=ne.end,Re=ye-pe,rt=k?ye:pe-1,it=this.__iteratees__,lt=it.length,xt=0,Ut=Li(Re,this.__takeCount__);if(!A||!k&&V==Re&&Ut==Re)return Dl(d,this.__actions__);var qt=[];e:for(;Re--&&xt<Ut;){rt+=y;for(var Sn=-1,Yt=d[rt];++Sn<lt;){var En=it[Sn],In=En.iteratee,Ua=En.type,Bo=In(Yt);if(Ua==K)Yt=Bo;else if(!Bo){if(Ua==$)continue e;break e}}qt[xt++]=Yt}return qt}$t.prototype=Hs(hh.prototype),$t.prototype.constructor=$t;function Pr(d){var y=-1,A=d==null?0:d.length;for(this.clear();++y<A;){var k=d[y];this.set(k[0],k[1])}}function vx(){this.__data__=hu?hu(null):{},this.size=0}function yx(d){var y=this.has(d)&&delete this.__data__[d];return this.size-=y?1:0,y}function _x(d){var y=this.__data__;if(hu){var A=y[d];return A===l?n:A}return kn.call(y,d)?y[d]:n}function xx(d){var y=this.__data__;return hu?y[d]!==n:kn.call(y,d)}function bx(d,y){var A=this.__data__;return this.size+=this.has(d)?0:1,A[d]=hu&&y===n?l:y,this}Pr.prototype.clear=vx,Pr.prototype.delete=yx,Pr.prototype.get=_x,Pr.prototype.has=xx,Pr.prototype.set=bx;function Ra(d){var y=-1,A=d==null?0:d.length;for(this.clear();++y<A;){var k=d[y];this.set(k[0],k[1])}}function Sx(){this.__data__=[],this.size=0}function lv(d){var y=this.__data__,A=Ol(y,d);if(A<0)return!1;var k=y.length-1;return A==k?y.pop():Tl.call(y,A,1),--this.size,!0}function wx(d){var y=this.__data__,A=Ol(y,d);return A<0?n:y[A][1]}function Mx(d){return Ol(this.__data__,d)>-1}function lp(d,y){var A=this.__data__,k=Ol(A,d);return k<0?(++this.size,A.push([d,y])):A[k][1]=y,this}Ra.prototype.clear=Sx,Ra.prototype.delete=lv,Ra.prototype.get=wx,Ra.prototype.has=Mx,Ra.prototype.set=lp;function na(d){var y=-1,A=d==null?0:d.length;for(this.clear();++y<A;){var k=d[y];this.set(k[0],k[1])}}function Ex(){this.size=0,this.__data__={hash:new Pr,map:new(ch||Ra),string:new Pr}}function uv(d){var y=$x(this,d).delete(d);return this.size-=y?1:0,y}function Ax(d){return $x(this,d).get(d)}function Tx(d){return $x(this,d).has(d)}function up(d,y){var A=$x(this,d),k=A.size;return A.set(d,y),this.size+=A.size==k?0:1,this}na.prototype.clear=Ex,na.prototype.delete=uv,na.prototype.get=Ax,na.prototype.has=Tx,na.prototype.set=up;function Cl(d){var y=-1,A=d==null?0:d.length;for(this.__data__=new na;++y<A;)this.add(d[y])}function cv(d){return this.__data__.set(d,l),this}function Px(d){return this.__data__.has(d)}Cl.prototype.add=Cl.prototype.push=cv,Cl.prototype.has=Px;function Qr(d){var y=this.__data__=new Ra(d);this.size=y.size}function hA(){this.__data__=new Ra,this.size=0}function dA(d){var y=this.__data__,A=y.delete(d);return this.size=y.size,A}function cp(d){return this.__data__.get(d)}function pu(d){return this.__data__.has(d)}function pA(d,y){var A=this.__data__;if(A instanceof Ra){var k=A.__data__;if(!ch||k.length<i-1)return k.push([d,y]),this.size=++A.size,this;A=this.__data__=new na(k)}return A.set(d,y),this.size=A.size,this}Qr.prototype.clear=hA,Qr.prototype.delete=dA,Qr.prototype.get=cp,Qr.prototype.has=pu,Qr.prototype.set=pA;function yt(d,y){var A=cn(d),k=!A&&Ah(d),V=!A&&!k&&Wc(d),ne=!A&&!k&&!V&&Tp(d),pe=A||k||V||ne,ye=pe?zs(d.length,ui):[],Re=ye.length;for(var rt in d)(y||kn.call(d,rt))&&!(pe&&(rt=="length"||V&&(rt=="offset"||rt=="parent")||ne&&(rt=="buffer"||rt=="byteLength"||rt=="byteOffset")||xu(rt,Re)))&&ye.push(rt);return ye}function dh(d){var y=d.length;return y?d[cs(0,y-1)]:n}function fv(d,y){return Hx(Bi(d),Rl(y,0,d.length))}function Cx(d){return Hx(Bi(d))}function hv(d,y,A){(A!==n&&!Vs(d[y],A)||A===n&&!(y in d))&&us(d,y,A)}function Ia(d,y,A){var k=d[y];(!(kn.call(d,y)&&Vs(k,A))||A===n&&!(y in d))&&us(d,y,A)}function Ol(d,y){for(var A=d.length;A--;)if(Vs(d[A][0],y))return A;return-1}function dv(d,y,A,k){return La(d,function(V,ne,pe){y(k,V,A(V),pe)}),k}function pv(d,y){return d&&oa(y,ji(y),d)}function Ox(d,y){return d&&oa(y,sa(y),d)}function us(d,y,A){y=="__proto__"&&Ic?Ic(d,y,{configurable:!0,enumerable:!0,value:A,writable:!0}):d[y]=A}function fp(d,y){for(var A=-1,k=y.length,V=$e(k),ne=d==null;++A<k;)V[A]=ne?n:IA(d,y[A]);return V}function Rl(d,y,A){return d===d&&(A!==n&&(d=d<=A?d:A),y!==n&&(d=d>=y?d:y)),d}function Lo(d,y,A,k,V,ne){var pe,ye=y&f,Re=y&h,rt=y&g;if(A&&(pe=V?A(d,k,V,ne):A(d)),pe!==n)return pe;if(!Rr(d))return d;var it=cn(d);if(it){if(pe=QV(d),!ye)return Bi(d,pe)}else{var lt=mo(d),xt=lt==ee||lt==we;if(Wc(d))return Pv(d,ye);if(lt==Ne||lt==ie||xt&&!V){if(pe=Re||xt?{}:V3(d),!ye)return Re?zx(d,Ox(pe,d)):yA(d,pv(pe,d))}else{if(!Hn[lt])return V?d:{};pe=e9(d,lt,ye)}}ne||(ne=new Qr);var Ut=ne.get(d);if(Ut)return Ut;ne.set(d,pe),bL(d)?d.forEach(function(Yt){pe.add(Lo(Yt,y,A,Yt,d,ne))}):_L(d)&&d.forEach(function(Yt,En){pe.set(En,Lo(Yt,y,A,En,d,ne))});var qt=rt?Re?Pn:jr:Re?sa:ji,Sn=it?n:qt(d);return Kr(Sn||d,function(Yt,En){Sn&&(En=Yt,Yt=d[En]),Ia(pe,En,Lo(Yt,y,A,En,d,ne))}),pe}function mv(d){var y=ji(d);return function(A){return hp(A,d,y)}}function hp(d,y,A){var k=A.length;if(d==null)return!k;for(d=Xt(d);k--;){var V=A[k],ne=y[V],pe=d[V];if(pe===n&&!(V in d)||!ne(pe))return!1}return!0}function gv(d,y,A){if(typeof d!="function")throw new eo(a);return Iv(function(){d.apply(n,A)},y)}function mu(d,y,A,k){var V=-1,ne=Ea,pe=!0,ye=d.length,Re=[],rt=y.length;if(!ye)return Re;A&&(y=rr(y,Ji(A))),k?(ne=xc,pe=!1):y.length>=i&&(ne=yi,pe=!1,y=new Cl(y));e:for(;++V<ye;){var it=d[V],lt=A==null?it:A(it);if(it=k||it!==0?it:0,pe&&lt===lt){for(var xt=rt;xt--;)if(y[xt]===lt)continue e;Re.push(it)}else ne(y,lt,k)||Re.push(it)}return Re}var La=Ov(Do),Rx=Ov(Uc,!0);function mA(d,y){var A=!0;return La(d,function(k,V,ne){return A=!!y(k,V,ne),A}),A}function ph(d,y,A){for(var k=-1,V=d.length;++k<V;){var ne=d[k],pe=y(ne);if(pe!=null&&(ye===n?pe===pe&&!ka(pe):A(pe,ye)))var ye=pe,Re=ne}return Re}function Ix(d,y,A,k){var V=d.length;for(A=yn(A),A<0&&(A=-A>V?0:V+A),k=k===n||k>V?V:yn(k),k<0&&(k+=V),k=A>k?0:wL(k);A<k;)d[A++]=y;return d}function vv(d,y){var A=[];return La(d,function(k,V,ne){y(k,V,ne)&&A.push(k)}),A}function ci(d,y,A,k,V){var ne=-1,pe=d.length;for(A||(A=n9),V||(V=[]);++ne<pe;){var ye=d[ne];y>0&&A(ye)?y>1?ci(ye,y-1,A,k,V):Aa(V,ye):k||(V[V.length]=ye)}return V}var kc=Mp(),mh=Mp(!0);function Do(d,y){return d&&kc(d,y,ji)}function Uc(d,y){return d&&mh(d,y,ji)}function gu(d,y){return Ii(y,function(A){return bu(d[A])})}function Da(d,y){y=kl(y,d);for(var A=0,k=y.length;d!=null&&A<k;)d=d[Bl(y[A++])];return A&&A==k?d:n}function dp(d,y,A){var k=y(d);return cn(d)?k:Aa(k,A(d))}function _i(d){return d==null?d===n?Me:xe:ss&&ss in Xt(d)?KV(d):u9(d)}function gh(d,y){return d>y}function Lx(d,y){return d!=null&&kn.call(d,y)}function yv(d,y){return d!=null&&y in Xt(d)}function gA(d,y,A){return d>=Li(y,A)&&d<Jr(y,A)}function Fc(d,y,A){for(var k=A?xc:Ea,V=d[0].length,ne=d.length,pe=ne,ye=$e(ne),Re=1/0,rt=[];pe--;){var it=d[pe];pe&&y&&(it=rr(it,Ji(y))),Re=Li(it.length,Re),ye[pe]=!A&&(y||V>=120&&it.length>=120)?new Cl(pe&&it):n}it=d[0];var lt=-1,xt=ye[0];e:for(;++lt<V&&rt.length<Re;){var Ut=it[lt],qt=y?y(Ut):Ut;if(Ut=A||Ut!==0?Ut:0,!(xt?yi(xt,qt):k(rt,qt,A))){for(pe=ne;--pe;){var Sn=ye[pe];if(!(Sn?yi(Sn,qt):k(d[pe],qt,A)))continue e}xt&&xt.push(qt),rt.push(Ut)}}return rt}function _v(d,y,A,k){return Do(d,function(V,ne,pe){y(k,A(V),ne,pe)}),k}function or(d,y,A){y=kl(y,d),d=K3(d,y);var k=d==null?d:d[Bl(ds(y))];return k==null?n:Rn(k,d,A)}function hn(d){return $r(d)&&_i(d)==ie}function Br(d){return $r(d)&&_i(d)==We}function zr(d){return $r(d)&&_i(d)==fe}function Cr(d,y,A,k,V){return d===y?!0:d==null||y==null||!$r(d)&&!$r(y)?d!==d&&y!==y:No(d,y,A,k,Cr,V)}function No(d,y,A,k,V,ne){var pe=cn(d),ye=cn(y),Re=pe?ge:mo(d),rt=ye?ge:mo(y);Re=Re==ie?Ne:Re,rt=rt==ie?Ne:rt;var it=Re==Ne,lt=rt==Ne,xt=Re==rt;if(xt&&Wc(d)){if(!Wc(y))return!1;pe=!0,it=!1}if(xt&&!it)return ne||(ne=new Qr),pe||Tp(d)?Dt(d,y,A,k,V,ne):dn(d,y,Re,A,k,V,ne);if(!(A&v)){var Ut=it&&kn.call(d,"__wrapped__"),qt=lt&&kn.call(y,"__wrapped__");if(Ut||qt){var Sn=Ut?d.value():d,Yt=qt?y.value():y;return ne||(ne=new Qr),V(Sn,Yt,A,k,ne)}}return xt?(ne||(ne=new Qr),on(d,y,A,k,V,ne)):!1}function Bc(d){return $r(d)&&mo(d)==Z}function Or(d,y,A,k){var V=A.length,ne=V,pe=!k;if(d==null)return!ne;for(d=Xt(d);V--;){var ye=A[V];if(pe&&ye[2]?ye[1]!==d[ye[0]]:!(ye[0]in d))return!1}for(;++V<ne;){ye=A[V];var Re=ye[0],rt=d[Re],it=ye[1];if(pe&&ye[2]){if(rt===n&&!(Re in d))return!1}else{var lt=new Qr;if(k)var xt=k(rt,it,Re,d,y,lt);if(!(xt===n?Cr(it,rt,v|b,k,lt):xt))return!1}}return!0}function zc(d){if(!Rr(d)||i9(d))return!1;var y=bu(d)?op:te;return y.test(Eh(d))}function jc(d){return $r(d)&&_i(d)==Ue}function pp(d){return $r(d)&&mo(d)==W}function xv(d){return $r(d)&&Yx(d.length)&&!!$n[_i(d)]}function $c(d){return typeof d=="function"?d:d==null?la:typeof d=="object"?cn(d)?mp(d[0],d[1]):yh(d):DL(d)}function Ni(d){if(!Rv(d))return ux(d);var y=[];for(var A in Xt(d))kn.call(d,A)&&A!="constructor"&&y.push(A);return y}function bv(d){if(!Rr(d))return l9(d);var y=Rv(d),A=[];for(var k in d)k=="constructor"&&(y||!kn.call(d,k))||A.push(k);return A}function vh(d,y){return d<y}function vu(d,y){var A=-1,k=aa(d)?$e(d.length):[];return La(d,function(V,ne,pe){k[++A]=y(V,ne,pe)}),k}function yh(d){var y=xA(d);return y.length==1&&y[0][2]?q3(y[0][0],y[0][1]):function(A){return A===d||Or(A,d,y)}}function mp(d,y){return SA(d)&&X3(y)?q3(Bl(d),y):function(A){var k=IA(A,d);return k===n&&k===y?LA(A,d):Cr(y,k,v|b)}}function Na(d,y,A,k,V){d!==y&&kc(y,function(ne,pe){if(V||(V=new Qr),Rr(ne))gp(d,y,pe,A,Na,k,V);else{var ye=k?k(MA(d,pe),ne,pe+"",d,y,V):n;ye===n&&(ye=ne),hv(d,pe,ye)}},sa)}function gp(d,y,A,k,V,ne,pe){var ye=MA(d,A),Re=MA(y,A),rt=pe.get(Re);if(rt){hv(d,A,rt);return}var it=ne?ne(ye,Re,A+"",d,y,pe):n,lt=it===n;if(lt){var xt=cn(Re),Ut=!xt&&Wc(Re),qt=!xt&&!Ut&&Tp(Re);it=Re,xt||Ut||qt?cn(ye)?it=ye:ei(ye)?it=Bi(ye):Ut?(lt=!1,it=Pv(Re,!0)):qt?(lt=!1,it=Bx(Re,!0)):it=[]:Lv(Re)||Ah(Re)?(it=ye,Ah(ye)?it=ML(ye):(!Rr(ye)||bu(ye))&&(it=V3(Re))):lt=!1}lt&&(pe.set(Re,it),V(it,Re,k,ne,pe),pe.delete(Re)),hv(d,A,it)}function Gs(d,y){var A=d.length;if(A)return y+=y<0?A:0,xu(y,A)?d[y]:n}function _h(d,y,A){y.length?y=rr(y,function(ne){return cn(ne)?function(pe){return Da(pe,ne.length===1?ne[0]:ne)}:ne}):y=[la];var k=-1;y=rr(y,Ji(Wt()));var V=vu(d,function(ne,pe,ye){var Re=rr(y,function(rt){return rt(ne)});return{criteria:Re,index:++k,value:ne}});return Bs(V,function(ne,pe){return wp(ne,pe,A)})}function xh(d,y){return vp(d,y,function(A,k){return LA(d,k)})}function vp(d,y,A){for(var k=-1,V=y.length,ne={};++k<V;){var pe=y[k],ye=Da(d,pe);A(ye,pe)&&yu(ne,kl(pe,d),ye)}return ne}function yp(d){return function(y){return Da(y,d)}}function Hc(d,y,A,k){var V=k?Sc:Ta,ne=-1,pe=y.length,ye=d;for(d===y&&(y=Bi(y)),A&&(ye=rr(d,Ji(A)));++ne<pe;)for(var Re=0,rt=y[ne],it=A?A(rt):rt;(Re=V(ye,it,Re,k))>-1;)ye!==d&&Tl.call(ye,Re,1),Tl.call(d,Re,1);return d}function ki(d,y){for(var A=d?y.length:0,k=A-1;A--;){var V=y[A];if(A==k||V!==ne){var ne=V;xu(V)?Tl.call(d,V,1):Ev(d,V)}}return d}function cs(d,y){return d+lh(av()*(y-d+1))}function ra(d,y,A,k){for(var V=-1,ne=Jr(sh((y-d)/(A||1)),0),pe=$e(ne);ne--;)pe[k?ne:++V]=d,d+=A;return pe}function Gc(d,y){var A="";if(!d||y<1||y>F)return A;do y%2&&(A+=d),y=lh(y/2),y&&(d+=d);while(y);return A}function jt(d,y){return EA(Y3(d,y,la),d+"")}function Dx(d){return dh(Pp(d))}function Sv(d,y){var A=Pp(d);return Hx(A,Rl(y,0,A.length))}function yu(d,y,A,k){if(!Rr(d))return d;y=kl(y,d);for(var V=-1,ne=y.length,pe=ne-1,ye=d;ye!=null&&++V<ne;){var Re=Bl(y[V]),rt=A;if(Re==="__proto__"||Re==="constructor"||Re==="prototype")return d;if(V!=pe){var it=ye[Re];rt=k?k(it,Re,ye):n,rt===n&&(rt=Rr(it)?it:xu(y[V+1])?[]:{})}Ia(ye,Re,rt),ye=ye[Re]}return d}var Nx=sp?function(d,y){return sp.set(d,y),d}:la,Il=Ic?function(d,y){return Ic(d,"toString",{configurable:!0,enumerable:!1,value:NA(y),writable:!0})}:la;function kx(d){return Hx(Pp(d))}function ko(d,y,A){var k=-1,V=d.length;y<0&&(y=-y>V?0:V+y),A=A>V?V:A,A<0&&(A+=V),V=y>A?0:A-y>>>0,y>>>=0;for(var ne=$e(V);++k<V;)ne[k]=d[k+y];return ne}function wv(d,y){var A;return La(d,function(k,V,ne){return A=y(k,V,ne),!A}),!!A}function fs(d,y,A){var k=0,V=d==null?k:d.length;if(typeof y=="number"&&y===y&&V<=se){for(;k<V;){var ne=k+V>>>1,pe=d[ne];pe!==null&&!ka(pe)&&(A?pe<=y:pe<y)?k=ne+1:V=ne}return V}return _p(d,y,la,A)}function _p(d,y,A,k){var V=0,ne=d==null?0:d.length;if(ne===0)return 0;y=A(y);for(var pe=y!==y,ye=y===null,Re=ka(y),rt=y===n;V<ne;){var it=lh((V+ne)/2),lt=A(d[it]),xt=lt!==n,Ut=lt===null,qt=lt===lt,Sn=ka(lt);if(pe)var Yt=k||qt;else rt?Yt=qt&&(k||xt):ye?Yt=qt&&xt&&(k||!Ut):Re?Yt=qt&&xt&&!Ut&&(k||!Sn):Ut||Sn?Yt=!1:Yt=k?lt<=y:lt<y;Yt?V=it+1:ne=it}return Li(ne,Y)}function Mv(d,y){for(var A=-1,k=d.length,V=0,ne=[];++A<k;){var pe=d[A],ye=y?y(pe):pe;if(!A||!Vs(ye,Re)){var Re=ye;ne[V++]=pe===0?0:pe}}return ne}function xp(d){return typeof d=="number"?d:ka(d)?X:+d}function Ui(d){if(typeof d=="string")return d;if(cn(d))return rr(d,Ui)+"";if(ka(d))return Nc?Nc.call(d):"";var y=d+"";return y=="0"&&1/d==-Q?"-0":y}function Ll(d,y,A){var k=-1,V=Ea,ne=d.length,pe=!0,ye=[],Re=ye;if(A)pe=!1,V=xc;else if(ne>=i){var rt=y?null:zi(d);if(rt)return th(rt);pe=!1,V=yi,Re=new Cl}else Re=y?[]:ye;e:for(;++k<ne;){var it=d[k],lt=y?y(it):it;if(it=A||it!==0?it:0,pe&&lt===lt){for(var xt=Re.length;xt--;)if(Re[xt]===lt)continue e;y&&Re.push(lt),ye.push(it)}else V(Re,lt,A)||(Re!==ye&&Re.push(lt),ye.push(it))}return ye}function Ev(d,y){return y=kl(y,d),d=K3(d,y),d==null||delete d[Bl(ds(y))]}function Av(d,y,A,k){return yu(d,y,A(Da(d,y)),k)}function bh(d,y,A,k){for(var V=d.length,ne=k?V:-1;(k?ne--:++ne<V)&&y(d[ne],ne,d););return A?ko(d,k?0:ne,k?ne+1:V):ko(d,k?ne+1:0,k?V:ne)}function Dl(d,y){var A=d;return A instanceof $t&&(A=A.value()),tp(y,function(k,V){return V.func.apply(V.thisArg,Aa([k],V.args))},A)}function Tv(d,y,A){var k=d.length;if(k<2)return k?Ll(d[0]):[];for(var V=-1,ne=$e(k);++V<k;)for(var pe=d[V],ye=-1;++ye<k;)ye!=V&&(ne[V]=mu(ne[V]||pe,d[ye],y,A));return Ll(ci(ne,1),y,A)}function Nl(d,y,A){for(var k=-1,V=d.length,ne=y.length,pe={};++k<V;){var ye=k<ne?y[k]:n;A(pe,d[k],ye)}return pe}function bp(d){return ei(d)?d:[]}function Fi(d){return typeof d=="function"?d:la}function kl(d,y){return cn(d)?d:SA(d,y)?[d]:eL(Vn(d))}var Ux=jt;function Ul(d,y,A){var k=d.length;return A=A===n?k:A,!y&&A>=k?d:ko(d,y,A)}var Fx=ah||function(d){return hr.clearTimeout(d)};function Pv(d,y){if(y)return d.slice();var A=d.length,k=nv?nv(A):new d.constructor(A);return d.copy(k),k}function Sp(d){var y=new d.constructor(d.byteLength);return new ih(y).set(new ih(d)),y}function vA(d,y){var A=y?Sp(d.buffer):d.buffer;return new d.constructor(A,d.byteOffset,d.byteLength)}function ia(d){var y=new d.constructor(d.source,vc.exec(d));return y.lastIndex=d.lastIndex,y}function Cv(d){return $s?Xt($s.call(d)):{}}function Bx(d,y){var A=y?Sp(d.buffer):d.buffer;return new d.constructor(A,d.byteOffset,d.length)}function Ws(d,y){if(d!==y){var A=d!==n,k=d===null,V=d===d,ne=ka(d),pe=y!==n,ye=y===null,Re=y===y,rt=ka(y);if(!ye&&!rt&&!ne&&d>y||ne&&pe&&Re&&!ye&&!rt||k&&pe&&Re||!A&&Re||!V)return 1;if(!k&&!ne&&!rt&&d<y||rt&&A&&V&&!k&&!ne||ye&&A&&V||!pe&&V||!Re)return-1}return 0}function wp(d,y,A){for(var k=-1,V=d.criteria,ne=y.criteria,pe=V.length,ye=A.length;++k<pe;){var Re=Ws(V[k],ne[k]);if(Re){if(k>=ye)return Re;var rt=A[k];return Re*(rt=="desc"?-1:1)}}return d.index-y.index}function Fl(d,y,A,k){for(var V=-1,ne=d.length,pe=A.length,ye=-1,Re=y.length,rt=Jr(ne-pe,0),it=$e(Re+rt),lt=!k;++ye<Re;)it[ye]=y[ye];for(;++V<pe;)(lt||V<ne)&&(it[A[V]]=d[V]);for(;rt--;)it[ye++]=d[V++];return it}function Sh(d,y,A,k){for(var V=-1,ne=d.length,pe=-1,ye=A.length,Re=-1,rt=y.length,it=Jr(ne-ye,0),lt=$e(it+rt),xt=!k;++V<it;)lt[V]=d[V];for(var Ut=V;++Re<rt;)lt[Ut+Re]=y[Re];for(;++pe<ye;)(xt||V<ne)&&(lt[Ut+A[pe]]=d[V++]);return lt}function Bi(d,y){var A=-1,k=d.length;for(y||(y=$e(k));++A<k;)y[A]=d[A];return y}function oa(d,y,A,k){var V=!A;A||(A={});for(var ne=-1,pe=y.length;++ne<pe;){var ye=y[ne],Re=k?k(A[ye],d[ye],ye,A,d):n;Re===n&&(Re=d[ye]),V?us(A,ye,Re):Ia(A,ye,Re)}return A}function yA(d,y){return oa(d,bA(d),y)}function zx(d,y){return oa(d,G3(d),y)}function wh(d,y){return function(A,k){var V=cn(A)?Oo:dv,ne=y?y():{};return V(A,d,Wt(k,2),ne)}}function _u(d){return jt(function(y,A){var k=-1,V=A.length,ne=V>1?A[V-1]:n,pe=V>2?A[2]:n;for(ne=d.length>3&&typeof ne=="function"?(V--,ne):n,pe&&Fo(A[0],A[1],pe)&&(ne=V<3?n:ne,V=1),y=Xt(y);++k<V;){var ye=A[k];ye&&d(y,ye,k,ne)}return y})}function Ov(d,y){return function(A,k){if(A==null)return A;if(!aa(A))return d(A,k);for(var V=A.length,ne=y?V:-1,pe=Xt(A);(y?ne--:++ne<V)&&k(pe[ne],ne,pe)!==!1;);return A}}function Mp(d){return function(y,A,k){for(var V=-1,ne=Xt(y),pe=k(y),ye=pe.length;ye--;){var Re=pe[d?ye:++V];if(A(ne[Re],Re,ne)===!1)break}return y}}function _A(d,y,A){var k=y&x,V=m(d);function ne(){var pe=this&&this!==hr&&this instanceof ne?V:d;return pe.apply(k?A:this,arguments)}return ne}function jx(d){return function(y){y=Vn(y);var A=uu(y)?Sr(y):n,k=A?A[0]:y.charAt(0),V=A?Ul(A,1).join(""):y.slice(1);return k[d]()+V}}function p(d){return function(y){return tp(IL(RL(y).replace(Qd,"")),d,"")}}function m(d){return function(){var y=arguments;switch(y.length){case 0:return new d;case 1:return new d(y[0]);case 2:return new d(y[0],y[1]);case 3:return new d(y[0],y[1],y[2]);case 4:return new d(y[0],y[1],y[2],y[3]);case 5:return new d(y[0],y[1],y[2],y[3],y[4]);case 6:return new d(y[0],y[1],y[2],y[3],y[4],y[5]);case 7:return new d(y[0],y[1],y[2],y[3],y[4],y[5],y[6])}var A=Hs(d.prototype),k=d.apply(A,y);return Rr(k)?k:A}}function M(d,y,A){var k=m(d);function V(){for(var ne=arguments.length,pe=$e(ne),ye=ne,Re=Ap(V);ye--;)pe[ye]=arguments[ye];var rt=ne<3&&pe[0]!==Re&&pe[ne-1]!==Re?[]:Oa(pe,Re);if(ne-=rt.length,ne<A)return Wn(d,y,B,V.placeholder,n,pe,rt,n,n,A-ne);var it=this&&this!==hr&&this instanceof V?k:d;return Rn(it,this,pe)}return V}function R(d){return function(y,A,k){var V=Xt(y);if(!aa(y)){var ne=Wt(A,3);y=ji(y),A=function(ye){return ne(V[ye],ye,V)}}var pe=d(y,A,k);return pe>-1?V[ne?y[pe]:pe]:n}}function D(d){return pn(function(y){var A=y.length,k=A,V=Di.prototype.thru;for(d&&y.reverse();k--;){var ne=y[k];if(typeof ne!="function")throw new eo(a);if(V&&!pe&&Ep(ne)=="wrapper")var pe=new Di([],!0)}for(k=pe?k:A;++k<A;){ne=y[k];var ye=Ep(ne),Re=ye=="wrapper"?hs(ne):n;Re&&wA(Re[0])&&Re[1]==(I|w|T|O)&&!Re[4].length&&Re[9]==1?pe=pe[Ep(Re[0])].apply(pe,Re[3]):pe=ne.length==1&&wA(ne)?pe[ye]():pe.thru(ne)}return function(){var rt=arguments,it=rt[0];if(pe&&rt.length==1&&cn(it))return pe.plant(it).value();for(var lt=0,xt=A?y[lt].apply(this,rt):it;++lt<A;)xt=y[lt].call(this,xt);return xt}})}function B(d,y,A,k,V,ne,pe,ye,Re,rt){var it=y&I,lt=y&x,xt=y&_,Ut=y&(w|E),qt=y&C,Sn=xt?n:m(d);function Yt(){for(var En=arguments.length,In=$e(En),Ua=En;Ua--;)In[Ua]=arguments[Ua];if(Ut)var Bo=Ap(Yt),Fa=Ca(In,Bo);if(k&&(In=Fl(In,k,V,Ut)),ne&&(In=Sh(In,ne,pe,Ut)),En-=Fa,Ut&&En<rt){var ti=Oa(In,Bo);return Wn(d,y,B,Yt.placeholder,A,In,ti,ye,Re,rt-En)}var Xs=lt?A:this,wu=xt?Xs[d]:d;return En=In.length,ye?In=c9(In,ye):qt&&En>1&&In.reverse(),it&&Re<En&&(In.length=Re),this&&this!==hr&&this instanceof Yt&&(wu=Sn||m(wu)),wu.apply(Xs,In)}return Yt}function ue(d,y){return function(A,k){return _v(A,d,y(k),{})}}function Ae(d,y){return function(A,k){var V;if(A===n&&k===n)return y;if(A!==n&&(V=A),k!==n){if(V===n)return k;typeof A=="string"||typeof k=="string"?(A=Ui(A),k=Ui(k)):(A=xp(A),k=xp(k)),V=d(A,k)}return V}}function Ye(d){return pn(function(y){return y=rr(y,Ji(Wt())),jt(function(A){var k=this;return d(y,function(V){return Rn(V,k,A)})})})}function ht(d,y){y=y===n?" ":Ui(y);var A=y.length;if(A<2)return A?Gc(y,d):y;var k=Gc(y,sh(d/is(y)));return uu(y)?Ul(Sr(k),0,d).join(""):k.slice(0,d)}function Tt(d,y,A,k){var V=y&x,ne=m(d);function pe(){for(var ye=-1,Re=arguments.length,rt=-1,it=k.length,lt=$e(it+Re),xt=this&&this!==hr&&this instanceof pe?ne:d;++rt<it;)lt[rt]=k[rt];for(;Re--;)lt[rt++]=arguments[++ye];return Rn(xt,V?A:this,lt)}return pe}function rn(d){return function(y,A,k){return k&&typeof k!="number"&&Fo(y,A,k)&&(A=k=n),y=Su(y),A===n?(A=y,y=0):A=Su(A),k=k===n?y<A?1:-1:Su(k),ra(y,A,k,d)}}function zt(d){return function(y,A){return typeof y=="string"&&typeof A=="string"||(y=ps(y),A=ps(A)),d(y,A)}}function Wn(d,y,A,k,V,ne,pe,ye,Re,rt){var it=y&w,lt=it?pe:n,xt=it?n:pe,Ut=it?ne:n,qt=it?n:ne;y|=it?T:P,y&=~(it?P:T),y&S||(y&=~(x|_));var Sn=[d,y,V,Ut,lt,qt,xt,ye,Re,rt],Yt=A.apply(n,Sn);return wA(d)&&Z3(Yt,Sn),Yt.placeholder=k,J3(Yt,d,y)}function Lt(d){var y=sr[d];return function(A,k){if(A=ps(A),k=k==null?0:Li(yn(k),292),k&&ov(A)){var V=(Vn(A)+"e").split("e"),ne=y(V[0]+"e"+(+V[1]+k));return V=(Vn(ne)+"e").split("e"),+(V[0]+"e"+(+V[1]-k))}return y(A)}}var zi=Dc&&1/th(new Dc([,-0]))[1]==Q?function(d){return new Dc(d)}:FA;function Uo(d){return function(y){var A=mo(y);return A==Z?eh(y):A==W?rx(y):ex(y,d(y))}}function De(d,y,A,k,V,ne,pe,ye){var Re=y&_;if(!Re&&typeof d!="function")throw new eo(a);var rt=k?k.length:0;if(rt||(y&=~(T|P),k=V=n),pe=pe===n?pe:Jr(yn(pe),0),ye=ye===n?ye:yn(ye),rt-=V?V.length:0,y&P){var it=k,lt=V;k=V=n}var xt=Re?n:hs(d),Ut=[d,y,A,k,V,it,lt,ne,pe,ye];if(xt&&s9(Ut,xt),d=Ut[0],y=Ut[1],A=Ut[2],k=Ut[3],V=Ut[4],ye=Ut[9]=Ut[9]===n?Re?0:d.length:Jr(Ut[9]-rt,0),!ye&&y&(w|E)&&(y&=~(w|E)),!y||y==x)var qt=_A(d,y,A);else y==w||y==E?qt=M(d,y,ye):(y==T||y==(x|T))&&!V.length?qt=Tt(d,y,A,k):qt=B.apply(n,Ut);var Sn=xt?Nx:Z3;return J3(Sn(qt,Ut),d,y)}function Oe(d,y,A,k){return d===n||Vs(d,Oc[A])&&!kn.call(k,A)?y:d}function Ge(d,y,A,k,V,ne){return Rr(d)&&Rr(y)&&(ne.set(y,d),Na(d,y,n,Ge,ne),ne.delete(y)),d}function bt(d){return Lv(d)?n:d}function Dt(d,y,A,k,V,ne){var pe=A&v,ye=d.length,Re=y.length;if(ye!=Re&&!(pe&&Re>ye))return!1;var rt=ne.get(d),it=ne.get(y);if(rt&&it)return rt==y&&it==d;var lt=-1,xt=!0,Ut=A&b?new Cl:n;for(ne.set(d,y),ne.set(y,d);++lt<ye;){var qt=d[lt],Sn=y[lt];if(k)var Yt=pe?k(Sn,qt,lt,y,d,ne):k(qt,Sn,lt,d,y,ne);if(Yt!==n){if(Yt)continue;xt=!1;break}if(Ut){if(!Kf(y,function(En,In){if(!yi(Ut,In)&&(qt===En||V(qt,En,A,k,ne)))return Ut.push(In)})){xt=!1;break}}else if(!(qt===Sn||V(qt,Sn,A,k,ne))){xt=!1;break}}return ne.delete(d),ne.delete(y),xt}function dn(d,y,A,k,V,ne,pe){switch(A){case Be:if(d.byteLength!=y.byteLength||d.byteOffset!=y.byteOffset)return!1;d=d.buffer,y=y.buffer;case We:return!(d.byteLength!=y.byteLength||!ne(new ih(d),new ih(y)));case be:case fe:case Ie:return Vs(+d,+y);case Se:return d.name==y.name&&d.message==y.message;case Ue:case G:return d==y+"";case Z:var ye=eh;case W:var Re=k&v;if(ye||(ye=th),d.size!=y.size&&!Re)return!1;var rt=pe.get(d);if(rt)return rt==y;k|=b,pe.set(d,y);var it=Dt(ye(d),ye(y),k,V,ne,pe);return pe.delete(d),it;case ce:if($s)return $s.call(d)==$s.call(y)}return!1}function on(d,y,A,k,V,ne){var pe=A&v,ye=jr(d),Re=ye.length,rt=jr(y),it=rt.length;if(Re!=it&&!pe)return!1;for(var lt=Re;lt--;){var xt=ye[lt];if(!(pe?xt in y:kn.call(y,xt)))return!1}var Ut=ne.get(d),qt=ne.get(y);if(Ut&&qt)return Ut==y&&qt==d;var Sn=!0;ne.set(d,y),ne.set(y,d);for(var Yt=pe;++lt<Re;){xt=ye[lt];var En=d[xt],In=y[xt];if(k)var Ua=pe?k(In,En,xt,y,d,ne):k(En,In,xt,d,y,ne);if(!(Ua===n?En===In||V(En,In,A,k,ne):Ua)){Sn=!1;break}Yt||(Yt=xt=="constructor")}if(Sn&&!Yt){var Bo=d.constructor,Fa=y.constructor;Bo!=Fa&&"constructor"in d&&"constructor"in y&&!(typeof Bo=="function"&&Bo instanceof Bo&&typeof Fa=="function"&&Fa instanceof Fa)&&(Sn=!1)}return ne.delete(d),ne.delete(y),Sn}function pn(d){return EA(Y3(d,n,iL),d+"")}function jr(d){return dp(d,ji,bA)}function Pn(d){return dp(d,sa,G3)}var hs=sp?function(d){return sp.get(d)}:FA;function Ep(d){for(var y=d.name+"",A=du[y],k=kn.call(du,y)?A.length:0;k--;){var V=A[k],ne=V.func;if(ne==null||ne==d)return V.name}return y}function Ap(d){var y=kn.call(J,"placeholder")?J:d;return y.placeholder}function Wt(){var d=J.iteratee||kA;return d=d===kA?$c:d,arguments.length?d(arguments[0],arguments[1]):d}function $x(d,y){var A=d.__data__;return r9(y)?A[typeof y=="string"?"string":"hash"]:A.map}function xA(d){for(var y=ji(d),A=y.length;A--;){var k=y[A],V=d[k];y[A]=[k,V,X3(V)]}return y}function Mh(d,y){var A=Qg(d,y);return zc(A)?A:n}function KV(d){var y=kn.call(d,ss),A=d[ss];try{d[ss]=n;var k=!0}catch{}var V=Ro.call(d);return k&&(y?d[ss]=A:delete d[ss]),V}var bA=uh?function(d){return d==null?[]:(d=Xt(d),Ii(uh(d),function(y){return ap.call(d,y)}))}:BA,G3=uh?function(d){for(var y=[];d;)Aa(y,bA(d)),d=oh(d);return y}:BA,mo=_i;(Lc&&mo(new Lc(new ArrayBuffer(1)))!=Be||ch&&mo(new ch)!=Z||sv&&mo(sv.resolve())!=Ee||Dc&&mo(new Dc)!=W||fu&&mo(new fu)!=ve)&&(mo=function(d){var y=_i(d),A=y==Ne?d.constructor:n,k=A?Eh(A):"";if(k)switch(k){case dx:return Be;case px:return Z;case mx:return Ee;case gx:return W;case ls:return ve}return y});function ZV(d,y,A){for(var k=-1,V=A.length;++k<V;){var ne=A[k],pe=ne.size;switch(ne.type){case"drop":d+=pe;break;case"dropRight":y-=pe;break;case"take":y=Li(y,d+pe);break;case"takeRight":d=Jr(d,y-pe);break}}return{start:d,end:y}}function JV(d){var y=d.match(Pi);return y?y[1].split(Ci):[]}function W3(d,y,A){y=kl(y,d);for(var k=-1,V=y.length,ne=!1;++k<V;){var pe=Bl(y[k]);if(!(ne=d!=null&&A(d,pe)))break;d=d[pe]}return ne||++k!=V?ne:(V=d==null?0:d.length,!!V&&Yx(V)&&xu(pe,V)&&(cn(d)||Ah(d)))}function QV(d){var y=d.length,A=new d.constructor(y);return y&&typeof d[0]=="string"&&kn.call(d,"index")&&(A.index=d.index,A.input=d.input),A}function V3(d){return typeof d.constructor=="function"&&!Rv(d)?Hs(oh(d)):{}}function e9(d,y,A){var k=d.constructor;switch(y){case We:return Sp(d);case be:case fe:return new k(+d);case Be:return vA(d,A);case Xe:case ct:case qe:case ot:case ut:case at:case Ze:case me:case Fe:return Bx(d,A);case Z:return new k;case Ie:case G:return new k(d);case Ue:return ia(d);case W:return new k;case ce:return Cv(d)}}function t9(d,y){var A=y.length;if(!A)return d;var k=A-1;return y[k]=(A>1?"& ":"")+y[k],y=y.join(A>2?", ":" "),d.replace(To,`{
/* [wrapped with `+y+`] */
`)}function n9(d){return cn(d)||Ah(d)||!!(iv&&d&&d[iv])}function xu(d,y){var A=typeof d;return y=y??F,!!y&&(A=="number"||A!="symbol"&&je.test(d))&&d>-1&&d%1==0&&d<y}function Fo(d,y,A){if(!Rr(A))return!1;var k=typeof y;return(k=="number"?aa(A)&&xu(y,A.length):k=="string"&&y in A)?Vs(A[y],d):!1}function SA(d,y){if(cn(d))return!1;var A=typeof d;return A=="number"||A=="symbol"||A=="boolean"||d==null||ka(d)?!0:Mn.test(d)||!Rt.test(d)||y!=null&&d in Xt(y)}function r9(d){var y=typeof d;return y=="string"||y=="number"||y=="symbol"||y=="boolean"?d!=="__proto__":d===null}function wA(d){var y=Ep(d),A=J[y];if(typeof A!="function"||!(y in $t.prototype))return!1;if(d===A)return!0;var k=hs(A);return!!k&&d===k[0]}function i9(d){return!!as&&as in d}var o9=Zr?bu:zA;function Rv(d){var y=d&&d.constructor,A=typeof y=="function"&&y.prototype||Oc;return d===A}function X3(d){return d===d&&!Rr(d)}function q3(d,y){return function(A){return A==null?!1:A[d]===y&&(y!==n||d in Xt(A))}}function a9(d){var y=Xx(d,function(k){return A.size===u&&A.clear(),k}),A=y.cache;return y}function s9(d,y){var A=d[1],k=y[1],V=A|k,ne=V<(x|_|I),pe=k==I&&A==w||k==I&&A==O&&d[7].length<=y[8]||k==(I|O)&&y[7].length<=y[8]&&A==w;if(!(ne||pe))return d;k&x&&(d[2]=y[2],V|=A&x?0:S);var ye=y[3];if(ye){var Re=d[3];d[3]=Re?Fl(Re,ye,y[4]):ye,d[4]=Re?Oa(d[3],c):y[4]}return ye=y[5],ye&&(Re=d[5],d[5]=Re?Sh(Re,ye,y[6]):ye,d[6]=Re?Oa(d[5],c):y[6]),ye=y[7],ye&&(d[7]=ye),k&I&&(d[8]=d[8]==null?y[8]:Li(d[8],y[8])),d[9]==null&&(d[9]=y[9]),d[0]=y[0],d[1]=V,d}function l9(d){var y=[];if(d!=null)for(var A in Xt(d))y.push(A);return y}function u9(d){return Ro.call(d)}function Y3(d,y,A){return y=Jr(y===n?d.length-1:y,0),function(){for(var k=arguments,V=-1,ne=Jr(k.length-y,0),pe=$e(ne);++V<ne;)pe[V]=k[y+V];V=-1;for(var ye=$e(y+1);++V<y;)ye[V]=k[V];return ye[y]=A(pe),Rn(d,this,ye)}}function K3(d,y){return y.length<2?d:Da(d,ko(y,0,-1))}function c9(d,y){for(var A=d.length,k=Li(y.length,A),V=Bi(d);k--;){var ne=y[k];d[k]=xu(ne,A)?V[ne]:n}return d}function MA(d,y){if(!(y==="constructor"&&typeof d[y]=="function")&&y!="__proto__")return d[y]}var Z3=Q3(Nx),Iv=sx||function(d,y){return hr.setTimeout(d,y)},EA=Q3(Il);function J3(d,y,A){var k=y+"";return EA(d,t9(k,f9(JV(k),A)))}function Q3(d){var y=0,A=0;return function(){var k=cx(),V=z-(k-A);if(A=k,V>0){if(++y>=U)return arguments[0]}else y=0;return d.apply(n,arguments)}}function Hx(d,y){var A=-1,k=d.length,V=k-1;for(y=y===n?k:y;++A<y;){var ne=cs(A,V),pe=d[ne];d[ne]=d[A],d[A]=pe}return d.length=y,d}var eL=a9(function(d){var y=[];return d.charCodeAt(0)===46&&y.push(""),d.replace(Cn,function(A,k,V,ne){y.push(V?ne.replace(iu,"$1"):k||A)}),y});function Bl(d){if(typeof d=="string"||ka(d))return d;var y=d+"";return y=="0"&&1/d==-Q?"-0":y}function Eh(d){if(d!=null){try{return Rc.call(d)}catch{}try{return d+""}catch{}}return""}function f9(d,y){return Kr(re,function(A){var k="_."+A[0];y&A[1]&&!Ea(d,k)&&d.push(k)}),d.sort()}function tL(d){if(d instanceof $t)return d.clone();var y=new Di(d.__wrapped__,d.__chain__);return y.__actions__=Bi(d.__actions__),y.__index__=d.__index__,y.__values__=d.__values__,y}function h9(d,y,A){(A?Fo(d,y,A):y===n)?y=1:y=Jr(yn(y),0);var k=d==null?0:d.length;if(!k||y<1)return[];for(var V=0,ne=0,pe=$e(sh(k/y));V<k;)pe[ne++]=ko(d,V,V+=y);return pe}function d9(d){for(var y=-1,A=d==null?0:d.length,k=0,V=[];++y<A;){var ne=d[y];ne&&(V[k++]=ne)}return V}function p9(){var d=arguments.length;if(!d)return[];for(var y=$e(d-1),A=arguments[0],k=d;k--;)y[k-1]=arguments[k];return Aa(cn(A)?Bi(A):[A],ci(y,1))}var m9=jt(function(d,y){return ei(d)?mu(d,ci(y,1,ei,!0)):[]}),g9=jt(function(d,y){var A=ds(y);return ei(A)&&(A=n),ei(d)?mu(d,ci(y,1,ei,!0),Wt(A,2)):[]}),v9=jt(function(d,y){var A=ds(y);return ei(A)&&(A=n),ei(d)?mu(d,ci(y,1,ei,!0),n,A):[]});function y9(d,y,A){var k=d==null?0:d.length;return k?(y=A||y===n?1:yn(y),ko(d,y<0?0:y,k)):[]}function _9(d,y,A){var k=d==null?0:d.length;return k?(y=A||y===n?1:yn(y),y=k-y,ko(d,0,y<0?0:y)):[]}function x9(d,y){return d&&d.length?bh(d,Wt(y,3),!0,!0):[]}function b9(d,y){return d&&d.length?bh(d,Wt(y,3),!0):[]}function S9(d,y,A,k){var V=d==null?0:d.length;return V?(A&&typeof A!="number"&&Fo(d,y,A)&&(A=0,k=V),Ix(d,y,A,k)):[]}function nL(d,y,A){var k=d==null?0:d.length;if(!k)return-1;var V=A==null?0:yn(A);return V<0&&(V=Jr(k+V,0)),bc(d,Wt(y,3),V)}function rL(d,y,A){var k=d==null?0:d.length;if(!k)return-1;var V=k-1;return A!==n&&(V=yn(A),V=A<0?Jr(k+V,0):Li(V,k-1)),bc(d,Wt(y,3),V,!0)}function iL(d){var y=d==null?0:d.length;return y?ci(d,1):[]}function w9(d){var y=d==null?0:d.length;return y?ci(d,Q):[]}function M9(d,y){var A=d==null?0:d.length;return A?(y=y===n?1:yn(y),ci(d,y)):[]}function E9(d){for(var y=-1,A=d==null?0:d.length,k={};++y<A;){var V=d[y];k[V[0]]=V[1]}return k}function oL(d){return d&&d.length?d[0]:n}function A9(d,y,A){var k=d==null?0:d.length;if(!k)return-1;var V=A==null?0:yn(A);return V<0&&(V=Jr(k+V,0)),Ta(d,y,V)}function T9(d){var y=d==null?0:d.length;return y?ko(d,0,-1):[]}var P9=jt(function(d){var y=rr(d,bp);return y.length&&y[0]===d[0]?Fc(y):[]}),C9=jt(function(d){var y=ds(d),A=rr(d,bp);return y===ds(A)?y=n:A.pop(),A.length&&A[0]===d[0]?Fc(A,Wt(y,2)):[]}),O9=jt(function(d){var y=ds(d),A=rr(d,bp);return y=typeof y=="function"?y:n,y&&A.pop(),A.length&&A[0]===d[0]?Fc(A,n,y):[]});function R9(d,y){return d==null?"":uA.call(d,y)}function ds(d){var y=d==null?0:d.length;return y?d[y-1]:n}function I9(d,y,A){var k=d==null?0:d.length;if(!k)return-1;var V=k;return A!==n&&(V=yn(A),V=V<0?Jr(k+V,0):Li(V,k-1)),y===y?ix(d,y,V):bc(d,Zf,V,!0)}function L9(d,y){return d&&d.length?Gs(d,yn(y)):n}var D9=jt(aL);function aL(d,y){return d&&d.length&&y&&y.length?Hc(d,y):d}function N9(d,y,A){return d&&d.length&&y&&y.length?Hc(d,y,Wt(A,2)):d}function k9(d,y,A){return d&&d.length&&y&&y.length?Hc(d,y,n,A):d}var U9=pn(function(d,y){var A=d==null?0:d.length,k=fp(d,y);return ki(d,rr(y,function(V){return xu(V,A)?+V:V}).sort(Ws)),k});function F9(d,y){var A=[];if(!(d&&d.length))return A;var k=-1,V=[],ne=d.length;for(y=Wt(y,3);++k<ne;){var pe=d[k];y(pe,k,d)&&(A.push(pe),V.push(k))}return ki(d,V),A}function AA(d){return d==null?d:hx.call(d)}function B9(d,y,A){var k=d==null?0:d.length;return k?(A&&typeof A!="number"&&Fo(d,y,A)?(y=0,A=k):(y=y==null?0:yn(y),A=A===n?k:yn(A)),ko(d,y,A)):[]}function z9(d,y){return fs(d,y)}function j9(d,y,A){return _p(d,y,Wt(A,2))}function $9(d,y){var A=d==null?0:d.length;if(A){var k=fs(d,y);if(k<A&&Vs(d[k],y))return k}return-1}function H9(d,y){return fs(d,y,!0)}function G9(d,y,A){return _p(d,y,Wt(A,2),!0)}function W9(d,y){var A=d==null?0:d.length;if(A){var k=fs(d,y,!0)-1;if(Vs(d[k],y))return k}return-1}function V9(d){return d&&d.length?Mv(d):[]}function X9(d,y){return d&&d.length?Mv(d,Wt(y,2)):[]}function q9(d){var y=d==null?0:d.length;return y?ko(d,1,y):[]}function Y9(d,y,A){return d&&d.length?(y=A||y===n?1:yn(y),ko(d,0,y<0?0:y)):[]}function K9(d,y,A){var k=d==null?0:d.length;return k?(y=A||y===n?1:yn(y),y=k-y,ko(d,y<0?0:y,k)):[]}function Z9(d,y){return d&&d.length?bh(d,Wt(y,3),!1,!0):[]}function J9(d,y){return d&&d.length?bh(d,Wt(y,3)):[]}var Q9=jt(function(d){return Ll(ci(d,1,ei,!0))}),e7=jt(function(d){var y=ds(d);return ei(y)&&(y=n),Ll(ci(d,1,ei,!0),Wt(y,2))}),t7=jt(function(d){var y=ds(d);return y=typeof y=="function"?y:n,Ll(ci(d,1,ei,!0),n,y)});function n7(d){return d&&d.length?Ll(d):[]}function r7(d,y){return d&&d.length?Ll(d,Wt(y,2)):[]}function i7(d,y){return y=typeof y=="function"?y:n,d&&d.length?Ll(d,n,y):[]}function TA(d){if(!(d&&d.length))return[];var y=0;return d=Ii(d,function(A){if(ei(A))return y=Jr(A.length,y),!0}),zs(y,function(A){return rr(d,ho(A))})}function sL(d,y){if(!(d&&d.length))return[];var A=TA(d);return y==null?A:rr(A,function(k){return Rn(y,n,k)})}var o7=jt(function(d,y){return ei(d)?mu(d,y):[]}),a7=jt(function(d){return Tv(Ii(d,ei))}),s7=jt(function(d){var y=ds(d);return ei(y)&&(y=n),Tv(Ii(d,ei),Wt(y,2))}),l7=jt(function(d){var y=ds(d);return y=typeof y=="function"?y:n,Tv(Ii(d,ei),n,y)}),u7=jt(TA);function c7(d,y){return Nl(d||[],y||[],Ia)}function f7(d,y){return Nl(d||[],y||[],yu)}var h7=jt(function(d){var y=d.length,A=y>1?d[y-1]:n;return A=typeof A=="function"?(d.pop(),A):n,sL(d,A)});function lL(d){var y=J(d);return y.__chain__=!0,y}function d7(d,y){return y(d),d}function Gx(d,y){return y(d)}var p7=pn(function(d){var y=d.length,A=y?d[0]:0,k=this.__wrapped__,V=function(ne){return fp(ne,d)};return y>1||this.__actions__.length||!(k instanceof $t)||!xu(A)?this.thru(V):(k=k.slice(A,+A+(y?1:0)),k.__actions__.push({func:Gx,args:[V],thisArg:n}),new Di(k,this.__chain__).thru(function(ne){return y&&!ne.length&&ne.push(n),ne}))});function m7(){return lL(this)}function g7(){return new Di(this.value(),this.__chain__)}function v7(){this.__values__===n&&(this.__values__=SL(this.value()));var d=this.__index__>=this.__values__.length,y=d?n:this.__values__[this.__index__++];return{done:d,value:y}}function y7(){return this}function _7(d){for(var y,A=this;A instanceof hh;){var k=tL(A);k.__index__=0,k.__values__=n,y?V.__wrapped__=k:y=k;var V=k;A=A.__wrapped__}return V.__wrapped__=d,y}function x7(){var d=this.__wrapped__;if(d instanceof $t){var y=d;return this.__actions__.length&&(y=new $t(this)),y=y.reverse(),y.__actions__.push({func:Gx,args:[AA],thisArg:n}),new Di(y,this.__chain__)}return this.thru(AA)}function b7(){return Dl(this.__wrapped__,this.__actions__)}var S7=wh(function(d,y,A){kn.call(d,A)?++d[A]:us(d,A,1)});function w7(d,y,A){var k=cn(d)?Kg:mA;return A&&Fo(d,y,A)&&(y=n),k(d,Wt(y,3))}function M7(d,y){var A=cn(d)?Ii:vv;return A(d,Wt(y,3))}var E7=R(nL),A7=R(rL);function T7(d,y){return ci(Wx(d,y),1)}function P7(d,y){return ci(Wx(d,y),Q)}function C7(d,y,A){return A=A===n?1:yn(A),ci(Wx(d,y),A)}function uL(d,y){var A=cn(d)?Kr:La;return A(d,Wt(y,3))}function cL(d,y){var A=cn(d)?Yg:Rx;return A(d,Wt(y,3))}var O7=wh(function(d,y,A){kn.call(d,A)?d[A].push(y):us(d,A,[y])});function R7(d,y,A,k){d=aa(d)?d:Pp(d),A=A&&!k?yn(A):0;var V=d.length;return A<0&&(A=Jr(V+A,0)),Kx(d)?A<=V&&d.indexOf(y,A)>-1:!!V&&Ta(d,y,A)>-1}var I7=jt(function(d,y,A){var k=-1,V=typeof y=="function",ne=aa(d)?$e(d.length):[];return La(d,function(pe){ne[++k]=V?Rn(y,pe,A):or(pe,y,A)}),ne}),L7=wh(function(d,y,A){us(d,A,y)});function Wx(d,y){var A=cn(d)?rr:vu;return A(d,Wt(y,3))}function D7(d,y,A,k){return d==null?[]:(cn(y)||(y=y==null?[]:[y]),A=k?n:A,cn(A)||(A=A==null?[]:[A]),_h(d,y,A))}var N7=wh(function(d,y,A){d[A?0:1].push(y)},function(){return[[],[]]});function k7(d,y,A){var k=cn(d)?tp:Ml,V=arguments.length<3;return k(d,Wt(y,4),A,V,La)}function U7(d,y,A){var k=cn(d)?Z_:Ml,V=arguments.length<3;return k(d,Wt(y,4),A,V,Rx)}function F7(d,y){var A=cn(d)?Ii:vv;return A(d,qx(Wt(y,3)))}function B7(d){var y=cn(d)?dh:Dx;return y(d)}function z7(d,y,A){(A?Fo(d,y,A):y===n)?y=1:y=yn(y);var k=cn(d)?fv:Sv;return k(d,y)}function j7(d){var y=cn(d)?Cx:kx;return y(d)}function $7(d){if(d==null)return 0;if(aa(d))return Kx(d)?is(d):d.length;var y=mo(d);return y==Z||y==W?d.size:Ni(d).length}function H7(d,y,A){var k=cn(d)?Kf:wv;return A&&Fo(d,y,A)&&(y=n),k(d,Wt(y,3))}var G7=jt(function(d,y){if(d==null)return[];var A=y.length;return A>1&&Fo(d,y[0],y[1])?y=[]:A>2&&Fo(y[0],y[1],y[2])&&(y=[y[0]]),_h(d,ci(y,1),[])}),Vx=ax||function(){return hr.Date.now()};function W7(d,y){if(typeof y!="function")throw new eo(a);return d=yn(d),function(){if(--d<1)return y.apply(this,arguments)}}function fL(d,y,A){return y=A?n:y,y=d&&y==null?d.length:y,De(d,I,n,n,n,n,y)}function hL(d,y){var A;if(typeof y!="function")throw new eo(a);return d=yn(d),function(){return--d>0&&(A=y.apply(this,arguments)),d<=1&&(y=n),A}}var PA=jt(function(d,y,A){var k=x;if(A.length){var V=Oa(A,Ap(PA));k|=T}return De(d,k,y,A,V)}),dL=jt(function(d,y,A){var k=x|_;if(A.length){var V=Oa(A,Ap(dL));k|=T}return De(y,k,d,A,V)});function pL(d,y,A){y=A?n:y;var k=De(d,w,n,n,n,n,n,y);return k.placeholder=pL.placeholder,k}function mL(d,y,A){y=A?n:y;var k=De(d,E,n,n,n,n,n,y);return k.placeholder=mL.placeholder,k}function gL(d,y,A){var k,V,ne,pe,ye,Re,rt=0,it=!1,lt=!1,xt=!0;if(typeof d!="function")throw new eo(a);y=ps(y)||0,Rr(A)&&(it=!!A.leading,lt="maxWait"in A,ne=lt?Jr(ps(A.maxWait)||0,y):ne,xt="trailing"in A?!!A.trailing:xt);function Ut(ti){var Xs=k,wu=V;return k=V=n,rt=ti,pe=d.apply(wu,Xs),pe}function qt(ti){return rt=ti,ye=Iv(En,y),it?Ut(ti):pe}function Sn(ti){var Xs=ti-Re,wu=ti-rt,NL=y-Xs;return lt?Li(NL,ne-wu):NL}function Yt(ti){var Xs=ti-Re,wu=ti-rt;return Re===n||Xs>=y||Xs<0||lt&&wu>=ne}function En(){var ti=Vx();if(Yt(ti))return In(ti);ye=Iv(En,Sn(ti))}function In(ti){return ye=n,xt&&k?Ut(ti):(k=V=n,pe)}function Ua(){ye!==n&&Fx(ye),rt=0,k=Re=V=ye=n}function Bo(){return ye===n?pe:In(Vx())}function Fa(){var ti=Vx(),Xs=Yt(ti);if(k=arguments,V=this,Re=ti,Xs){if(ye===n)return qt(Re);if(lt)return Fx(ye),ye=Iv(En,y),Ut(Re)}return ye===n&&(ye=Iv(En,y)),pe}return Fa.cancel=Ua,Fa.flush=Bo,Fa}var V7=jt(function(d,y){return gv(d,1,y)}),X7=jt(function(d,y,A){return gv(d,ps(y)||0,A)});function q7(d){return De(d,C)}function Xx(d,y){if(typeof d!="function"||y!=null&&typeof y!="function")throw new eo(a);var A=function(){var k=arguments,V=y?y.apply(this,k):k[0],ne=A.cache;if(ne.has(V))return ne.get(V);var pe=d.apply(this,k);return A.cache=ne.set(V,pe)||ne,pe};return A.cache=new(Xx.Cache||na),A}Xx.Cache=na;function qx(d){if(typeof d!="function")throw new eo(a);return function(){var y=arguments;switch(y.length){case 0:return!d.call(this);case 1:return!d.call(this,y[0]);case 2:return!d.call(this,y[0],y[1]);case 3:return!d.call(this,y[0],y[1],y[2])}return!d.apply(this,y)}}function Y7(d){return hL(2,d)}var K7=Ux(function(d,y){y=y.length==1&&cn(y[0])?rr(y[0],Ji(Wt())):rr(ci(y,1),Ji(Wt()));var A=y.length;return jt(function(k){for(var V=-1,ne=Li(k.length,A);++V<ne;)k[V]=y[V].call(this,k[V]);return Rn(d,this,k)})}),CA=jt(function(d,y){var A=Oa(y,Ap(CA));return De(d,T,n,y,A)}),vL=jt(function(d,y){var A=Oa(y,Ap(vL));return De(d,P,n,y,A)}),Z7=pn(function(d,y){return De(d,O,n,n,n,y)});function J7(d,y){if(typeof d!="function")throw new eo(a);return y=y===n?y:yn(y),jt(d,y)}function Q7(d,y){if(typeof d!="function")throw new eo(a);return y=y==null?0:Jr(yn(y),0),jt(function(A){var k=A[y],V=Ul(A,0,y);return k&&Aa(V,k),Rn(d,this,V)})}function eX(d,y,A){var k=!0,V=!0;if(typeof d!="function")throw new eo(a);return Rr(A)&&(k="leading"in A?!!A.leading:k,V="trailing"in A?!!A.trailing:V),gL(d,y,{leading:k,maxWait:y,trailing:V})}function tX(d){return fL(d,1)}function nX(d,y){return CA(Fi(y),d)}function rX(){if(!arguments.length)return[];var d=arguments[0];return cn(d)?d:[d]}function iX(d){return Lo(d,g)}function oX(d,y){return y=typeof y=="function"?y:n,Lo(d,g,y)}function aX(d){return Lo(d,f|g)}function sX(d,y){return y=typeof y=="function"?y:n,Lo(d,f|g,y)}function lX(d,y){return y==null||hp(d,y,ji(y))}function Vs(d,y){return d===y||d!==d&&y!==y}var uX=zt(gh),cX=zt(function(d,y){return d>=y}),Ah=hn(function(){return arguments}())?hn:function(d){return $r(d)&&kn.call(d,"callee")&&!ap.call(d,"callee")},cn=$e.isArray,fX=Fs?Ji(Fs):Br;function aa(d){return d!=null&&Yx(d.length)&&!bu(d)}function ei(d){return $r(d)&&aa(d)}function hX(d){return d===!0||d===!1||$r(d)&&_i(d)==be}var Wc=lx||zA,dX=lu?Ji(lu):zr;function pX(d){return $r(d)&&d.nodeType===1&&!Lv(d)}function mX(d){if(d==null)return!0;if(aa(d)&&(cn(d)||typeof d=="string"||typeof d.splice=="function"||Wc(d)||Tp(d)||Ah(d)))return!d.length;var y=mo(d);if(y==Z||y==W)return!d.size;if(Rv(d))return!Ni(d).length;for(var A in d)if(kn.call(d,A))return!1;return!0}function gX(d,y){return Cr(d,y)}function vX(d,y,A){A=typeof A=="function"?A:n;var k=A?A(d,y):n;return k===n?Cr(d,y,n,A):!!k}function OA(d){if(!$r(d))return!1;var y=_i(d);return y==Se||y==Te||typeof d.message=="string"&&typeof d.name=="string"&&!Lv(d)}function yX(d){return typeof d=="number"&&ov(d)}function bu(d){if(!Rr(d))return!1;var y=_i(d);return y==ee||y==we||y==de||y==Ke}function yL(d){return typeof d=="number"&&d==yn(d)}function Yx(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=F}function Rr(d){var y=typeof d;return d!=null&&(y=="object"||y=="function")}function $r(d){return d!=null&&typeof d=="object"}var _L=Yf?Ji(Yf):Bc;function _X(d,y){return d===y||Or(d,y,xA(y))}function xX(d,y,A){return A=typeof A=="function"?A:n,Or(d,y,xA(y),A)}function bX(d){return xL(d)&&d!=+d}function SX(d){if(o9(d))throw new Zt(o);return zc(d)}function wX(d){return d===null}function MX(d){return d==null}function xL(d){return typeof d=="number"||$r(d)&&_i(d)==Ie}function Lv(d){if(!$r(d)||_i(d)!=Ne)return!1;var y=oh(d);if(y===null)return!0;var A=kn.call(y,"constructor")&&y.constructor;return typeof A=="function"&&A instanceof A&&Rc.call(A)==cu}var RA=Yr?Ji(Yr):jc;function EX(d){return yL(d)&&d>=-F&&d<=F}var bL=Ri?Ji(Ri):pp;function Kx(d){return typeof d=="string"||!cn(d)&&$r(d)&&_i(d)==G}function ka(d){return typeof d=="symbol"||$r(d)&&_i(d)==ce}var Tp=br?Ji(br):xv;function AX(d){return d===n}function TX(d){return $r(d)&&mo(d)==ve}function PX(d){return $r(d)&&_i(d)==ke}var CX=zt(vh),OX=zt(function(d,y){return d<=y});function SL(d){if(!d)return[];if(aa(d))return Kx(d)?Sr(d):Bi(d);if(Pl&&d[Pl])return Mc(d[Pl]());var y=mo(d),A=y==Z?eh:y==W?th:Pp;return A(d)}function Su(d){if(!d)return d===0?d:0;if(d=ps(d),d===Q||d===-Q){var y=d<0?-1:1;return y*j}return d===d?d:0}function yn(d){var y=Su(d),A=y%1;return y===y?A?y-A:y:0}function wL(d){return d?Rl(yn(d),0,H):0}function ps(d){if(typeof d=="number")return d;if(ka(d))return X;if(Rr(d)){var y=typeof d.valueOf=="function"?d.valueOf():d;d=Rr(y)?y+"":y}if(typeof d!="string")return d===0?d:+d;d=rp(d);var A=Ds.test(d);return A||Ce.test(d)?qf(d.slice(2),A?2:8):yc.test(d)?X:+d}function ML(d){return oa(d,sa(d))}function RX(d){return d?Rl(yn(d),-F,F):d===0?d:0}function Vn(d){return d==null?"":Ui(d)}var IX=_u(function(d,y){if(Rv(y)||aa(y)){oa(y,ji(y),d);return}for(var A in y)kn.call(y,A)&&Ia(d,A,y[A])}),EL=_u(function(d,y){oa(y,sa(y),d)}),Zx=_u(function(d,y,A,k){oa(y,sa(y),d,k)}),LX=_u(function(d,y,A,k){oa(y,ji(y),d,k)}),DX=pn(fp);function NX(d,y){var A=Hs(d);return y==null?A:pv(A,y)}var kX=jt(function(d,y){d=Xt(d);var A=-1,k=y.length,V=k>2?y[2]:n;for(V&&Fo(y[0],y[1],V)&&(k=1);++A<k;)for(var ne=y[A],pe=sa(ne),ye=-1,Re=pe.length;++ye<Re;){var rt=pe[ye],it=d[rt];(it===n||Vs(it,Oc[rt])&&!kn.call(d,rt))&&(d[rt]=ne[rt])}return d}),UX=jt(function(d){return d.push(n,Ge),Rn(AL,n,d)});function FX(d,y){return Zg(d,Wt(y,3),Do)}function BX(d,y){return Zg(d,Wt(y,3),Uc)}function zX(d,y){return d==null?d:kc(d,Wt(y,3),sa)}function jX(d,y){return d==null?d:mh(d,Wt(y,3),sa)}function $X(d,y){return d&&Do(d,Wt(y,3))}function HX(d,y){return d&&Uc(d,Wt(y,3))}function GX(d){return d==null?[]:gu(d,ji(d))}function WX(d){return d==null?[]:gu(d,sa(d))}function IA(d,y,A){var k=d==null?n:Da(d,y);return k===n?A:k}function VX(d,y){return d!=null&&W3(d,y,Lx)}function LA(d,y){return d!=null&&W3(d,y,yv)}var XX=ue(function(d,y,A){y!=null&&typeof y.toString!="function"&&(y=Ro.call(y)),d[y]=A},NA(la)),qX=ue(function(d,y,A){y!=null&&typeof y.toString!="function"&&(y=Ro.call(y)),kn.call(d,y)?d[y].push(A):d[y]=[A]},Wt),YX=jt(or);function ji(d){return aa(d)?yt(d):Ni(d)}function sa(d){return aa(d)?yt(d,!0):bv(d)}function KX(d,y){var A={};return y=Wt(y,3),Do(d,function(k,V,ne){us(A,y(k,V,ne),k)}),A}function ZX(d,y){var A={};return y=Wt(y,3),Do(d,function(k,V,ne){us(A,V,y(k,V,ne))}),A}var JX=_u(function(d,y,A){Na(d,y,A)}),AL=_u(function(d,y,A,k){Na(d,y,A,k)}),QX=pn(function(d,y){var A={};if(d==null)return A;var k=!1;y=rr(y,function(ne){return ne=kl(ne,d),k||(k=ne.length>1),ne}),oa(d,Pn(d),A),k&&(A=Lo(A,f|h|g,bt));for(var V=y.length;V--;)Ev(A,y[V]);return A});function eq(d,y){return TL(d,qx(Wt(y)))}var tq=pn(function(d,y){return d==null?{}:xh(d,y)});function TL(d,y){if(d==null)return{};var A=rr(Pn(d),function(k){return[k]});return y=Wt(y),vp(d,A,function(k,V){return y(k,V[0])})}function nq(d,y,A){y=kl(y,d);var k=-1,V=y.length;for(V||(V=1,d=n);++k<V;){var ne=d==null?n:d[Bl(y[k])];ne===n&&(k=V,ne=A),d=bu(ne)?ne.call(d):ne}return d}function rq(d,y,A){return d==null?d:yu(d,y,A)}function iq(d,y,A,k){return k=typeof k=="function"?k:n,d==null?d:yu(d,y,A,k)}var PL=Uo(ji),CL=Uo(sa);function oq(d,y,A){var k=cn(d),V=k||Wc(d)||Tp(d);if(y=Wt(y,4),A==null){var ne=d&&d.constructor;V?A=k?new ne:[]:Rr(d)?A=bu(ne)?Hs(oh(d)):{}:A={}}return(V?Kr:Do)(d,function(pe,ye,Re){return y(A,pe,ye,Re)}),A}function aq(d,y){return d==null?!0:Ev(d,y)}function sq(d,y,A){return d==null?d:Av(d,y,Fi(A))}function lq(d,y,A,k){return k=typeof k=="function"?k:n,d==null?d:Av(d,y,Fi(A),k)}function Pp(d){return d==null?[]:Qi(d,ji(d))}function uq(d){return d==null?[]:Qi(d,sa(d))}function cq(d,y,A){return A===n&&(A=y,y=n),A!==n&&(A=ps(A),A=A===A?A:0),y!==n&&(y=ps(y),y=y===y?y:0),Rl(ps(d),y,A)}function fq(d,y,A){return y=Su(y),A===n?(A=y,y=0):A=Su(A),d=ps(d),gA(d,y,A)}function hq(d,y,A){if(A&&typeof A!="boolean"&&Fo(d,y,A)&&(y=A=n),A===n&&(typeof y=="boolean"?(A=y,y=n):typeof d=="boolean"&&(A=d,d=n)),d===n&&y===n?(d=0,y=1):(d=Su(d),y===n?(y=d,d=0):y=Su(y)),d>y){var k=d;d=y,y=k}if(A||d%1||y%1){var V=av();return Li(d+V*(y-d+Xf("1e-"+((V+"").length-1))),y)}return cs(d,y)}var dq=p(function(d,y,A){return y=y.toLowerCase(),d+(A?OL(y):y)});function OL(d){return DA(Vn(d).toLowerCase())}function RL(d){return d=Vn(d),d&&d.replace(ze,tx).replace(fr,"")}function pq(d,y,A){d=Vn(d),y=Ui(y);var k=d.length;A=A===n?k:Rl(yn(A),0,k);var V=A;return A-=y.length,A>=0&&d.slice(A,V)==y}function mq(d){return d=Vn(d),d&&nt.test(d)?d.replace(Je,nx):d}function gq(d){return d=Vn(d),d&&Ti.test(d)?d.replace(Zn,"\\$&"):d}var vq=p(function(d,y,A){return d+(A?"-":"")+y.toLowerCase()}),yq=p(function(d,y,A){return d+(A?" ":"")+y.toLowerCase()}),_q=jx("toLowerCase");function xq(d,y,A){d=Vn(d),y=yn(y);var k=y?is(d):0;if(!y||k>=y)return d;var V=(y-k)/2;return ht(lh(V),A)+d+ht(sh(V),A)}function bq(d,y,A){d=Vn(d),y=yn(y);var k=y?is(d):0;return y&&k<y?d+ht(y-k,A):d}function Sq(d,y,A){d=Vn(d),y=yn(y);var k=y?is(d):0;return y&&k<y?ht(y-k,A)+d:d}function wq(d,y,A){return A||y==null?y=0:y&&(y=+y),fx(Vn(d).replace(Ar,""),y||0)}function Mq(d,y,A){return(A?Fo(d,y,A):y===n)?y=1:y=yn(y),Gc(Vn(d),y)}function Eq(){var d=arguments,y=Vn(d[0]);return d.length<3?y:y.replace(d[1],d[2])}var Aq=p(function(d,y,A){return d+(A?"_":"")+y.toLowerCase()});function Tq(d,y,A){return A&&typeof A!="number"&&Fo(d,y,A)&&(y=A=n),A=A===n?H:A>>>0,A?(d=Vn(d),d&&(typeof y=="string"||y!=null&&!RA(y))&&(y=Ui(y),!y&&uu(d))?Ul(Sr(d),0,A):d.split(y,A)):[]}var Pq=p(function(d,y,A){return d+(A?" ":"")+DA(y)});function Cq(d,y,A){return d=Vn(d),A=A==null?0:Rl(yn(A),0,d.length),y=Ui(y),d.slice(A,A+y.length)==y}function Oq(d,y,A){var k=J.templateSettings;A&&Fo(d,y,A)&&(y=n),d=Vn(d),y=Zx({},y,k,Oe);var V=Zx({},y.imports,k.imports,Oe),ne=ji(V),pe=Qi(V,ne),ye,Re,rt=0,it=y.interpolate||Pe,lt="__p += '",xt=li((y.escape||Pe).source+"|"+it.source+"|"+(it===Et?xl:Pe).source+"|"+(y.evaluate||Pe).source+"|$","g"),Ut="//# sourceURL="+(kn.call(y,"sourceURL")?(y.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Po+"]")+`
`;d.replace(xt,function(Yt,En,In,Ua,Bo,Fa){return In||(In=Ua),lt+=d.slice(rt,Fa).replace(ft,Jg),En&&(ye=!0,lt+=`' +
__e(`+En+`) +
'`),Bo&&(Re=!0,lt+=`';
`+Bo+`;
__p += '`),In&&(lt+=`' +
((__t = (`+In+`)) == null ? '' : __t) +
'`),rt=Fa+Yt.length,Yt}),lt+=`';
`;var qt=kn.call(y,"variable")&&y.variable;if(!qt)lt=`with (obj) {
`+lt+`
}
`;else if(co.test(qt))throw new Zt(s);lt=(Re?lt.replace(pt,""):lt).replace(he,"$1").replace(He,"$1;"),lt="function("+(qt||"obj")+`) {
`+(qt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ye?", __e = _.escape":"")+(Re?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+lt+`return __p
}`;var Sn=LL(function(){return ln(ne,Ut+"return "+lt).apply(n,pe)});if(Sn.source=lt,OA(Sn))throw Sn;return Sn}function Rq(d){return Vn(d).toLowerCase()}function Iq(d){return Vn(d).toUpperCase()}function Lq(d,y,A){if(d=Vn(d),d&&(A||y===n))return rp(d);if(!d||!(y=Ui(y)))return d;var k=Sr(d),V=Sr(y),ne=ir(k,V),pe=wc(k,V)+1;return Ul(k,ne,pe).join("")}function Dq(d,y,A){if(d=Vn(d),d&&(A||y===n))return d.slice(0,Tc(d)+1);if(!d||!(y=Ui(y)))return d;var k=Sr(d),V=wc(k,Sr(y))+1;return Ul(k,0,V).join("")}function Nq(d,y,A){if(d=Vn(d),d&&(A||y===n))return d.replace(Ar,"");if(!d||!(y=Ui(y)))return d;var k=Sr(d),V=ir(k,Sr(y));return Ul(k,V).join("")}function kq(d,y){var A=L,k=N;if(Rr(y)){var V="separator"in y?y.separator:V;A="length"in y?yn(y.length):A,k="omission"in y?Ui(y.omission):k}d=Vn(d);var ne=d.length;if(uu(d)){var pe=Sr(d);ne=pe.length}if(A>=ne)return d;var ye=A-is(k);if(ye<1)return k;var Re=pe?Ul(pe,0,ye).join(""):d.slice(0,ye);if(V===n)return Re+k;if(pe&&(ye+=Re.length-ye),RA(V)){if(d.slice(ye).search(V)){var rt,it=Re;for(V.global||(V=li(V.source,Vn(vc.exec(V))+"g")),V.lastIndex=0;rt=V.exec(it);)var lt=rt.index;Re=Re.slice(0,lt===n?ye:lt)}}else if(d.indexOf(Ui(V),ye)!=ye){var xt=Re.lastIndexOf(V);xt>-1&&(Re=Re.slice(0,xt))}return Re+k}function Uq(d){return d=Vn(d),d&&st.test(d)?d.replace(Le,Pc):d}var Fq=p(function(d,y,A){return d+(A?" ":"")+y.toUpperCase()}),DA=jx("toUpperCase");function IL(d,y,A){return d=Vn(d),y=A?n:y,y===n?Qf(d)?Cc(d):Q_(d):d.match(y)||[]}var LL=jt(function(d,y){try{return Rn(d,n,y)}catch(A){return OA(A)?A:new Zt(A)}}),Bq=pn(function(d,y){return Kr(y,function(A){A=Bl(A),us(d,A,PA(d[A],d))}),d});function zq(d){var y=d==null?0:d.length,A=Wt();return d=y?rr(d,function(k){if(typeof k[1]!="function")throw new eo(a);return[A(k[0]),k[1]]}):[],jt(function(k){for(var V=-1;++V<y;){var ne=d[V];if(Rn(ne[0],this,k))return Rn(ne[1],this,k)}})}function jq(d){return mv(Lo(d,f))}function NA(d){return function(){return d}}function $q(d,y){return d==null||d!==d?y:d}var Hq=D(),Gq=D(!0);function la(d){return d}function kA(d){return $c(typeof d=="function"?d:Lo(d,f))}function Wq(d){return yh(Lo(d,f))}function Vq(d,y){return mp(d,Lo(y,f))}var Xq=jt(function(d,y){return function(A){return or(A,d,y)}}),qq=jt(function(d,y){return function(A){return or(d,A,y)}});function UA(d,y,A){var k=ji(y),V=gu(y,k);A==null&&!(Rr(y)&&(V.length||!k.length))&&(A=y,y=d,d=this,V=gu(y,ji(y)));var ne=!(Rr(A)&&"chain"in A)||!!A.chain,pe=bu(d);return Kr(V,function(ye){var Re=y[ye];d[ye]=Re,pe&&(d.prototype[ye]=function(){var rt=this.__chain__;if(ne||rt){var it=d(this.__wrapped__),lt=it.__actions__=Bi(this.__actions__);return lt.push({func:Re,args:arguments,thisArg:d}),it.__chain__=rt,it}return Re.apply(d,Aa([this.value()],arguments))})}),d}function Yq(){return hr._===this&&(hr._=ip),this}function FA(){}function Kq(d){return d=yn(d),jt(function(y){return Gs(y,d)})}var Zq=Ye(rr),Jq=Ye(Kg),Qq=Ye(Kf);function DL(d){return SA(d)?ho(Bl(d)):yp(d)}function eY(d){return function(y){return d==null?n:Da(d,y)}}var tY=rn(),nY=rn(!0);function BA(){return[]}function zA(){return!1}function rY(){return{}}function iY(){return""}function oY(){return!0}function aY(d,y){if(d=yn(d),d<1||d>F)return[];var A=H,k=Li(d,H);y=Wt(y),d-=H;for(var V=zs(k,y);++A<d;)y(A);return V}function sY(d){return cn(d)?rr(d,Bl):ka(d)?[d]:Bi(eL(Vn(d)))}function lY(d){var y=++tv;return Vn(d)+y}var uY=Ae(function(d,y){return d+y},0),cY=Lt("ceil"),fY=Ae(function(d,y){return d/y},1),hY=Lt("floor");function dY(d){return d&&d.length?ph(d,la,gh):n}function pY(d,y){return d&&d.length?ph(d,Wt(y,2),gh):n}function mY(d){return Jf(d,la)}function gY(d,y){return Jf(d,Wt(y,2))}function vY(d){return d&&d.length?ph(d,la,vh):n}function yY(d,y){return d&&d.length?ph(d,Wt(y,2),vh):n}var _Y=Ae(function(d,y){return d*y},1),xY=Lt("round"),bY=Ae(function(d,y){return d-y},0);function SY(d){return d&&d.length?Pa(d,la):0}function wY(d,y){return d&&d.length?Pa(d,Wt(y,2)):0}return J.after=W7,J.ary=fL,J.assign=IX,J.assignIn=EL,J.assignInWith=Zx,J.assignWith=LX,J.at=DX,J.before=hL,J.bind=PA,J.bindAll=Bq,J.bindKey=dL,J.castArray=rX,J.chain=lL,J.chunk=h9,J.compact=d9,J.concat=p9,J.cond=zq,J.conforms=jq,J.constant=NA,J.countBy=S7,J.create=NX,J.curry=pL,J.curryRight=mL,J.debounce=gL,J.defaults=kX,J.defaultsDeep=UX,J.defer=V7,J.delay=X7,J.difference=m9,J.differenceBy=g9,J.differenceWith=v9,J.drop=y9,J.dropRight=_9,J.dropRightWhile=x9,J.dropWhile=b9,J.fill=S9,J.filter=M7,J.flatMap=T7,J.flatMapDeep=P7,J.flatMapDepth=C7,J.flatten=iL,J.flattenDeep=w9,J.flattenDepth=M9,J.flip=q7,J.flow=Hq,J.flowRight=Gq,J.fromPairs=E9,J.functions=GX,J.functionsIn=WX,J.groupBy=O7,J.initial=T9,J.intersection=P9,J.intersectionBy=C9,J.intersectionWith=O9,J.invert=XX,J.invertBy=qX,J.invokeMap=I7,J.iteratee=kA,J.keyBy=L7,J.keys=ji,J.keysIn=sa,J.map=Wx,J.mapKeys=KX,J.mapValues=ZX,J.matches=Wq,J.matchesProperty=Vq,J.memoize=Xx,J.merge=JX,J.mergeWith=AL,J.method=Xq,J.methodOf=qq,J.mixin=UA,J.negate=qx,J.nthArg=Kq,J.omit=QX,J.omitBy=eq,J.once=Y7,J.orderBy=D7,J.over=Zq,J.overArgs=K7,J.overEvery=Jq,J.overSome=Qq,J.partial=CA,J.partialRight=vL,J.partition=N7,J.pick=tq,J.pickBy=TL,J.property=DL,J.propertyOf=eY,J.pull=D9,J.pullAll=aL,J.pullAllBy=N9,J.pullAllWith=k9,J.pullAt=U9,J.range=tY,J.rangeRight=nY,J.rearg=Z7,J.reject=F7,J.remove=F9,J.rest=J7,J.reverse=AA,J.sampleSize=z7,J.set=rq,J.setWith=iq,J.shuffle=j7,J.slice=B9,J.sortBy=G7,J.sortedUniq=V9,J.sortedUniqBy=X9,J.split=Tq,J.spread=Q7,J.tail=q9,J.take=Y9,J.takeRight=K9,J.takeRightWhile=Z9,J.takeWhile=J9,J.tap=d7,J.throttle=eX,J.thru=Gx,J.toArray=SL,J.toPairs=PL,J.toPairsIn=CL,J.toPath=sY,J.toPlainObject=ML,J.transform=oq,J.unary=tX,J.union=Q9,J.unionBy=e7,J.unionWith=t7,J.uniq=n7,J.uniqBy=r7,J.uniqWith=i7,J.unset=aq,J.unzip=TA,J.unzipWith=sL,J.update=sq,J.updateWith=lq,J.values=Pp,J.valuesIn=uq,J.without=o7,J.words=IL,J.wrap=nX,J.xor=a7,J.xorBy=s7,J.xorWith=l7,J.zip=u7,J.zipObject=c7,J.zipObjectDeep=f7,J.zipWith=h7,J.entries=PL,J.entriesIn=CL,J.extend=EL,J.extendWith=Zx,UA(J,J),J.add=uY,J.attempt=LL,J.camelCase=dq,J.capitalize=OL,J.ceil=cY,J.clamp=cq,J.clone=iX,J.cloneDeep=aX,J.cloneDeepWith=sX,J.cloneWith=oX,J.conformsTo=lX,J.deburr=RL,J.defaultTo=$q,J.divide=fY,J.endsWith=pq,J.eq=Vs,J.escape=mq,J.escapeRegExp=gq,J.every=w7,J.find=E7,J.findIndex=nL,J.findKey=FX,J.findLast=A7,J.findLastIndex=rL,J.findLastKey=BX,J.floor=hY,J.forEach=uL,J.forEachRight=cL,J.forIn=zX,J.forInRight=jX,J.forOwn=$X,J.forOwnRight=HX,J.get=IA,J.gt=uX,J.gte=cX,J.has=VX,J.hasIn=LA,J.head=oL,J.identity=la,J.includes=R7,J.indexOf=A9,J.inRange=fq,J.invoke=YX,J.isArguments=Ah,J.isArray=cn,J.isArrayBuffer=fX,J.isArrayLike=aa,J.isArrayLikeObject=ei,J.isBoolean=hX,J.isBuffer=Wc,J.isDate=dX,J.isElement=pX,J.isEmpty=mX,J.isEqual=gX,J.isEqualWith=vX,J.isError=OA,J.isFinite=yX,J.isFunction=bu,J.isInteger=yL,J.isLength=Yx,J.isMap=_L,J.isMatch=_X,J.isMatchWith=xX,J.isNaN=bX,J.isNative=SX,J.isNil=MX,J.isNull=wX,J.isNumber=xL,J.isObject=Rr,J.isObjectLike=$r,J.isPlainObject=Lv,J.isRegExp=RA,J.isSafeInteger=EX,J.isSet=bL,J.isString=Kx,J.isSymbol=ka,J.isTypedArray=Tp,J.isUndefined=AX,J.isWeakMap=TX,J.isWeakSet=PX,J.join=R9,J.kebabCase=vq,J.last=ds,J.lastIndexOf=I9,J.lowerCase=yq,J.lowerFirst=_q,J.lt=CX,J.lte=OX,J.max=dY,J.maxBy=pY,J.mean=mY,J.meanBy=gY,J.min=vY,J.minBy=yY,J.stubArray=BA,J.stubFalse=zA,J.stubObject=rY,J.stubString=iY,J.stubTrue=oY,J.multiply=_Y,J.nth=L9,J.noConflict=Yq,J.noop=FA,J.now=Vx,J.pad=xq,J.padEnd=bq,J.padStart=Sq,J.parseInt=wq,J.random=hq,J.reduce=k7,J.reduceRight=U7,J.repeat=Mq,J.replace=Eq,J.result=nq,J.round=xY,J.runInContext=_e,J.sample=B7,J.size=$7,J.snakeCase=Aq,J.some=H7,J.sortedIndex=z9,J.sortedIndexBy=j9,J.sortedIndexOf=$9,J.sortedLastIndex=H9,J.sortedLastIndexBy=G9,J.sortedLastIndexOf=W9,J.startCase=Pq,J.startsWith=Cq,J.subtract=bY,J.sum=SY,J.sumBy=wY,J.template=Oq,J.times=aY,J.toFinite=Su,J.toInteger=yn,J.toLength=wL,J.toLower=Rq,J.toNumber=ps,J.toSafeInteger=RX,J.toString=Vn,J.toUpper=Iq,J.trim=Lq,J.trimEnd=Dq,J.trimStart=Nq,J.truncate=kq,J.unescape=Uq,J.uniqueId=lY,J.upperCase=Fq,J.upperFirst=DA,J.each=uL,J.eachRight=cL,J.first=oL,UA(J,function(){var d={};return Do(J,function(y,A){kn.call(J.prototype,A)||(d[A]=y)}),d}(),{chain:!1}),J.VERSION=r,Kr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){J[d].placeholder=J}),Kr(["drop","take"],function(d,y){$t.prototype[d]=function(A){A=A===n?1:Jr(yn(A),0);var k=this.__filtered__&&!y?new $t(this):this.clone();return k.__filtered__?k.__takeCount__=Li(A,k.__takeCount__):k.__views__.push({size:Li(A,H),type:d+(k.__dir__<0?"Right":"")}),k},$t.prototype[d+"Right"]=function(A){return this.reverse()[d](A).reverse()}}),Kr(["filter","map","takeWhile"],function(d,y){var A=y+1,k=A==$||A==q;$t.prototype[d]=function(V){var ne=this.clone();return ne.__iteratees__.push({iteratee:Wt(V,3),type:A}),ne.__filtered__=ne.__filtered__||k,ne}}),Kr(["head","last"],function(d,y){var A="take"+(y?"Right":"");$t.prototype[d]=function(){return this[A](1).value()[0]}}),Kr(["initial","tail"],function(d,y){var A="drop"+(y?"":"Right");$t.prototype[d]=function(){return this.__filtered__?new $t(this):this[A](1)}}),$t.prototype.compact=function(){return this.filter(la)},$t.prototype.find=function(d){return this.filter(d).head()},$t.prototype.findLast=function(d){return this.reverse().find(d)},$t.prototype.invokeMap=jt(function(d,y){return typeof d=="function"?new $t(this):this.map(function(A){return or(A,d,y)})}),$t.prototype.reject=function(d){return this.filter(qx(Wt(d)))},$t.prototype.slice=function(d,y){d=yn(d);var A=this;return A.__filtered__&&(d>0||y<0)?new $t(A):(d<0?A=A.takeRight(-d):d&&(A=A.drop(d)),y!==n&&(y=yn(y),A=y<0?A.dropRight(-y):A.take(y-d)),A)},$t.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},$t.prototype.toArray=function(){return this.take(H)},Do($t.prototype,function(d,y){var A=/^(?:filter|find|map|reject)|While$/.test(y),k=/^(?:head|last)$/.test(y),V=J[k?"take"+(y=="last"?"Right":""):y],ne=k||/^find/.test(y);V&&(J.prototype[y]=function(){var pe=this.__wrapped__,ye=k?[1]:arguments,Re=pe instanceof $t,rt=ye[0],it=Re||cn(pe),lt=function(En){var In=V.apply(J,Aa([En],ye));return k&&xt?In[0]:In};it&&A&&typeof rt=="function"&&rt.length!=1&&(Re=it=!1);var xt=this.__chain__,Ut=!!this.__actions__.length,qt=ne&&!xt,Sn=Re&&!Ut;if(!ne&&it){pe=Sn?pe:new $t(this);var Yt=d.apply(pe,ye);return Yt.__actions__.push({func:Gx,args:[lt],thisArg:n}),new Di(Yt,xt)}return qt&&Sn?d.apply(this,ye):(Yt=this.thru(lt),qt?k?Yt.value()[0]:Yt.value():Yt)})}),Kr(["pop","push","shift","sort","splice","unshift"],function(d){var y=Al[d],A=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",k=/^(?:pop|shift)$/.test(d);J.prototype[d]=function(){var V=arguments;if(k&&!this.__chain__){var ne=this.value();return y.apply(cn(ne)?ne:[],V)}return this[A](function(pe){return y.apply(cn(pe)?pe:[],V)})}}),Do($t.prototype,function(d,y){var A=J[y];if(A){var k=A.name+"";kn.call(du,k)||(du[k]=[]),du[k].push({name:y,func:A})}}),du[B(n,_).name]=[{name:"wrapper",func:n}],$t.prototype.clone=cA,$t.prototype.reverse=fA,$t.prototype.value=Io,J.prototype.at=p7,J.prototype.chain=m7,J.prototype.commit=g7,J.prototype.next=v7,J.prototype.plant=_7,J.prototype.reverse=x7,J.prototype.toJSON=J.prototype.valueOf=J.prototype.value=b7,J.prototype.first=J.prototype.head,Pl&&(J.prototype[Pl]=y7),J},El=ox();Tr?((Tr.exports=El)._=El,Us._=El):hr._=El}).call($l)})(Aw,Aw.exports);var ETe=Aw.exports;const dke=Nn(ETe);/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const PE="170",Yh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Kh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},bG=0,bO=1,SG=2,ATe=3,wG=0,CE=1,jy=2,el=3,sc=0,Zo=1,sl=2,Zu=0,gd=1,SO=2,wO=3,MO=4,MG=5,uf=100,EG=101,AG=102,TG=103,PG=104,CG=200,OG=201,RG=202,IG=203,Tw=204,Pw=205,LG=206,DG=207,NG=208,kG=209,UG=210,FG=211,BG=212,zG=213,jG=214,Cw=0,Ow=1,Rw=2,Rd=3,Iw=4,Lw=5,Dw=6,Nw=7,B_=0,$G=1,HG=2,Zl=0,GG=1,WG=2,VG=3,JI=4,XG=5,qG=6,YG=7,EO="attached",KG="detached",OE=300,lc=301,Cf=302,n_=303,r_=304,Gg=306,i_=1e3,Es=1001,o_=1002,oo=1003,QI=1004,TTe=1004,bm=1005,PTe=1005,ai=1006,$y=1007,CTe=1007,Wl=1008,OTe=1008,dl=1009,e3=1010,t3=1011,xg=1012,RE=1013,uc=1014,ga=1015,Wg=1016,IE=1017,LE=1018,Id=1020,n3=35902,r3=1021,i3=1022,Mo=1023,o3=1024,a3=1025,vd=1026,Ld=1027,DE=1028,z_=1029,s3=1030,NE=1031,RTe=1032,kE=1033,Hy=33776,Gy=33777,Wy=33778,Vy=33779,kw=35840,Uw=35841,Fw=35842,Bw=35843,zw=36196,jw=37492,$w=37496,Hw=37808,Gw=37809,Ww=37810,Vw=37811,Xw=37812,qw=37813,Yw=37814,Kw=37815,Zw=37816,Jw=37817,Qw=37818,eM=37819,tM=37820,nM=37821,Xy=36492,rM=36494,iM=36495,l3=36283,oM=36284,aM=36285,sM=36286,ZG=2200,JG=2201,QG=2202,a_=2300,lM=2301,zb=2302,ld=2400,ud=2401,s_=2402,UE=2500,u3=2501,ITe=0,LTe=1,DTe=2,eW=3200,c3=3201,NTe=3202,kTe=3203,Bf=0,tW=1,Bu="",fa="srgb",Xd="srgb-linear",j_="linear",qn="srgb",UTe=0,Zh=7680,FTe=7681,BTe=7682,zTe=7683,jTe=34055,$Te=34056,HTe=5386,GTe=512,WTe=513,VTe=514,XTe=515,qTe=516,YTe=517,KTe=518,AO=519,nW=512,rW=513,iW=514,f3=515,oW=516,aW=517,sW=518,lW=519,l_=35044,ZTe=35048,JTe=35040,QTe=35045,e2e=35049,t2e=35041,n2e=35046,r2e=35050,i2e=35042,o2e="100",TO="300 es",Vl=2e3,u_=2001;class vl{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let o=0,a=i.length;o<a;o++)i[o].call(this,e);e.target=null}}}const yo=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let hB=1234567;const yd=Math.PI/180,bg=180/Math.PI;function Ya(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(yo[t&255]+yo[t>>8&255]+yo[t>>16&255]+yo[t>>24&255]+"-"+yo[e&255]+yo[e>>8&255]+"-"+yo[e>>16&15|64]+yo[e>>24&255]+"-"+yo[n&63|128]+yo[n>>8&255]+"-"+yo[n>>16&255]+yo[n>>24&255]+yo[r&255]+yo[r>>8&255]+yo[r>>16&255]+yo[r>>24&255]).toLowerCase()}function Vr(t,e,n){return Math.max(e,Math.min(n,t))}function h3(t,e){return(t%e+e)%e}function a2e(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function s2e(t,e,n){return t!==e?(n-t)/(e-t):0}function qy(t,e,n){return(1-n)*t+n*e}function l2e(t,e,n,r){return qy(t,e,1-Math.exp(-n*r))}function u2e(t,e=1){return e-Math.abs(h3(t,e*2)-e)}function c2e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function f2e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function h2e(t,e){return t+Math.floor(Math.random()*(e-t+1))}function d2e(t,e){return t+Math.random()*(e-t)}function p2e(t){return t*(.5-Math.random())}function m2e(t){t!==void 0&&(hB=t);let e=hB+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function g2e(t){return t*yd}function v2e(t){return t*bg}function y2e(t){return(t&t-1)===0&&t!==0}function _2e(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function x2e(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function b2e(t,e,n,r,i){const o=Math.cos,a=Math.sin,s=o(n/2),l=a(n/2),u=o((e+r)/2),c=a((e+r)/2),f=o((e-r)/2),h=a((e-r)/2),g=o((r-e)/2),v=a((r-e)/2);switch(i){case"XYX":t.set(s*c,l*f,l*h,s*u);break;case"YZY":t.set(l*h,s*c,l*f,s*u);break;case"ZXZ":t.set(l*f,l*h,s*c,s*u);break;case"XZX":t.set(s*c,l*v,l*g,s*u);break;case"YXY":t.set(l*g,s*c,l*v,s*u);break;case"ZYZ":t.set(l*v,l*g,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Wo(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function gn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const S2e={DEG2RAD:yd,RAD2DEG:bg,generateUUID:Ya,clamp:Vr,euclideanModulo:h3,mapLinear:a2e,inverseLerp:s2e,lerp:qy,damp:l2e,pingpong:u2e,smoothstep:c2e,smootherstep:f2e,randInt:h2e,randFloat:d2e,randFloatSpread:p2e,seededRandom:m2e,degToRad:g2e,radToDeg:v2e,isPowerOfTwo:y2e,ceilPowerOfTwo:_2e,floorPowerOfTwo:x2e,setQuaternionFromProperEuler:b2e,normalize:gn,denormalize:Wo};class tt{constructor(e=0,n=0){tt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Vr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),o=this.x-e.x,a=this.y-e.y;return this.x=o*r-a*i+e.x,this.y=o*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class un{constructor(e,n,r,i,o,a,s,l,u){un.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,u)}set(e,n,r,i,o,a,s,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=n,c[4]=o,c[5]=l,c[6]=r,c[7]=a,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[3],l=r[6],u=r[1],c=r[4],f=r[7],h=r[2],g=r[5],v=r[8],b=i[0],x=i[3],_=i[6],S=i[1],w=i[4],E=i[7],T=i[2],P=i[5],I=i[8];return o[0]=a*b+s*S+l*T,o[3]=a*x+s*w+l*P,o[6]=a*_+s*E+l*I,o[1]=u*b+c*S+f*T,o[4]=u*x+c*w+f*P,o[7]=u*_+c*E+f*I,o[2]=h*b+g*S+v*T,o[5]=h*x+g*w+v*P,o[8]=h*_+g*E+v*I,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return n*a*c-n*s*u-r*o*c+r*s*l+i*o*u-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=c*a-s*u,h=s*l-c*o,g=u*o-a*l,v=n*f+r*h+i*g;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/v;return e[0]=f*b,e[1]=(i*u-c*r)*b,e[2]=(s*r-i*a)*b,e[3]=h*b,e[4]=(c*n-i*l)*b,e[5]=(i*o-s*n)*b,e[6]=g*b,e[7]=(r*l-u*n)*b,e[8]=(a*n-r*o)*b,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,o,a,s){const l=Math.cos(o),u=Math.sin(o);return this.set(r*l,r*u,-r*(l*a+u*s)+a+e,-i*u,i*l,-i*(-u*a+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(GT.makeScale(e,n)),this}rotate(e){return this.premultiply(GT.makeRotation(-e)),this}translate(e,n){return this.premultiply(GT.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const GT=new un;function uW(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const w2e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Sm(t,e){return new w2e[t](e)}function c_(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function cW(){const t=c_("canvas");return t.style.display="block",t}const dB={};function xy(t){t in dB||(dB[t]=!0,console.warn(t))}function M2e(t,e,n){return new Promise(function(r,i){function o(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(o,n);break;default:r()}}setTimeout(o,n)})}function E2e(t){const e=t.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function A2e(t){const e=t.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const Ln={enabled:!0,workingColorSpace:Xd,spaces:{},convert:function(t,e,n){return this.enabled===!1||e===n||!e||!n||(this.spaces[e].transfer===qn&&(t.r=Ju(t.r),t.g=Ju(t.g),t.b=Ju(t.b)),this.spaces[e].primaries!==this.spaces[n].primaries&&(t.applyMatrix3(this.spaces[e].toXYZ),t.applyMatrix3(this.spaces[n].fromXYZ)),this.spaces[n].transfer===qn&&(t.r=Fm(t.r),t.g=Fm(t.g),t.b=Fm(t.b))),t},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)},getPrimaries:function(t){return this.spaces[t].primaries},getTransfer:function(t){return t===Bu?j_:this.spaces[t].transfer},getLuminanceCoefficients:function(t,e=this.workingColorSpace){return t.fromArray(this.spaces[e].luminanceCoefficients)},define:function(t){Object.assign(this.spaces,t)},_getMatrix:function(t,e,n){return t.copy(this.spaces[e].toXYZ).multiply(this.spaces[n].fromXYZ)},_getDrawingBufferColorSpace:function(t){return this.spaces[t].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(t=this.workingColorSpace){return this.spaces[t].workingColorSpaceConfig.unpackColorSpace}};function Ju(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Fm(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const pB=[.64,.33,.3,.6,.15,.06],mB=[.2126,.7152,.0722],gB=[.3127,.329],vB=new un().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),yB=new un().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);Ln.define({[Xd]:{primaries:pB,whitePoint:gB,transfer:j_,toXYZ:vB,fromXYZ:yB,luminanceCoefficients:mB,workingColorSpaceConfig:{unpackColorSpace:fa},outputColorSpaceConfig:{drawingBufferColorSpace:fa}},[fa]:{primaries:pB,whitePoint:gB,transfer:qn,toXYZ:vB,fromXYZ:yB,luminanceCoefficients:mB,outputColorSpaceConfig:{drawingBufferColorSpace:fa}}});let Dp;class fW{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Dp===void 0&&(Dp=c_("canvas")),Dp.width=e.width,Dp.height=e.height;const r=Dp.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Dp}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=c_("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),o=i.data;for(let a=0;a<o.length;a++)o[a]=Ju(o[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Ju(n[r]/255)*255):n[r]=Ju(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let T2e=0;class cd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:T2e++}),this.uuid=Ya(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let o;if(Array.isArray(i)){o=[];for(let a=0,s=i.length;a<s;a++)i[a].isDataTexture?o.push(WT(i[a].image)):o.push(WT(i[a]))}else o=WT(i);r.url=o}return n||(e.images[this.uuid]=r),r}}function WT(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?fW.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let P2e=0;class Er extends vl{constructor(e=Er.DEFAULT_IMAGE,n=Er.DEFAULT_MAPPING,r=Es,i=Es,o=ai,a=Wl,s=Mo,l=dl,u=Er.DEFAULT_ANISOTROPY,c=Bu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:P2e++}),this.uuid=Ya(),this.name="",this.source=new cd(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=o,this.minFilter=a,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=l,this.offset=new tt(0,0),this.repeat=new tt(1,1),this.center=new tt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new un,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==OE)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case i_:e.x=e.x-Math.floor(e.x);break;case Es:e.x=e.x<0?0:1;break;case o_:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case i_:e.y=e.y-Math.floor(e.y);break;case Es:e.y=e.y<0?0:1;break;case o_:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}Er.DEFAULT_IMAGE=null;Er.DEFAULT_MAPPING=OE;Er.DEFAULT_ANISOTROPY=1;class Dn{constructor(e=0,n=0,r=0,i=1){Dn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*o,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*o,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*o,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*o,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,o;const l=e.elements,u=l[0],c=l[4],f=l[8],h=l[1],g=l[5],v=l[9],b=l[2],x=l[6],_=l[10];if(Math.abs(c-h)<.01&&Math.abs(f-b)<.01&&Math.abs(v-x)<.01){if(Math.abs(c+h)<.1&&Math.abs(f+b)<.1&&Math.abs(v+x)<.1&&Math.abs(u+g+_-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const w=(u+1)/2,E=(g+1)/2,T=(_+1)/2,P=(c+h)/4,I=(f+b)/4,O=(v+x)/4;return w>E&&w>T?w<.01?(r=0,i=.707106781,o=.707106781):(r=Math.sqrt(w),i=P/r,o=I/r):E>T?E<.01?(r=.707106781,i=0,o=.707106781):(i=Math.sqrt(E),r=P/i,o=O/i):T<.01?(r=.707106781,i=.707106781,o=0):(o=Math.sqrt(T),r=I/o,i=O/o),this.set(r,i,o,n),this}let S=Math.sqrt((x-v)*(x-v)+(f-b)*(f-b)+(h-c)*(h-c));return Math.abs(S)<.001&&(S=1),this.x=(x-v)/S,this.y=(f-b)/S,this.z=(h-c)/S,this.w=Math.acos((u+g+_-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class hW extends vl{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Dn(0,0,e,n),this.scissorTest=!1,this.viewport=new Dn(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ai,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const o=new Er(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);o.flipY=!1,o.generateMipmaps=r.generateMipmaps,o.internalFormat=r.internalFormat,this.textures=[];const a=r.count;for(let s=0;s<a;s++)this.textures[s]=o.clone(),this.textures[s].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,o=this.textures.length;i<o;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new cd(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class pl extends hW{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class FE extends Er{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=oo,this.minFilter=oo,this.wrapR=Es,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class C2e extends pl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new FE(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class d3 extends Er{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=oo,this.minFilter=oo,this.wrapR=Es,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class O2e extends pl{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new d3(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Eo{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,o,a,s){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3];const h=o[a+0],g=o[a+1],v=o[a+2],b=o[a+3];if(s===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f;return}if(s===1){e[n+0]=h,e[n+1]=g,e[n+2]=v,e[n+3]=b;return}if(f!==b||l!==h||u!==g||c!==v){let x=1-s;const _=l*h+u*g+c*v+f*b,S=_>=0?1:-1,w=1-_*_;if(w>Number.EPSILON){const T=Math.sqrt(w),P=Math.atan2(T,_*S);x=Math.sin(x*P)/T,s=Math.sin(s*P)/T}const E=s*S;if(l=l*x+h*E,u=u*x+g*E,c=c*x+v*E,f=f*x+b*E,x===1-s){const T=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=T,u*=T,c*=T,f*=T}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,o,a){const s=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=o[a],h=o[a+1],g=o[a+2],v=o[a+3];return e[n]=s*v+c*f+l*g-u*h,e[n+1]=l*v+c*h+u*f-s*g,e[n+2]=u*v+c*g+s*h-l*f,e[n+3]=c*v-s*f-l*h-u*g,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,o=e._z,a=e._order,s=Math.cos,l=Math.sin,u=s(r/2),c=s(i/2),f=s(o/2),h=l(r/2),g=l(i/2),v=l(o/2);switch(a){case"XYZ":this._x=h*c*f+u*g*v,this._y=u*g*f-h*c*v,this._z=u*c*v+h*g*f,this._w=u*c*f-h*g*v;break;case"YXZ":this._x=h*c*f+u*g*v,this._y=u*g*f-h*c*v,this._z=u*c*v-h*g*f,this._w=u*c*f+h*g*v;break;case"ZXY":this._x=h*c*f-u*g*v,this._y=u*g*f+h*c*v,this._z=u*c*v+h*g*f,this._w=u*c*f-h*g*v;break;case"ZYX":this._x=h*c*f-u*g*v,this._y=u*g*f+h*c*v,this._z=u*c*v-h*g*f,this._w=u*c*f+h*g*v;break;case"YZX":this._x=h*c*f+u*g*v,this._y=u*g*f+h*c*v,this._z=u*c*v-h*g*f,this._w=u*c*f-h*g*v;break;case"XZY":this._x=h*c*f-u*g*v,this._y=u*g*f-h*c*v,this._z=u*c*v+h*g*f,this._w=u*c*f+h*g*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],o=n[8],a=n[1],s=n[5],l=n[9],u=n[2],c=n[6],f=n[10],h=r+s+f;if(h>0){const g=.5/Math.sqrt(h+1);this._w=.25/g,this._x=(c-l)*g,this._y=(o-u)*g,this._z=(a-i)*g}else if(r>s&&r>f){const g=2*Math.sqrt(1+r-s-f);this._w=(c-l)/g,this._x=.25*g,this._y=(i+a)/g,this._z=(o+u)/g}else if(s>f){const g=2*Math.sqrt(1+s-r-f);this._w=(o-u)/g,this._x=(i+a)/g,this._y=.25*g,this._z=(l+c)/g}else{const g=2*Math.sqrt(1+f-r-s);this._w=(a-i)/g,this._x=(o+u)/g,this._y=(l+c)/g,this._z=.25*g}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Vr(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,o=e._z,a=e._w,s=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+a*s+i*u-o*l,this._y=i*c+a*l+o*s-r*u,this._z=o*c+a*u+r*l-i*s,this._w=a*c-r*s-i*l-o*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,o=this._z,a=this._w;let s=a*e._w+r*e._x+i*e._y+o*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=a,this._x=r,this._y=i,this._z=o,this;const l=1-s*s;if(l<=Number.EPSILON){const g=1-n;return this._w=g*a+n*this._w,this._x=g*r+n*this._x,this._y=g*i+n*this._y,this._z=g*o+n*this._z,this.normalize(),this}const u=Math.sqrt(l),c=Math.atan2(u,s),f=Math.sin((1-n)*c)/u,h=Math.sin(n*c)/u;return this._w=a*f+this._w*h,this._x=r*f+this._x*h,this._y=i*f+this._y*h,this._z=o*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),o=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),o*Math.sin(n),o*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ae{constructor(e=0,n=0,r=0){ae.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(_B.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(_B.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[3]*r+o[6]*i,this.y=o[1]*n+o[4]*r+o[7]*i,this.z=o[2]*n+o[5]*r+o[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,o=e.elements,a=1/(o[3]*n+o[7]*r+o[11]*i+o[15]);return this.x=(o[0]*n+o[4]*r+o[8]*i+o[12])*a,this.y=(o[1]*n+o[5]*r+o[9]*i+o[13])*a,this.z=(o[2]*n+o[6]*r+o[10]*i+o[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,o=e.x,a=e.y,s=e.z,l=e.w,u=2*(a*i-s*r),c=2*(s*n-o*i),f=2*(o*r-a*n);return this.x=n+l*u+a*f-s*c,this.y=r+l*c+s*u-o*f,this.z=i+l*f+o*c-a*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i,this.y=o[1]*n+o[5]*r+o[9]*i,this.z=o[2]*n+o[6]*r+o[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,o=e.z,a=n.x,s=n.y,l=n.z;return this.x=i*l-o*s,this.y=o*a-r*l,this.z=r*s-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return VT.copy(this).projectOnVector(e),this.sub(VT)}reflect(e){return this.sub(VT.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Vr(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const VT=new ae,_B=new Eo;class ao{constructor(e=new ae(1/0,1/0,1/0),n=new ae(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Ks.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Ks.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Ks.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const o=r.getAttribute("position");if(n===!0&&o!==void 0&&e.isInstancedMesh!==!0)for(let a=0,s=o.count;a<s;a++)e.isMesh===!0?e.getVertexPosition(a,Ks):Ks.fromBufferAttribute(o,a),Ks.applyMatrix4(e.matrixWorld),this.expandByPoint(Ks);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),O1.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),O1.copy(r.boundingBox)),O1.applyMatrix4(e.matrixWorld),this.union(O1)}const i=e.children;for(let o=0,a=i.length;o<a;o++)this.expandByObject(i[o],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,Ks),Ks.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(ey),R1.subVectors(this.max,ey),Np.subVectors(e.a,ey),kp.subVectors(e.b,ey),Up.subVectors(e.c,ey),Yc.subVectors(kp,Np),Kc.subVectors(Up,kp),Oh.subVectors(Np,Up);let n=[0,-Yc.z,Yc.y,0,-Kc.z,Kc.y,0,-Oh.z,Oh.y,Yc.z,0,-Yc.x,Kc.z,0,-Kc.x,Oh.z,0,-Oh.x,-Yc.y,Yc.x,0,-Kc.y,Kc.x,0,-Oh.y,Oh.x,0];return!XT(n,Np,kp,Up,R1)||(n=[1,0,0,0,1,0,0,0,1],!XT(n,Np,kp,Up,R1))?!1:(I1.crossVectors(Yc,Kc),n=[I1.x,I1.y,I1.z],XT(n,Np,kp,Up,R1))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Ks).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Ks).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Au[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Au[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Au[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Au[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Au[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Au[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Au[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Au[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Au),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Au=[new ae,new ae,new ae,new ae,new ae,new ae,new ae,new ae],Ks=new ae,O1=new ao,Np=new ae,kp=new ae,Up=new ae,Yc=new ae,Kc=new ae,Oh=new ae,ey=new ae,R1=new ae,I1=new ae,Rh=new ae;function XT(t,e,n,r,i){for(let o=0,a=t.length-3;o<=a;o+=3){Rh.fromArray(t,o);const s=i.x*Math.abs(Rh.x)+i.y*Math.abs(Rh.y)+i.z*Math.abs(Rh.z),l=e.dot(Rh),u=n.dot(Rh),c=r.dot(Rh);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}const R2e=new ao,ty=new ae,qT=new ae;class so{constructor(e=new ae,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):R2e.setFromPoints(e).getCenter(r);let i=0;for(let o=0,a=e.length;o<a;o++)i=Math.max(i,r.distanceToSquared(e[o]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;ty.subVectors(e,this.center);const n=ty.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(ty,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(qT.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(ty.copy(e.center).add(qT)),this.expandByPoint(ty.copy(e.center).sub(qT))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Tu=new ae,YT=new ae,L1=new ae,Zc=new ae,KT=new ae,D1=new ae,ZT=new ae;class qd{constructor(e=new ae,n=new ae(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Tu)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Tu.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Tu.copy(this.origin).addScaledVector(this.direction,n),Tu.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){YT.copy(e).add(n).multiplyScalar(.5),L1.copy(n).sub(e).normalize(),Zc.copy(this.origin).sub(YT);const o=e.distanceTo(n)*.5,a=-this.direction.dot(L1),s=Zc.dot(this.direction),l=-Zc.dot(L1),u=Zc.lengthSq(),c=Math.abs(1-a*a);let f,h,g,v;if(c>0)if(f=a*l-s,h=a*s-l,v=o*c,f>=0)if(h>=-v)if(h<=v){const b=1/c;f*=b,h*=b,g=f*(f+a*h+2*s)+h*(a*f+h+2*l)+u}else h=o,f=Math.max(0,-(a*h+s)),g=-f*f+h*(h+2*l)+u;else h=-o,f=Math.max(0,-(a*h+s)),g=-f*f+h*(h+2*l)+u;else h<=-v?(f=Math.max(0,-(-a*o+s)),h=f>0?-o:Math.min(Math.max(-o,-l),o),g=-f*f+h*(h+2*l)+u):h<=v?(f=0,h=Math.min(Math.max(-o,-l),o),g=h*(h+2*l)+u):(f=Math.max(0,-(a*o+s)),h=f>0?o:Math.min(Math.max(-o,-l),o),g=-f*f+h*(h+2*l)+u);else h=a>0?-o:o,f=Math.max(0,-(a*h+s)),g=-f*f+h*(h+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(YT).addScaledVector(L1,h),g}intersectSphere(e,n){Tu.subVectors(e.center,this.origin);const r=Tu.dot(this.direction),i=Tu.dot(Tu)-r*r,o=e.radius*e.radius;if(i>o)return null;const a=Math.sqrt(o-i),s=r-a,l=r+a;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,o,a,s,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),c>=0?(o=(e.min.y-h.y)*c,a=(e.max.y-h.y)*c):(o=(e.max.y-h.y)*c,a=(e.min.y-h.y)*c),r>a||o>i||((o>r||isNaN(r))&&(r=o),(a<i||isNaN(i))&&(i=a),f>=0?(s=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(s=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Tu)!==null}intersectTriangle(e,n,r,i,o){KT.subVectors(n,e),D1.subVectors(r,e),ZT.crossVectors(KT,D1);let a=this.direction.dot(ZT),s;if(a>0){if(i)return null;s=1}else if(a<0)s=-1,a=-a;else return null;Zc.subVectors(this.origin,e);const l=s*this.direction.dot(D1.crossVectors(Zc,D1));if(l<0)return null;const u=s*this.direction.dot(KT.cross(Zc));if(u<0||l+u>a)return null;const c=-s*Zc.dot(ZT);return c<0?null:this.at(c/a,o)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Jt{constructor(e,n,r,i,o,a,s,l,u,c,f,h,g,v,b,x){Jt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,o,a,s,l,u,c,f,h,g,v,b,x)}set(e,n,r,i,o,a,s,l,u,c,f,h,g,v,b,x){const _=this.elements;return _[0]=e,_[4]=n,_[8]=r,_[12]=i,_[1]=o,_[5]=a,_[9]=s,_[13]=l,_[2]=u,_[6]=c,_[10]=f,_[14]=h,_[3]=g,_[7]=v,_[11]=b,_[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Jt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Fp.setFromMatrixColumn(e,0).length(),o=1/Fp.setFromMatrixColumn(e,1).length(),a=1/Fp.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*o,n[5]=r[5]*o,n[6]=r[6]*o,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,o=e.z,a=Math.cos(r),s=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(o),f=Math.sin(o);if(e.order==="XYZ"){const h=a*c,g=a*f,v=s*c,b=s*f;n[0]=l*c,n[4]=-l*f,n[8]=u,n[1]=g+v*u,n[5]=h-b*u,n[9]=-s*l,n[2]=b-h*u,n[6]=v+g*u,n[10]=a*l}else if(e.order==="YXZ"){const h=l*c,g=l*f,v=u*c,b=u*f;n[0]=h+b*s,n[4]=v*s-g,n[8]=a*u,n[1]=a*f,n[5]=a*c,n[9]=-s,n[2]=g*s-v,n[6]=b+h*s,n[10]=a*l}else if(e.order==="ZXY"){const h=l*c,g=l*f,v=u*c,b=u*f;n[0]=h-b*s,n[4]=-a*f,n[8]=v+g*s,n[1]=g+v*s,n[5]=a*c,n[9]=b-h*s,n[2]=-a*u,n[6]=s,n[10]=a*l}else if(e.order==="ZYX"){const h=a*c,g=a*f,v=s*c,b=s*f;n[0]=l*c,n[4]=v*u-g,n[8]=h*u+b,n[1]=l*f,n[5]=b*u+h,n[9]=g*u-v,n[2]=-u,n[6]=s*l,n[10]=a*l}else if(e.order==="YZX"){const h=a*l,g=a*u,v=s*l,b=s*u;n[0]=l*c,n[4]=b-h*f,n[8]=v*f+g,n[1]=f,n[5]=a*c,n[9]=-s*c,n[2]=-u*c,n[6]=g*f+v,n[10]=h-b*f}else if(e.order==="XZY"){const h=a*l,g=a*u,v=s*l,b=s*u;n[0]=l*c,n[4]=-f,n[8]=u*c,n[1]=h*f+b,n[5]=a*c,n[9]=g*f-v,n[2]=v*f-g,n[6]=s*c,n[10]=b*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(I2e,e,L2e)}lookAt(e,n,r){const i=this.elements;return Ba.subVectors(e,n),Ba.lengthSq()===0&&(Ba.z=1),Ba.normalize(),Jc.crossVectors(r,Ba),Jc.lengthSq()===0&&(Math.abs(r.z)===1?Ba.x+=1e-4:Ba.z+=1e-4,Ba.normalize(),Jc.crossVectors(r,Ba)),Jc.normalize(),N1.crossVectors(Ba,Jc),i[0]=Jc.x,i[4]=N1.x,i[8]=Ba.x,i[1]=Jc.y,i[5]=N1.y,i[9]=Ba.y,i[2]=Jc.z,i[6]=N1.z,i[10]=Ba.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,o=this.elements,a=r[0],s=r[4],l=r[8],u=r[12],c=r[1],f=r[5],h=r[9],g=r[13],v=r[2],b=r[6],x=r[10],_=r[14],S=r[3],w=r[7],E=r[11],T=r[15],P=i[0],I=i[4],O=i[8],C=i[12],L=i[1],N=i[5],U=i[9],z=i[13],$=i[2],K=i[6],q=i[10],Q=i[14],F=i[3],j=i[7],X=i[11],H=i[15];return o[0]=a*P+s*L+l*$+u*F,o[4]=a*I+s*N+l*K+u*j,o[8]=a*O+s*U+l*q+u*X,o[12]=a*C+s*z+l*Q+u*H,o[1]=c*P+f*L+h*$+g*F,o[5]=c*I+f*N+h*K+g*j,o[9]=c*O+f*U+h*q+g*X,o[13]=c*C+f*z+h*Q+g*H,o[2]=v*P+b*L+x*$+_*F,o[6]=v*I+b*N+x*K+_*j,o[10]=v*O+b*U+x*q+_*X,o[14]=v*C+b*z+x*Q+_*H,o[3]=S*P+w*L+E*$+T*F,o[7]=S*I+w*N+E*K+T*j,o[11]=S*O+w*U+E*q+T*X,o[15]=S*C+w*z+E*Q+T*H,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],o=e[12],a=e[1],s=e[5],l=e[9],u=e[13],c=e[2],f=e[6],h=e[10],g=e[14],v=e[3],b=e[7],x=e[11],_=e[15];return v*(+o*l*f-i*u*f-o*s*h+r*u*h+i*s*g-r*l*g)+b*(+n*l*g-n*u*h+o*a*h-i*a*g+i*u*c-o*l*c)+x*(+n*u*f-n*s*g-o*a*f+r*a*g+o*s*c-r*u*c)+_*(-i*s*c-n*l*f+n*s*h+i*a*f-r*a*h+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],g=e[11],v=e[12],b=e[13],x=e[14],_=e[15],S=f*x*u-b*h*u+b*l*g-s*x*g-f*l*_+s*h*_,w=v*h*u-c*x*u-v*l*g+a*x*g+c*l*_-a*h*_,E=c*b*u-v*f*u+v*s*g-a*b*g-c*s*_+a*f*_,T=v*f*l-c*b*l-v*s*h+a*b*h+c*s*x-a*f*x,P=n*S+r*w+i*E+o*T;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/P;return e[0]=S*I,e[1]=(b*h*o-f*x*o-b*i*g+r*x*g+f*i*_-r*h*_)*I,e[2]=(s*x*o-b*l*o+b*i*u-r*x*u-s*i*_+r*l*_)*I,e[3]=(f*l*o-s*h*o-f*i*u+r*h*u+s*i*g-r*l*g)*I,e[4]=w*I,e[5]=(c*x*o-v*h*o+v*i*g-n*x*g-c*i*_+n*h*_)*I,e[6]=(v*l*o-a*x*o-v*i*u+n*x*u+a*i*_-n*l*_)*I,e[7]=(a*h*o-c*l*o+c*i*u-n*h*u-a*i*g+n*l*g)*I,e[8]=E*I,e[9]=(v*f*o-c*b*o-v*r*g+n*b*g+c*r*_-n*f*_)*I,e[10]=(a*b*o-v*s*o+v*r*u-n*b*u-a*r*_+n*s*_)*I,e[11]=(c*s*o-a*f*o-c*r*u+n*f*u+a*r*g-n*s*g)*I,e[12]=T*I,e[13]=(c*b*i-v*f*i+v*r*h-n*b*h-c*r*x+n*f*x)*I,e[14]=(v*s*i-a*b*i-v*r*l+n*b*l+a*r*x-n*s*x)*I,e[15]=(a*f*i-c*s*i+c*r*l-n*f*l-a*r*h+n*s*h)*I,this}scale(e){const n=this.elements,r=e.x,i=e.y,o=e.z;return n[0]*=r,n[4]*=i,n[8]*=o,n[1]*=r,n[5]*=i,n[9]*=o,n[2]*=r,n[6]*=i,n[10]*=o,n[3]*=r,n[7]*=i,n[11]*=o,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),o=1-r,a=e.x,s=e.y,l=e.z,u=o*a,c=o*s;return this.set(u*a+r,u*s-i*l,u*l+i*s,0,u*s+i*l,c*s+r,c*l-i*a,0,u*l-i*s,c*l+i*a,o*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,o,a){return this.set(1,r,o,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,o=n._x,a=n._y,s=n._z,l=n._w,u=o+o,c=a+a,f=s+s,h=o*u,g=o*c,v=o*f,b=a*c,x=a*f,_=s*f,S=l*u,w=l*c,E=l*f,T=r.x,P=r.y,I=r.z;return i[0]=(1-(b+_))*T,i[1]=(g+E)*T,i[2]=(v-w)*T,i[3]=0,i[4]=(g-E)*P,i[5]=(1-(h+_))*P,i[6]=(x+S)*P,i[7]=0,i[8]=(v+w)*I,i[9]=(x-S)*I,i[10]=(1-(h+b))*I,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let o=Fp.set(i[0],i[1],i[2]).length();const a=Fp.set(i[4],i[5],i[6]).length(),s=Fp.set(i[8],i[9],i[10]).length();this.determinant()<0&&(o=-o),e.x=i[12],e.y=i[13],e.z=i[14],Zs.copy(this);const u=1/o,c=1/a,f=1/s;return Zs.elements[0]*=u,Zs.elements[1]*=u,Zs.elements[2]*=u,Zs.elements[4]*=c,Zs.elements[5]*=c,Zs.elements[6]*=c,Zs.elements[8]*=f,Zs.elements[9]*=f,Zs.elements[10]*=f,n.setFromRotationMatrix(Zs),r.x=o,r.y=a,r.z=s,this}makePerspective(e,n,r,i,o,a,s=Vl){const l=this.elements,u=2*o/(n-e),c=2*o/(r-i),f=(n+e)/(n-e),h=(r+i)/(r-i);let g,v;if(s===Vl)g=-(a+o)/(a-o),v=-2*a*o/(a-o);else if(s===u_)g=-a/(a-o),v=-a*o/(a-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=u,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=c,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=g,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,o,a,s=Vl){const l=this.elements,u=1/(n-e),c=1/(r-i),f=1/(a-o),h=(n+e)*u,g=(r+i)*c;let v,b;if(s===Vl)v=(a+o)*f,b=-2*f;else if(s===u_)v=o*f,b=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-g,l[2]=0,l[6]=0,l[10]=b,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Fp=new ae,Zs=new Jt,I2e=new ae(0,0,0),L2e=new ae(1,1,1),Jc=new ae,N1=new ae,Ba=new ae,xB=new Jt,bB=new Eo;class Za{constructor(e=0,n=0,r=0,i=Za.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,o=i[0],a=i[4],s=i[8],l=i[1],u=i[5],c=i[9],f=i[2],h=i[6],g=i[10];switch(n){case"XYZ":this._y=Math.asin(Vr(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,g),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-Vr(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,g),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,o),this._z=0);break;case"ZXY":this._x=Math.asin(Vr(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,g),this._z=Math.atan2(-a,u)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-Vr(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,g),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,u));break;case"YZX":this._z=Math.asin(Vr(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,o)):(this._x=0,this._y=Math.atan2(s,g));break;case"XZY":this._z=Math.asin(-Vr(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-c,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return xB.makeRotationFromQuaternion(e),this.setFromRotationMatrix(xB,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return bB.setFromEuler(this),this.setFromQuaternion(bB,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Za.DEFAULT_ORDER="XYZ";class _d{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let D2e=0;const SB=new ae,Bp=new Eo,Pu=new Jt,k1=new ae,ny=new ae,N2e=new ae,k2e=new Eo,wB=new ae(1,0,0),MB=new ae(0,1,0),EB=new ae(0,0,1),AB={type:"added"},U2e={type:"removed"},zp={type:"childadded",child:null},JT={type:"childremoved",child:null};class Bn extends vl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:D2e++}),this.uuid=Ya(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Bn.DEFAULT_UP.clone();const e=new ae,n=new Za,r=new Eo,i=new ae(1,1,1);function o(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(o),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Jt},normalMatrix:{value:new un}}),this.matrix=new Jt,this.matrixWorld=new Jt,this.matrixAutoUpdate=Bn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=Bn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new _d,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Bp.setFromAxisAngle(e,n),this.quaternion.multiply(Bp),this}rotateOnWorldAxis(e,n){return Bp.setFromAxisAngle(e,n),this.quaternion.premultiply(Bp),this}rotateX(e){return this.rotateOnAxis(wB,e)}rotateY(e){return this.rotateOnAxis(MB,e)}rotateZ(e){return this.rotateOnAxis(EB,e)}translateOnAxis(e,n){return SB.copy(e).applyQuaternion(this.quaternion),this.position.add(SB.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(wB,e)}translateY(e){return this.translateOnAxis(MB,e)}translateZ(e){return this.translateOnAxis(EB,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Pu.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?k1.copy(e):k1.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),ny.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Pu.lookAt(ny,k1,this.up):Pu.lookAt(k1,ny,this.up),this.quaternion.setFromRotationMatrix(Pu),i&&(Pu.extractRotation(i.matrixWorld),Bp.setFromRotationMatrix(Pu),this.quaternion.premultiply(Bp.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(AB),zp.child=e,this.dispatchEvent(zp),zp.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(U2e),JT.child=e,this.dispatchEvent(JT),JT.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Pu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Pu.multiply(e.parent.matrixWorld)),e.applyMatrix4(Pu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(AB),zp.child=e,this.dispatchEvent(zp),zp.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ny,e,N2e),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(ny,k2e,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let o=0,a=i.length;o<a;o++)i[o].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function o(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=o(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];o(e.shapes,f)}else o(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,u=this.material.length;l<u;l++)s.push(o(e.materials,this.material[l]));i.material=s}else i.material=o(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(o(e.animations,l))}}if(n){const s=a(e.geometries),l=a(e.materials),u=a(e.textures),c=a(e.images),f=a(e.shapes),h=a(e.skeletons),g=a(e.animations),v=a(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),g.length>0&&(r.animations=g),v.length>0&&(r.nodes=v)}return r.object=i,r;function a(s){const l=[];for(const u in s){const c=s[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}Bn.DEFAULT_UP=new ae(0,1,0);Bn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Bn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Js=new ae,Cu=new ae,QT=new ae,Ou=new ae,jp=new ae,$p=new ae,TB=new ae,e2=new ae,t2=new ae,n2=new ae,r2=new Dn,i2=new Dn,o2=new Dn;class da{constructor(e=new ae,n=new ae,r=new ae){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Js.subVectors(e,n),i.cross(Js);const o=i.lengthSq();return o>0?i.multiplyScalar(1/Math.sqrt(o)):i.set(0,0,0)}static getBarycoord(e,n,r,i,o){Js.subVectors(i,n),Cu.subVectors(r,n),QT.subVectors(e,n);const a=Js.dot(Js),s=Js.dot(Cu),l=Js.dot(QT),u=Cu.dot(Cu),c=Cu.dot(QT),f=a*u-s*s;if(f===0)return o.set(0,0,0),null;const h=1/f,g=(u*l-s*c)*h,v=(a*c-s*l)*h;return o.set(1-g-v,v,g)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Ou)===null?!1:Ou.x>=0&&Ou.y>=0&&Ou.x+Ou.y<=1}static getInterpolation(e,n,r,i,o,a,s,l){return this.getBarycoord(e,n,r,i,Ou)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(o,Ou.x),l.addScaledVector(a,Ou.y),l.addScaledVector(s,Ou.z),l)}static getInterpolatedAttribute(e,n,r,i,o,a){return r2.setScalar(0),i2.setScalar(0),o2.setScalar(0),r2.fromBufferAttribute(e,n),i2.fromBufferAttribute(e,r),o2.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(r2,o.x),a.addScaledVector(i2,o.y),a.addScaledVector(o2,o.z),a}static isFrontFacing(e,n,r,i){return Js.subVectors(r,n),Cu.subVectors(e,n),Js.cross(Cu).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Js.subVectors(this.c,this.b),Cu.subVectors(this.a,this.b),Js.cross(Cu).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return da.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return da.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,o){return da.getInterpolation(e,this.a,this.b,this.c,n,r,i,o)}containsPoint(e){return da.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return da.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,o=this.c;let a,s;jp.subVectors(i,r),$p.subVectors(o,r),e2.subVectors(e,r);const l=jp.dot(e2),u=$p.dot(e2);if(l<=0&&u<=0)return n.copy(r);t2.subVectors(e,i);const c=jp.dot(t2),f=$p.dot(t2);if(c>=0&&f<=c)return n.copy(i);const h=l*f-c*u;if(h<=0&&l>=0&&c<=0)return a=l/(l-c),n.copy(r).addScaledVector(jp,a);n2.subVectors(e,o);const g=jp.dot(n2),v=$p.dot(n2);if(v>=0&&g<=v)return n.copy(o);const b=g*u-l*v;if(b<=0&&u>=0&&v<=0)return s=u/(u-v),n.copy(r).addScaledVector($p,s);const x=c*v-g*f;if(x<=0&&f-c>=0&&g-v>=0)return TB.subVectors(o,i),s=(f-c)/(f-c+(g-v)),n.copy(i).addScaledVector(TB,s);const _=1/(x+b+h);return a=b*_,s=h*_,n.copy(r).addScaledVector(jp,a).addScaledVector($p,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const dW={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Qc={h:0,s:0,l:0},U1={h:0,s:0,l:0};function a2(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class St{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=fa){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Ln.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Ln.workingColorSpace){return this.r=e,this.g=n,this.b=r,Ln.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Ln.workingColorSpace){if(e=h3(e,1),n=Vr(n,0,1),r=Vr(r,0,1),n===0)this.r=this.g=this.b=r;else{const o=r<=.5?r*(1+n):r+n-r*n,a=2*r-o;this.r=a2(a,o,e+1/3),this.g=a2(a,o,e),this.b=a2(a,o,e-1/3)}return Ln.toWorkingColorSpace(this,i),this}setStyle(e,n=fa){function r(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let o;const a=i[1],s=i[2];switch(a){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,n);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,n);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const o=i[1],a=o.length;if(a===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(o,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=fa){const r=dW[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Ju(e.r),this.g=Ju(e.g),this.b=Ju(e.b),this}copyLinearToSRGB(e){return this.r=Fm(e.r),this.g=Fm(e.g),this.b=Fm(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=fa){return Ln.fromWorkingColorSpace(_o.copy(this),e),Math.round(Vr(_o.r*255,0,255))*65536+Math.round(Vr(_o.g*255,0,255))*256+Math.round(Vr(_o.b*255,0,255))}getHexString(e=fa){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Ln.workingColorSpace){Ln.fromWorkingColorSpace(_o.copy(this),n);const r=_o.r,i=_o.g,o=_o.b,a=Math.max(r,i,o),s=Math.min(r,i,o);let l,u;const c=(s+a)/2;if(s===a)l=0,u=0;else{const f=a-s;switch(u=c<=.5?f/(a+s):f/(2-a-s),a){case r:l=(i-o)/f+(i<o?6:0);break;case i:l=(o-r)/f+2;break;case o:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=Ln.workingColorSpace){return Ln.fromWorkingColorSpace(_o.copy(this),n),e.r=_o.r,e.g=_o.g,e.b=_o.b,e}getStyle(e=fa){Ln.fromWorkingColorSpace(_o.copy(this),e);const n=_o.r,r=_o.g,i=_o.b;return e!==fa?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(Qc),this.setHSL(Qc.h+e,Qc.s+n,Qc.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(Qc),e.getHSL(U1);const r=qy(Qc.h,U1.h,n),i=qy(Qc.s,U1.s,n),o=qy(Qc.l,U1.l,n);return this.setHSL(r,i,o),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,o=e.elements;return this.r=o[0]*n+o[3]*r+o[6]*i,this.g=o[1]*n+o[4]*r+o[7]*i,this.b=o[2]*n+o[5]*r+o[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const _o=new St;St.NAMES=dW;let F2e=0;class uo extends vl{static get type(){return"Material"}get type(){return this.constructor.type}set type(e){}constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:F2e++}),this.uuid=Ya(),this.name="",this.blending=gd,this.side=sc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=Tw,this.blendDst=Pw,this.blendEquation=uf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new St(0,0,0),this.blendAlpha=0,this.depthFunc=Rd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AO,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Zh,this.stencilZFail=Zh,this.stencilZPass=Zh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==gd&&(r.blending=this.blending),this.side!==sc&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==Tw&&(r.blendSrc=this.blendSrc),this.blendDst!==Pw&&(r.blendDst=this.blendDst),this.blendEquation!==uf&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Rd&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==AO&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Zh&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Zh&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Zh&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(o){const a=[];for(const s in o){const l=o[s];delete l.metadata,a.push(l)}return a}if(n){const o=i(e.textures),a=i(e.images);o.length>0&&(r.textures=o),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let o=0;o!==i;++o)r[o]=n[o].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class mc extends uo{static get type(){return"MeshBasicMaterial"}constructor(e){super(),this.isMeshBasicMaterial=!0,this.color=new St(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Za,this.combine=B_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const zu=B2e();function B2e(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const o=new Uint32Array(2048),a=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,o[l]=u|c}for(let l=1024;l<2048;++l)o[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:o,exponentTable:a,offsetTable:s}}function ca(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Vr(t,-65504,65504),zu.floatView[0]=t;const e=zu.uint32View[0],n=e>>23&511;return zu.baseTable[n]+((e&8388607)>>zu.shiftTable[n])}function by(t){const e=t>>10;return zu.uint32View[0]=zu.mantissaTable[zu.offsetTable[e]+(t&1023)]+zu.exponentTable[e],zu.floatView[0]}const z2e={toHalfFloat:ca,fromHalfFloat:by},fi=new ae,F1=new tt;class tr{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=l_,this.updateRanges=[],this.gpuType=ga,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,o=this.itemSize;i<o;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)F1.fromBufferAttribute(this,n),F1.applyMatrix3(e),this.setXY(n,F1.x,F1.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)fi.fromBufferAttribute(this,n),fi.applyMatrix3(e),this.setXYZ(n,fi.x,fi.y,fi.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)fi.fromBufferAttribute(this,n),fi.applyMatrix4(e),this.setXYZ(n,fi.x,fi.y,fi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)fi.fromBufferAttribute(this,n),fi.applyNormalMatrix(e),this.setXYZ(n,fi.x,fi.y,fi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)fi.fromBufferAttribute(this,n),fi.transformDirection(e),this.setXYZ(n,fi.x,fi.y,fi.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Wo(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=gn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Wo(n,this.array)),n}setX(e,n){return this.normalized&&(n=gn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Wo(n,this.array)),n}setY(e,n){return this.normalized&&(n=gn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Wo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=gn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Wo(n,this.array)),n}setW(e,n){return this.normalized&&(n=gn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=gn(n,this.array),r=gn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=gn(n,this.array),r=gn(r,this.array),i=gn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=gn(n,this.array),r=gn(r,this.array),i=gn(i,this.array),o=gn(o,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=o,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==l_&&(e.usage=this.usage),e}}class j2e extends tr{constructor(e,n,r){super(new Int8Array(e),n,r)}}class $2e extends tr{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class H2e extends tr{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class G2e extends tr{constructor(e,n,r){super(new Int16Array(e),n,r)}}class p3 extends tr{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class W2e extends tr{constructor(e,n,r){super(new Int32Array(e),n,r)}}class m3 extends tr{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class V2e extends tr{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=by(this.array[e*this.itemSize]);return this.normalized&&(n=Wo(n,this.array)),n}setX(e,n){return this.normalized&&(n=gn(n,this.array)),this.array[e*this.itemSize]=ca(n),this}getY(e){let n=by(this.array[e*this.itemSize+1]);return this.normalized&&(n=Wo(n,this.array)),n}setY(e,n){return this.normalized&&(n=gn(n,this.array)),this.array[e*this.itemSize+1]=ca(n),this}getZ(e){let n=by(this.array[e*this.itemSize+2]);return this.normalized&&(n=Wo(n,this.array)),n}setZ(e,n){return this.normalized&&(n=gn(n,this.array)),this.array[e*this.itemSize+2]=ca(n),this}getW(e){let n=by(this.array[e*this.itemSize+3]);return this.normalized&&(n=Wo(n,this.array)),n}setW(e,n){return this.normalized&&(n=gn(n,this.array)),this.array[e*this.itemSize+3]=ca(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=gn(n,this.array),r=gn(r,this.array)),this.array[e+0]=ca(n),this.array[e+1]=ca(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=gn(n,this.array),r=gn(r,this.array),i=gn(i,this.array)),this.array[e+0]=ca(n),this.array[e+1]=ca(r),this.array[e+2]=ca(i),this}setXYZW(e,n,r,i,o){return e*=this.itemSize,this.normalized&&(n=gn(n,this.array),r=gn(r,this.array),i=gn(i,this.array),o=gn(o,this.array)),this.array[e+0]=ca(n),this.array[e+1]=ca(r),this.array[e+2]=ca(i),this.array[e+3]=ca(o),this}}class kt extends tr{constructor(e,n,r){super(new Float32Array(e),n,r)}}let X2e=0;const ys=new Jt,s2=new Bn,Hp=new ae,za=new ao,ry=new ao,$i=new ae;class vn extends vl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:X2e++}),this.uuid=Ya(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(uW(e)?m3:p3)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const o=new un().getNormalMatrix(e);r.applyNormalMatrix(o),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return ys.makeRotationFromQuaternion(e),this.applyMatrix4(ys),this}rotateX(e){return ys.makeRotationX(e),this.applyMatrix4(ys),this}rotateY(e){return ys.makeRotationY(e),this.applyMatrix4(ys),this}rotateZ(e){return ys.makeRotationZ(e),this.applyMatrix4(ys),this}translate(e,n,r){return ys.makeTranslation(e,n,r),this.applyMatrix4(ys),this}scale(e,n,r){return ys.makeScale(e,n,r),this.applyMatrix4(ys),this}lookAt(e){return s2.lookAt(e),s2.updateMatrix(),this.applyMatrix4(s2.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Hp).negate(),this.translate(Hp.x,Hp.y,Hp.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,o=e.length;i<o;i++){const a=e[i];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new kt(r,3))}else{for(let r=0,i=n.count;r<i;r++){const o=e[r];n.setXYZ(r,o.x,o.y,o.z||0)}e.length>n.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ao);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ae(-1/0,-1/0,-1/0),new ae(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const o=n[r];za.setFromBufferAttribute(o),this.morphTargetsRelative?($i.addVectors(this.boundingBox.min,za.min),this.boundingBox.expandByPoint($i),$i.addVectors(this.boundingBox.max,za.max),this.boundingBox.expandByPoint($i)):(this.boundingBox.expandByPoint(za.min),this.boundingBox.expandByPoint(za.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new so);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ae,1/0);return}if(e){const r=this.boundingSphere.center;if(za.setFromBufferAttribute(e),n)for(let o=0,a=n.length;o<a;o++){const s=n[o];ry.setFromBufferAttribute(s),this.morphTargetsRelative?($i.addVectors(za.min,ry.min),za.expandByPoint($i),$i.addVectors(za.max,ry.max),za.expandByPoint($i)):(za.expandByPoint(ry.min),za.expandByPoint(ry.max))}za.getCenter(r);let i=0;for(let o=0,a=e.count;o<a;o++)$i.fromBufferAttribute(e,o),i=Math.max(i,r.distanceToSquared($i));if(n)for(let o=0,a=n.length;o<a;o++){const s=n[o],l=this.morphTargetsRelative;for(let u=0,c=s.count;u<c;u++)$i.fromBufferAttribute(s,u),l&&(Hp.fromBufferAttribute(e,u),$i.add(Hp)),i=Math.max(i,r.distanceToSquared($i))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,o=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new tr(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),s=[],l=[];for(let O=0;O<r.count;O++)s[O]=new ae,l[O]=new ae;const u=new ae,c=new ae,f=new ae,h=new tt,g=new tt,v=new tt,b=new ae,x=new ae;function _(O,C,L){u.fromBufferAttribute(r,O),c.fromBufferAttribute(r,C),f.fromBufferAttribute(r,L),h.fromBufferAttribute(o,O),g.fromBufferAttribute(o,C),v.fromBufferAttribute(o,L),c.sub(u),f.sub(u),g.sub(h),v.sub(h);const N=1/(g.x*v.y-v.x*g.y);isFinite(N)&&(b.copy(c).multiplyScalar(v.y).addScaledVector(f,-g.y).multiplyScalar(N),x.copy(f).multiplyScalar(g.x).addScaledVector(c,-v.x).multiplyScalar(N),s[O].add(b),s[C].add(b),s[L].add(b),l[O].add(x),l[C].add(x),l[L].add(x))}let S=this.groups;S.length===0&&(S=[{start:0,count:e.count}]);for(let O=0,C=S.length;O<C;++O){const L=S[O],N=L.start,U=L.count;for(let z=N,$=N+U;z<$;z+=3)_(e.getX(z+0),e.getX(z+1),e.getX(z+2))}const w=new ae,E=new ae,T=new ae,P=new ae;function I(O){T.fromBufferAttribute(i,O),P.copy(T);const C=s[O];w.copy(C),w.sub(T.multiplyScalar(T.dot(C))).normalize(),E.crossVectors(P,C);const N=E.dot(l[O])<0?-1:1;a.setXYZW(O,w.x,w.y,w.z,N)}for(let O=0,C=S.length;O<C;++O){const L=S[O],N=L.start,U=L.count;for(let z=N,$=N+U;z<$;z+=3)I(e.getX(z+0)),I(e.getX(z+1)),I(e.getX(z+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new tr(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,g=r.count;h<g;h++)r.setXYZ(h,0,0,0);const i=new ae,o=new ae,a=new ae,s=new ae,l=new ae,u=new ae,c=new ae,f=new ae;if(e)for(let h=0,g=e.count;h<g;h+=3){const v=e.getX(h+0),b=e.getX(h+1),x=e.getX(h+2);i.fromBufferAttribute(n,v),o.fromBufferAttribute(n,b),a.fromBufferAttribute(n,x),c.subVectors(a,o),f.subVectors(i,o),c.cross(f),s.fromBufferAttribute(r,v),l.fromBufferAttribute(r,b),u.fromBufferAttribute(r,x),s.add(c),l.add(c),u.add(c),r.setXYZ(v,s.x,s.y,s.z),r.setXYZ(b,l.x,l.y,l.z),r.setXYZ(x,u.x,u.y,u.z)}else for(let h=0,g=n.count;h<g;h+=3)i.fromBufferAttribute(n,h+0),o.fromBufferAttribute(n,h+1),a.fromBufferAttribute(n,h+2),c.subVectors(a,o),f.subVectors(i,o),c.cross(f),r.setXYZ(h+0,c.x,c.y,c.z),r.setXYZ(h+1,c.x,c.y,c.z),r.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)$i.fromBufferAttribute(e,n),$i.normalize(),e.setXYZ(n,$i.x,$i.y,$i.z)}toNonIndexed(){function e(s,l){const u=s.array,c=s.itemSize,f=s.normalized,h=new u.constructor(l.length*c);let g=0,v=0;for(let b=0,x=l.length;b<x;b++){s.isInterleavedBufferAttribute?g=l[b]*s.data.stride+s.offset:g=l[b]*c;for(let _=0;_<c;_++)h[v++]=u[g++]}return new tr(h,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new vn,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],u=e(l,r);n.setAttribute(s,u)}const o=this.morphAttributes;for(const s in o){const l=[],u=o[s];for(let c=0,f=u.length;c<f;c++){const h=u[c],g=e(h,r);l.push(g)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let s=0,l=a.length;s<l;s++){const u=a[s];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let o=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,h=u.length;f<h;f++){const g=u[f];c.push(g.toJSON(e.data))}c.length>0&&(i[l]=c,o=!0)}o&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const o=e.morphAttributes;for(const u in o){const c=[],f=o[u];for(let h=0,g=f.length;h<g;h++)c.push(f[h].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let u=0,c=a.length;u<c;u++){const f=a[u];this.addGroup(f.start,f.count,f.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const PB=new Jt,Ih=new qd,B1=new so,CB=new ae,z1=new ae,j1=new ae,$1=new ae,l2=new ae,H1=new ae,OB=new ae,G1=new ae;class Dr extends Bn{constructor(e=new vn,n=new mc){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,o=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(o&&s){H1.set(0,0,0);for(let l=0,u=o.length;l<u;l++){const c=s[l],f=o[l];c!==0&&(l2.fromBufferAttribute(f,e),a?H1.addScaledVector(l2,c):H1.addScaledVector(l2.sub(n),c))}n.add(H1)}return n}raycast(e,n){const r=this.geometry,i=this.material,o=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),B1.copy(r.boundingSphere),B1.applyMatrix4(o),Ih.copy(e.ray).recast(e.near),!(B1.containsPoint(Ih.origin)===!1&&(Ih.intersectSphere(B1,CB)===null||Ih.origin.distanceToSquared(CB)>(e.far-e.near)**2))&&(PB.copy(o).invert(),Ih.copy(e.ray).applyMatrix4(PB),!(r.boundingBox!==null&&Ih.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Ih)))}_computeIntersections(e,n,r){let i;const o=this.geometry,a=this.material,s=o.index,l=o.attributes.position,u=o.attributes.uv,c=o.attributes.uv1,f=o.attributes.normal,h=o.groups,g=o.drawRange;if(s!==null)if(Array.isArray(a))for(let v=0,b=h.length;v<b;v++){const x=h[v],_=a[x.materialIndex],S=Math.max(x.start,g.start),w=Math.min(s.count,Math.min(x.start+x.count,g.start+g.count));for(let E=S,T=w;E<T;E+=3){const P=s.getX(E),I=s.getX(E+1),O=s.getX(E+2);i=W1(this,_,e,r,u,c,f,P,I,O),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const v=Math.max(0,g.start),b=Math.min(s.count,g.start+g.count);for(let x=v,_=b;x<_;x+=3){const S=s.getX(x),w=s.getX(x+1),E=s.getX(x+2);i=W1(this,a,e,r,u,c,f,S,w,E),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let v=0,b=h.length;v<b;v++){const x=h[v],_=a[x.materialIndex],S=Math.max(x.start,g.start),w=Math.min(l.count,Math.min(x.start+x.count,g.start+g.count));for(let E=S,T=w;E<T;E+=3){const P=E,I=E+1,O=E+2;i=W1(this,_,e,r,u,c,f,P,I,O),i&&(i.faceIndex=Math.floor(E/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const v=Math.max(0,g.start),b=Math.min(l.count,g.start+g.count);for(let x=v,_=b;x<_;x+=3){const S=x,w=x+1,E=x+2;i=W1(this,a,e,r,u,c,f,S,w,E),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}}}function q2e(t,e,n,r,i,o,a,s){let l;if(e.side===Zo?l=r.intersectTriangle(a,o,i,!0,s):l=r.intersectTriangle(i,o,a,e.side===sc,s),l===null)return null;G1.copy(s),G1.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(G1);return u<n.near||u>n.far?null:{distance:u,point:G1.clone(),object:t}}function W1(t,e,n,r,i,o,a,s,l,u){t.getVertexPosition(s,z1),t.getVertexPosition(l,j1),t.getVertexPosition(u,$1);const c=q2e(t,e,n,r,z1,j1,$1,OB);if(c){const f=new ae;da.getBarycoord(OB,z1,j1,$1,f),i&&(c.uv=da.getInterpolatedAttribute(i,s,l,u,f,new tt)),o&&(c.uv1=da.getInterpolatedAttribute(o,s,l,u,f,new tt)),a&&(c.normal=da.getInterpolatedAttribute(a,s,l,u,f,new ae),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const h={a:s,b:l,c:u,normal:new ae,materialIndex:0};da.getNormal(z1,j1,$1,h.normal),c.face=h,c.barycoord=f}return c}class Yd extends vn{constructor(e=1,n=1,r=1,i=1,o=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:o,depthSegments:a};const s=this;i=Math.floor(i),o=Math.floor(o),a=Math.floor(a);const l=[],u=[],c=[],f=[];let h=0,g=0;v("z","y","x",-1,-1,r,n,e,a,o,0),v("z","y","x",1,-1,r,n,-e,a,o,1),v("x","z","y",1,1,e,r,n,i,a,2),v("x","z","y",1,-1,e,r,-n,i,a,3),v("x","y","z",1,-1,e,n,r,i,o,4),v("x","y","z",-1,-1,e,n,-r,i,o,5),this.setIndex(l),this.setAttribute("position",new kt(u,3)),this.setAttribute("normal",new kt(c,3)),this.setAttribute("uv",new kt(f,2));function v(b,x,_,S,w,E,T,P,I,O,C){const L=E/I,N=T/O,U=E/2,z=T/2,$=P/2,K=I+1,q=O+1;let Q=0,F=0;const j=new ae;for(let X=0;X<q;X++){const H=X*N-z;for(let Y=0;Y<K;Y++){const se=Y*L-U;j[b]=se*S,j[x]=H*w,j[_]=$,u.push(j.x,j.y,j.z),j[b]=0,j[x]=0,j[_]=P>0?1:-1,c.push(j.x,j.y,j.z),f.push(Y/I),f.push(1-X/O),Q+=1}}for(let X=0;X<O;X++)for(let H=0;H<I;H++){const Y=h+H+K*X,se=h+H+K*(X+1),re=h+(H+1)+K*(X+1),ie=h+(H+1)+K*X;l.push(Y,se,ie),l.push(se,re,ie),F+=6}s.addGroup(g,F,C),g+=F,h+=Q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Yd(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Sg(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function $o(t){const e={};for(let n=0;n<t.length;n++){const r=Sg(t[n]);for(const i in r)e[i]=r[i]}return e}function Y2e(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function pW(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Ln.workingColorSpace}const g3={clone:Sg,merge:$o};var K2e=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Z2e=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ml extends uo{static get type(){return"ShaderMaterial"}constructor(e){super(),this.isShaderMaterial=!0,this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=K2e,this.fragmentShader=Z2e,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Sg(e.uniforms),this.uniformsGroups=Y2e(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class $_ extends Bn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Jt,this.projectionMatrix=new Jt,this.projectionMatrixInverse=new Jt,this.coordinateSystem=Vl}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ef=new ae,RB=new tt,IB=new tt;class oi extends $_{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=bg*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(yd*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return bg*2*Math.atan(Math.tan(yd*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){ef.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(ef.x,ef.y).multiplyScalar(-e/ef.z),ef.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(ef.x,ef.y).multiplyScalar(-e/ef.z)}getViewSize(e,n){return this.getViewBounds(e,RB,IB),n.subVectors(IB,RB)}setViewOffset(e,n,r,i,o,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(yd*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,o=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,u=a.fullHeight;o+=a.offsetX*i/l,n-=a.offsetY*r/u,i*=a.width/l,r*=a.height/u}const s=this.filmOffset;s!==0&&(o+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Gp=-90,Wp=1;class mW extends Bn{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new oi(Gp,Wp,e,n);i.layers=this.layers,this.add(i);const o=new oi(Gp,Wp,e,n);o.layers=this.layers,this.add(o);const a=new oi(Gp,Wp,e,n);a.layers=this.layers,this.add(a);const s=new oi(Gp,Wp,e,n);s.layers=this.layers,this.add(s);const l=new oi(Gp,Wp,e,n);l.layers=this.layers,this.add(l);const u=new oi(Gp,Wp,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,o,a,s,l]=n;for(const u of n)this.remove(u);if(e===Vl)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===u_)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[o,a,s,l,u,c]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),g=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const b=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,o),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,s),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=b,e.setRenderTarget(r,5,i),e.render(n,c),e.setRenderTarget(f,h,g),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class H_ extends Er{constructor(e,n,r,i,o,a,s,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:lc,super(e,n,r,i,o,a,s,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class gW extends pl{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new H_(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:ai}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Yd(5,5,5),o=new ml({name:"CubemapFromEquirect",uniforms:Sg(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Zo,blending:Zu});o.uniforms.tEquirect.value=n;const a=new Dr(i,o),s=n.minFilter;return n.minFilter===Wl&&(n.minFilter=ai),new mW(1,10,this).update(e,a),n.minFilter=s,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const o=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(o)}}const u2=new ae,J2e=new ae,Q2e=new un;class Uu{constructor(e=new ae(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=u2.subVectors(r,n).cross(J2e.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(u2),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const o=-(e.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:n.copy(e.start).addScaledVector(r,o)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Q2e.getNormalMatrix(e),i=this.coplanarPoint(u2).applyMatrix4(e),o=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(o),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Lh=new so,V1=new ae;class G_{constructor(e=new Uu,n=new Uu,r=new Uu,i=new Uu,o=new Uu,a=new Uu){this.planes=[e,n,r,i,o,a]}set(e,n,r,i,o,a){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(o),s[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Vl){const r=this.planes,i=e.elements,o=i[0],a=i[1],s=i[2],l=i[3],u=i[4],c=i[5],f=i[6],h=i[7],g=i[8],v=i[9],b=i[10],x=i[11],_=i[12],S=i[13],w=i[14],E=i[15];if(r[0].setComponents(l-o,h-u,x-g,E-_).normalize(),r[1].setComponents(l+o,h+u,x+g,E+_).normalize(),r[2].setComponents(l+a,h+c,x+v,E+S).normalize(),r[3].setComponents(l-a,h-c,x-v,E-S).normalize(),r[4].setComponents(l-s,h-f,x-b,E-w).normalize(),n===Vl)r[5].setComponents(l+s,h+f,x+b,E+w).normalize();else if(n===u_)r[5].setComponents(s,f,b,w).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Lh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Lh.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Lh)}intersectsSprite(e){return Lh.center.set(0,0,0),Lh.radius=.7071067811865476,Lh.applyMatrix4(e.matrixWorld),this.intersectsSphere(Lh)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let o=0;o<6;o++)if(n[o].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(V1.x=i.normal.x>0?e.max.x:e.min.x,V1.y=i.normal.y>0?e.max.y:e.min.y,V1.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(V1)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function vW(){let t=null,e=!1,n=null,r=null;function i(o,a){n(o,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(o){n=o},setContext:function(o){t=o}}}function ePe(t){const e=new WeakMap;function n(s,l){const u=s.array,c=s.usage,f=u.byteLength,h=t.createBuffer();t.bindBuffer(l,h),t.bufferData(l,u,c),s.onUploadCallback();let g;if(u instanceof Float32Array)g=t.FLOAT;else if(u instanceof Uint16Array)s.isFloat16BufferAttribute?g=t.HALF_FLOAT:g=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)g=t.SHORT;else if(u instanceof Uint32Array)g=t.UNSIGNED_INT;else if(u instanceof Int32Array)g=t.INT;else if(u instanceof Int8Array)g=t.BYTE;else if(u instanceof Uint8Array)g=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)g=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:h,type:g,bytesPerElement:u.BYTES_PER_ELEMENT,version:s.version,size:f}}function r(s,l,u){const c=l.array,f=l.updateRanges;if(t.bindBuffer(u,s),f.length===0)t.bufferSubData(u,0,c);else{f.sort((g,v)=>g.start-v.start);let h=0;for(let g=1;g<f.length;g++){const v=f[h],b=f[g];b.start<=v.start+v.count+1?v.count=Math.max(v.count,b.start+b.count-v.start):(++h,f[h]=b)}f.length=h+1;for(let g=0,v=f.length;g<v;g++){const b=f[g];t.bufferSubData(u,b.start*c.BYTES_PER_ELEMENT,c,b.start,b.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function o(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=e.get(s);l&&(t.deleteBuffer(l.buffer),e.delete(s))}function a(s,l){if(s.isInterleavedBufferAttribute&&(s=s.data),s.isGLBufferAttribute){const c=e.get(s);(!c||c.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}const u=e.get(s);if(u===void 0)e.set(s,n(s,l));else if(u.version<s.version){if(u.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,s,l),u.version=s.version}}return{get:i,remove:o,update:a}}class gc extends vn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const o=e/2,a=n/2,s=Math.floor(r),l=Math.floor(i),u=s+1,c=l+1,f=e/s,h=n/l,g=[],v=[],b=[],x=[];for(let _=0;_<c;_++){const S=_*h-a;for(let w=0;w<u;w++){const E=w*f-o;v.push(E,-S,0),b.push(0,0,1),x.push(w/s),x.push(1-_/l)}}for(let _=0;_<l;_++)for(let S=0;S<s;S++){const w=S+u*_,E=S+u*(_+1),T=S+1+u*(_+1),P=S+1+u*_;g.push(w,E,P),g.push(E,T,P)}this.setIndex(g),this.setAttribute("position",new kt(v,3)),this.setAttribute("normal",new kt(b,3)),this.setAttribute("uv",new kt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new gc(e.width,e.height,e.widthSegments,e.heightSegments)}}var tPe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,nPe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,rPe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,iPe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,oPe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,aPe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,sPe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,lPe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,uPe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,cPe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,fPe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,hPe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,dPe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,pPe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,mPe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,gPe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,vPe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,yPe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,_Pe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,xPe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,bPe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,SPe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,wPe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,MPe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,EPe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,APe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,TPe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,PPe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,CPe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,OPe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,RPe="gl_FragColor = linearToOutputTexel( gl_FragColor );",IPe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,LPe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,DPe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,NPe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,kPe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,UPe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,FPe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,BPe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,zPe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,jPe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,$Pe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,HPe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,GPe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,WPe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,VPe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,XPe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,qPe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,YPe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,KPe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,ZPe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,JPe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,QPe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,eCe=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,tCe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,nCe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,rCe=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,iCe=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,oCe=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,aCe=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,sCe=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,lCe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,uCe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,cCe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,fCe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,hCe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,dCe=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,pCe=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,mCe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,gCe=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,vCe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,yCe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,_Ce=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,xCe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,bCe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,SCe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,wCe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,MCe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,ECe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,ACe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,TCe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,PCe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,CCe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,OCe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,RCe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,ICe=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,LCe=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,DCe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,NCe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,kCe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,UCe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,FCe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,BCe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,zCe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,jCe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,$Ce=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,HCe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,GCe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,WCe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,VCe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,XCe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,qCe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,YCe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,KCe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,ZCe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,JCe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,QCe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const eOe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,tOe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,nOe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,rOe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,iOe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,oOe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,aOe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,sOe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,lOe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,uOe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,cOe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fOe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hOe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,dOe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,pOe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,mOe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gOe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vOe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yOe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,_Oe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xOe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,bOe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,SOe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,wOe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,MOe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,EOe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,AOe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,TOe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,POe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,COe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,OOe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ROe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,IOe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,LOe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,mn={alphahash_fragment:tPe,alphahash_pars_fragment:nPe,alphamap_fragment:rPe,alphamap_pars_fragment:iPe,alphatest_fragment:oPe,alphatest_pars_fragment:aPe,aomap_fragment:sPe,aomap_pars_fragment:lPe,batching_pars_vertex:uPe,batching_vertex:cPe,begin_vertex:fPe,beginnormal_vertex:hPe,bsdfs:dPe,iridescence_fragment:pPe,bumpmap_pars_fragment:mPe,clipping_planes_fragment:gPe,clipping_planes_pars_fragment:vPe,clipping_planes_pars_vertex:yPe,clipping_planes_vertex:_Pe,color_fragment:xPe,color_pars_fragment:bPe,color_pars_vertex:SPe,color_vertex:wPe,common:MPe,cube_uv_reflection_fragment:EPe,defaultnormal_vertex:APe,displacementmap_pars_vertex:TPe,displacementmap_vertex:PPe,emissivemap_fragment:CPe,emissivemap_pars_fragment:OPe,colorspace_fragment:RPe,colorspace_pars_fragment:IPe,envmap_fragment:LPe,envmap_common_pars_fragment:DPe,envmap_pars_fragment:NPe,envmap_pars_vertex:kPe,envmap_physical_pars_fragment:XPe,envmap_vertex:UPe,fog_vertex:FPe,fog_pars_vertex:BPe,fog_fragment:zPe,fog_pars_fragment:jPe,gradientmap_pars_fragment:$Pe,lightmap_pars_fragment:HPe,lights_lambert_fragment:GPe,lights_lambert_pars_fragment:WPe,lights_pars_begin:VPe,lights_toon_fragment:qPe,lights_toon_pars_fragment:YPe,lights_phong_fragment:KPe,lights_phong_pars_fragment:ZPe,lights_physical_fragment:JPe,lights_physical_pars_fragment:QPe,lights_fragment_begin:eCe,lights_fragment_maps:tCe,lights_fragment_end:nCe,logdepthbuf_fragment:rCe,logdepthbuf_pars_fragment:iCe,logdepthbuf_pars_vertex:oCe,logdepthbuf_vertex:aCe,map_fragment:sCe,map_pars_fragment:lCe,map_particle_fragment:uCe,map_particle_pars_fragment:cCe,metalnessmap_fragment:fCe,metalnessmap_pars_fragment:hCe,morphinstance_vertex:dCe,morphcolor_vertex:pCe,morphnormal_vertex:mCe,morphtarget_pars_vertex:gCe,morphtarget_vertex:vCe,normal_fragment_begin:yCe,normal_fragment_maps:_Ce,normal_pars_fragment:xCe,normal_pars_vertex:bCe,normal_vertex:SCe,normalmap_pars_fragment:wCe,clearcoat_normal_fragment_begin:MCe,clearcoat_normal_fragment_maps:ECe,clearcoat_pars_fragment:ACe,iridescence_pars_fragment:TCe,opaque_fragment:PCe,packing:CCe,premultiplied_alpha_fragment:OCe,project_vertex:RCe,dithering_fragment:ICe,dithering_pars_fragment:LCe,roughnessmap_fragment:DCe,roughnessmap_pars_fragment:NCe,shadowmap_pars_fragment:kCe,shadowmap_pars_vertex:UCe,shadowmap_vertex:FCe,shadowmask_pars_fragment:BCe,skinbase_vertex:zCe,skinning_pars_vertex:jCe,skinning_vertex:$Ce,skinnormal_vertex:HCe,specularmap_fragment:GCe,specularmap_pars_fragment:WCe,tonemapping_fragment:VCe,tonemapping_pars_fragment:XCe,transmission_fragment:qCe,transmission_pars_fragment:YCe,uv_pars_fragment:KCe,uv_pars_vertex:ZCe,uv_vertex:JCe,worldpos_vertex:QCe,background_vert:eOe,background_frag:tOe,backgroundCube_vert:nOe,backgroundCube_frag:rOe,cube_vert:iOe,cube_frag:oOe,depth_vert:aOe,depth_frag:sOe,distanceRGBA_vert:lOe,distanceRGBA_frag:uOe,equirect_vert:cOe,equirect_frag:fOe,linedashed_vert:hOe,linedashed_frag:dOe,meshbasic_vert:pOe,meshbasic_frag:mOe,meshlambert_vert:gOe,meshlambert_frag:vOe,meshmatcap_vert:yOe,meshmatcap_frag:_Oe,meshnormal_vert:xOe,meshnormal_frag:bOe,meshphong_vert:SOe,meshphong_frag:wOe,meshphysical_vert:MOe,meshphysical_frag:EOe,meshtoon_vert:AOe,meshtoon_frag:TOe,points_vert:POe,points_frag:COe,shadow_vert:OOe,shadow_frag:ROe,sprite_vert:IOe,sprite_frag:LOe},_t={common:{diffuse:{value:new St(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new un},alphaMap:{value:null},alphaMapTransform:{value:new un},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new un}},envmap:{envMap:{value:null},envMapRotation:{value:new un},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new un}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new un}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new un},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new un},normalScale:{value:new tt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new un},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new un}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new un}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new un}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new St(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new St(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new un},alphaTest:{value:0},uvTransform:{value:new un}},sprite:{diffuse:{value:new St(16777215)},opacity:{value:1},center:{value:new tt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new un},alphaMap:{value:null},alphaMapTransform:{value:new un},alphaTest:{value:0}}},ol={basic:{uniforms:$o([_t.common,_t.specularmap,_t.envmap,_t.aomap,_t.lightmap,_t.fog]),vertexShader:mn.meshbasic_vert,fragmentShader:mn.meshbasic_frag},lambert:{uniforms:$o([_t.common,_t.specularmap,_t.envmap,_t.aomap,_t.lightmap,_t.emissivemap,_t.bumpmap,_t.normalmap,_t.displacementmap,_t.fog,_t.lights,{emissive:{value:new St(0)}}]),vertexShader:mn.meshlambert_vert,fragmentShader:mn.meshlambert_frag},phong:{uniforms:$o([_t.common,_t.specularmap,_t.envmap,_t.aomap,_t.lightmap,_t.emissivemap,_t.bumpmap,_t.normalmap,_t.displacementmap,_t.fog,_t.lights,{emissive:{value:new St(0)},specular:{value:new St(1118481)},shininess:{value:30}}]),vertexShader:mn.meshphong_vert,fragmentShader:mn.meshphong_frag},standard:{uniforms:$o([_t.common,_t.envmap,_t.aomap,_t.lightmap,_t.emissivemap,_t.bumpmap,_t.normalmap,_t.displacementmap,_t.roughnessmap,_t.metalnessmap,_t.fog,_t.lights,{emissive:{value:new St(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:mn.meshphysical_vert,fragmentShader:mn.meshphysical_frag},toon:{uniforms:$o([_t.common,_t.aomap,_t.lightmap,_t.emissivemap,_t.bumpmap,_t.normalmap,_t.displacementmap,_t.gradientmap,_t.fog,_t.lights,{emissive:{value:new St(0)}}]),vertexShader:mn.meshtoon_vert,fragmentShader:mn.meshtoon_frag},matcap:{uniforms:$o([_t.common,_t.bumpmap,_t.normalmap,_t.displacementmap,_t.fog,{matcap:{value:null}}]),vertexShader:mn.meshmatcap_vert,fragmentShader:mn.meshmatcap_frag},points:{uniforms:$o([_t.points,_t.fog]),vertexShader:mn.points_vert,fragmentShader:mn.points_frag},dashed:{uniforms:$o([_t.common,_t.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:mn.linedashed_vert,fragmentShader:mn.linedashed_frag},depth:{uniforms:$o([_t.common,_t.displacementmap]),vertexShader:mn.depth_vert,fragmentShader:mn.depth_frag},normal:{uniforms:$o([_t.common,_t.bumpmap,_t.normalmap,_t.displacementmap,{opacity:{value:1}}]),vertexShader:mn.meshnormal_vert,fragmentShader:mn.meshnormal_frag},sprite:{uniforms:$o([_t.sprite,_t.fog]),vertexShader:mn.sprite_vert,fragmentShader:mn.sprite_frag},background:{uniforms:{uvTransform:{value:new un},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:mn.background_vert,fragmentShader:mn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new un}},vertexShader:mn.backgroundCube_vert,fragmentShader:mn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:mn.cube_vert,fragmentShader:mn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:mn.equirect_vert,fragmentShader:mn.equirect_frag},distanceRGBA:{uniforms:$o([_t.common,_t.displacementmap,{referencePosition:{value:new ae},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:mn.distanceRGBA_vert,fragmentShader:mn.distanceRGBA_frag},shadow:{uniforms:$o([_t.lights,_t.fog,{color:{value:new St(0)},opacity:{value:1}}]),vertexShader:mn.shadow_vert,fragmentShader:mn.shadow_frag}};ol.physical={uniforms:$o([ol.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new un},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new un},clearcoatNormalScale:{value:new tt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new un},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new un},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new un},sheen:{value:0},sheenColor:{value:new St(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new un},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new un},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new un},transmissionSamplerSize:{value:new tt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new un},attenuationDistance:{value:0},attenuationColor:{value:new St(0)},specularColor:{value:new St(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new un},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new un},anisotropyVector:{value:new tt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new un}}]),vertexShader:mn.meshphysical_vert,fragmentShader:mn.meshphysical_frag};const X1={r:0,b:0,g:0},Dh=new Za,DOe=new Jt;function NOe(t,e,n,r,i,o,a){const s=new St(0);let l=o===!0?0:1,u,c,f=null,h=0,g=null;function v(S){let w=S.isScene===!0?S.background:null;return w&&w.isTexture&&(w=(S.backgroundBlurriness>0?n:e).get(w)),w}function b(S){let w=!1;const E=v(S);E===null?_(s,l):E&&E.isColor&&(_(E,1),w=!0);const T=t.xr.getEnvironmentBlendMode();T==="additive"?r.buffers.color.setClear(0,0,0,1,a):T==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||w)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function x(S,w){const E=v(w);E&&(E.isCubeTexture||E.mapping===Gg)?(c===void 0&&(c=new Dr(new Yd(1,1,1),new ml({name:"BackgroundCubeMaterial",uniforms:Sg(ol.backgroundCube.uniforms),vertexShader:ol.backgroundCube.vertexShader,fragmentShader:ol.backgroundCube.fragmentShader,side:Zo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(T,P,I){this.matrixWorld.copyPosition(I.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),Dh.copy(w.backgroundRotation),Dh.x*=-1,Dh.y*=-1,Dh.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(Dh.y*=-1,Dh.z*=-1),c.material.uniforms.envMap.value=E,c.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=w.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(DOe.makeRotationFromEuler(Dh)),c.material.toneMapped=Ln.getTransfer(E.colorSpace)!==qn,(f!==E||h!==E.version||g!==t.toneMapping)&&(c.material.needsUpdate=!0,f=E,h=E.version,g=t.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null)):E&&E.isTexture&&(u===void 0&&(u=new Dr(new gc(2,2),new ml({name:"BackgroundMaterial",uniforms:Sg(ol.background.uniforms),vertexShader:ol.background.vertexShader,fragmentShader:ol.background.fragmentShader,side:sc,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=E,u.material.uniforms.backgroundIntensity.value=w.backgroundIntensity,u.material.toneMapped=Ln.getTransfer(E.colorSpace)!==qn,E.matrixAutoUpdate===!0&&E.updateMatrix(),u.material.uniforms.uvTransform.value.copy(E.matrix),(f!==E||h!==E.version||g!==t.toneMapping)&&(u.material.needsUpdate=!0,f=E,h=E.version,g=t.toneMapping),u.layers.enableAll(),S.unshift(u,u.geometry,u.material,0,0,null))}function _(S,w){S.getRGB(X1,pW(t)),r.buffers.color.setClear(X1.r,X1.g,X1.b,w,a)}return{getClearColor:function(){return s},setClearColor:function(S,w=1){s.set(S),l=w,_(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(S){l=S,_(s,l)},render:b,addToRenderList:x}}function kOe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=h(null);let o=i,a=!1;function s(L,N,U,z,$){let K=!1;const q=f(z,U,N);o!==q&&(o=q,u(o.object)),K=g(L,z,U,$),K&&v(L,z,U,$),$!==null&&e.update($,t.ELEMENT_ARRAY_BUFFER),(K||a)&&(a=!1,E(L,N,U,z),$!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get($).buffer))}function l(){return t.createVertexArray()}function u(L){return t.bindVertexArray(L)}function c(L){return t.deleteVertexArray(L)}function f(L,N,U){const z=U.wireframe===!0;let $=r[L.id];$===void 0&&($={},r[L.id]=$);let K=$[N.id];K===void 0&&(K={},$[N.id]=K);let q=K[z];return q===void 0&&(q=h(l()),K[z]=q),q}function h(L){const N=[],U=[],z=[];for(let $=0;$<n;$++)N[$]=0,U[$]=0,z[$]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:N,enabledAttributes:U,attributeDivisors:z,object:L,attributes:{},index:null}}function g(L,N,U,z){const $=o.attributes,K=N.attributes;let q=0;const Q=U.getAttributes();for(const F in Q)if(Q[F].location>=0){const X=$[F];let H=K[F];if(H===void 0&&(F==="instanceMatrix"&&L.instanceMatrix&&(H=L.instanceMatrix),F==="instanceColor"&&L.instanceColor&&(H=L.instanceColor)),X===void 0||X.attribute!==H||H&&X.data!==H.data)return!0;q++}return o.attributesNum!==q||o.index!==z}function v(L,N,U,z){const $={},K=N.attributes;let q=0;const Q=U.getAttributes();for(const F in Q)if(Q[F].location>=0){let X=K[F];X===void 0&&(F==="instanceMatrix"&&L.instanceMatrix&&(X=L.instanceMatrix),F==="instanceColor"&&L.instanceColor&&(X=L.instanceColor));const H={};H.attribute=X,X&&X.data&&(H.data=X.data),$[F]=H,q++}o.attributes=$,o.attributesNum=q,o.index=z}function b(){const L=o.newAttributes;for(let N=0,U=L.length;N<U;N++)L[N]=0}function x(L){_(L,0)}function _(L,N){const U=o.newAttributes,z=o.enabledAttributes,$=o.attributeDivisors;U[L]=1,z[L]===0&&(t.enableVertexAttribArray(L),z[L]=1),$[L]!==N&&(t.vertexAttribDivisor(L,N),$[L]=N)}function S(){const L=o.newAttributes,N=o.enabledAttributes;for(let U=0,z=N.length;U<z;U++)N[U]!==L[U]&&(t.disableVertexAttribArray(U),N[U]=0)}function w(L,N,U,z,$,K,q){q===!0?t.vertexAttribIPointer(L,N,U,$,K):t.vertexAttribPointer(L,N,U,z,$,K)}function E(L,N,U,z){b();const $=z.attributes,K=U.getAttributes(),q=N.defaultAttributeValues;for(const Q in K){const F=K[Q];if(F.location>=0){let j=$[Q];if(j===void 0&&(Q==="instanceMatrix"&&L.instanceMatrix&&(j=L.instanceMatrix),Q==="instanceColor"&&L.instanceColor&&(j=L.instanceColor)),j!==void 0){const X=j.normalized,H=j.itemSize,Y=e.get(j);if(Y===void 0)continue;const se=Y.buffer,re=Y.type,ie=Y.bytesPerElement,ge=re===t.INT||re===t.UNSIGNED_INT||j.gpuType===RE;if(j.isInterleavedBufferAttribute){const de=j.data,be=de.stride,fe=j.offset;if(de.isInstancedInterleavedBuffer){for(let Te=0;Te<F.locationSize;Te++)_(F.location+Te,de.meshPerAttribute);L.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=de.meshPerAttribute*de.count)}else for(let Te=0;Te<F.locationSize;Te++)x(F.location+Te);t.bindBuffer(t.ARRAY_BUFFER,se);for(let Te=0;Te<F.locationSize;Te++)w(F.location+Te,H/F.locationSize,re,X,be*ie,(fe+H/F.locationSize*Te)*ie,ge)}else{if(j.isInstancedBufferAttribute){for(let de=0;de<F.locationSize;de++)_(F.location+de,j.meshPerAttribute);L.isInstancedMesh!==!0&&z._maxInstanceCount===void 0&&(z._maxInstanceCount=j.meshPerAttribute*j.count)}else for(let de=0;de<F.locationSize;de++)x(F.location+de);t.bindBuffer(t.ARRAY_BUFFER,se);for(let de=0;de<F.locationSize;de++)w(F.location+de,H/F.locationSize,re,X,H*ie,H/F.locationSize*de*ie,ge)}}else if(q!==void 0){const X=q[Q];if(X!==void 0)switch(X.length){case 2:t.vertexAttrib2fv(F.location,X);break;case 3:t.vertexAttrib3fv(F.location,X);break;case 4:t.vertexAttrib4fv(F.location,X);break;default:t.vertexAttrib1fv(F.location,X)}}}}S()}function T(){O();for(const L in r){const N=r[L];for(const U in N){const z=N[U];for(const $ in z)c(z[$].object),delete z[$];delete N[U]}delete r[L]}}function P(L){if(r[L.id]===void 0)return;const N=r[L.id];for(const U in N){const z=N[U];for(const $ in z)c(z[$].object),delete z[$];delete N[U]}delete r[L.id]}function I(L){for(const N in r){const U=r[N];if(U[L.id]===void 0)continue;const z=U[L.id];for(const $ in z)c(z[$].object),delete z[$];delete U[L.id]}}function O(){C(),a=!0,o!==i&&(o=i,u(o.object))}function C(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:s,reset:O,resetDefaultState:C,dispose:T,releaseStatesOfGeometry:P,releaseStatesOfProgram:I,initAttributes:b,enableAttribute:x,disableUnusedAttributes:S}}function UOe(t,e,n){let r;function i(u){r=u}function o(u,c){t.drawArrays(r,u,c),n.update(c,r,1)}function a(u,c,f){f!==0&&(t.drawArraysInstanced(r,u,c,f),n.update(c,r,f))}function s(u,c,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,u,0,c,0,f);let g=0;for(let v=0;v<f;v++)g+=c[v];n.update(g,r,1)}function l(u,c,f,h){if(f===0)return;const g=e.get("WEBGL_multi_draw");if(g===null)for(let v=0;v<u.length;v++)a(u[v],c[v],h[v]);else{g.multiDrawArraysInstancedWEBGL(r,u,0,c,0,h,0,f);let v=0;for(let b=0;b<f;b++)v+=c[b]*h[b];n.update(v,r,1)}}this.setMode=i,this.render=o,this.renderInstances=a,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function FOe(t,e,n,r){let i;function o(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(I){return!(I!==Mo&&r.convert(I)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(I){const O=I===Wg&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(I!==dl&&r.convert(I)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&I!==ga&&!O)}function l(I){if(I==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const c=l(u);c!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);const f=n.logarithmicDepthBuffer===!0,h=n.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),g=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),v=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),b=t.getParameter(t.MAX_TEXTURE_SIZE),x=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),_=t.getParameter(t.MAX_VERTEX_ATTRIBS),S=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),w=t.getParameter(t.MAX_VARYING_VECTORS),E=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),T=v>0,P=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:s,precision:u,logarithmicDepthBuffer:f,reverseDepthBuffer:h,maxTextures:g,maxVertexTextures:v,maxTextureSize:b,maxCubemapSize:x,maxAttributes:_,maxVertexUniforms:S,maxVaryings:w,maxFragmentUniforms:E,vertexTextures:T,maxSamples:P}}function BOe(t){const e=this;let n=null,r=0,i=!1,o=!1;const a=new Uu,s=new un,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const g=f.length!==0||h||r!==0||i;return i=h,r=f.length,g},this.beginShadows=function(){o=!0,c(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(f,h){n=c(f,h,0)},this.setState=function(f,h,g){const v=f.clippingPlanes,b=f.clipIntersection,x=f.clipShadows,_=t.get(f);if(!i||v===null||v.length===0||o&&!x)o?c(null):u();else{const S=o?0:r,w=S*4;let E=_.clippingState||null;l.value=E,E=c(v,h,w,g);for(let T=0;T!==w;++T)E[T]=n[T];_.clippingState=E,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=S}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,h,g,v){const b=f!==null?f.length:0;let x=null;if(b!==0){if(x=l.value,v!==!0||x===null){const _=g+b*4,S=h.matrixWorldInverse;s.getNormalMatrix(S),(x===null||x.length<_)&&(x=new Float32Array(_));for(let w=0,E=g;w!==b;++w,E+=4)a.copy(f[w]).applyMatrix4(S,s),a.normal.toArray(x,E),x[E+3]=a.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,x}}function zOe(t){let e=new WeakMap;function n(a,s){return s===n_?a.mapping=lc:s===r_&&(a.mapping=Cf),a}function r(a){if(a&&a.isTexture){const s=a.mapping;if(s===n_||s===r_)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const u=new gW(l.height);return u.fromEquirectangularTexture(t,a),e.set(a,u),a.addEventListener("dispose",i),n(u.texture,a.mapping)}else return null}}return a}function i(a){const s=a.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function o(){e=new WeakMap}return{get:r,dispose:o}}class Ef extends $_{constructor(e=-1,n=1,r=1,i=-1,o=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=o,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,o,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=o,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let o=r-e,a=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=u*this.view.offsetX,a=o+u*this.view.width,s-=c*this.view.offsetY,l=s-c*this.view.height}this.projectionMatrix.makeOrthographic(o,a,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const wm=4,LB=[.125,.215,.35,.446,.526,.582],ed=20,c2=new Ef,DB=new St;let f2=null,h2=0,d2=0,p2=!1;const Jh=(1+Math.sqrt(5))/2,Vp=1/Jh,NB=[new ae(-Jh,Vp,0),new ae(Jh,Vp,0),new ae(-Vp,0,Jh),new ae(Vp,0,Jh),new ae(0,Jh,-Vp),new ae(0,Jh,Vp),new ae(-1,1,-1),new ae(1,1,-1),new ae(-1,1,1),new ae(1,1,1)];class PO{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){f2=this._renderer.getRenderTarget(),h2=this._renderer.getActiveCubeFace(),d2=this._renderer.getActiveMipmapLevel(),p2=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const o=this._allocateTargets();return o.depthBuffer=!0,this._sceneToCubeUV(e,r,i,o),n>0&&this._blur(o,0,0,n),this._applyPMREM(o),this._cleanup(o),o}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=FB(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=UB(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(f2,h2,d2),this._renderer.xr.enabled=p2,e.scissorTest=!1,q1(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===lc||e.mapping===Cf?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),f2=this._renderer.getRenderTarget(),h2=this._renderer.getActiveCubeFace(),d2=this._renderer.getActiveMipmapLevel(),p2=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:ai,minFilter:ai,generateMipmaps:!1,type:Wg,format:Mo,colorSpace:Xd,depthBuffer:!1},i=kB(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=kB(e,n,r);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=jOe(o)),this._blurMaterial=$Oe(o,e,n)}return i}_compileMaterial(e){const n=new Dr(this._lodPlanes[0],e);this._renderer.compile(n,c2)}_sceneToCubeUV(e,n,r,i){const s=new oi(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,h=c.toneMapping;c.getClearColor(DB),c.toneMapping=Zl,c.autoClear=!1;const g=new mc({name:"PMREM.Background",side:Zo,depthWrite:!1,depthTest:!1}),v=new Dr(new Yd,g);let b=!1;const x=e.background;x?x.isColor&&(g.color.copy(x),e.background=null,b=!0):(g.color.copy(DB),b=!0);for(let _=0;_<6;_++){const S=_%3;S===0?(s.up.set(0,l[_],0),s.lookAt(u[_],0,0)):S===1?(s.up.set(0,0,l[_]),s.lookAt(0,u[_],0)):(s.up.set(0,l[_],0),s.lookAt(0,0,u[_]));const w=this._cubeSize;q1(i,S*w,_>2?w:0,w,w),c.setRenderTarget(i),b&&c.render(v,s),c.render(e,s)}v.geometry.dispose(),v.material.dispose(),c.toneMapping=h,c.autoClear=f,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===lc||e.mapping===Cf;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=FB()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=UB());const o=i?this._cubemapMaterial:this._equirectMaterial,a=new Dr(this._lodPlanes[0],o),s=o.uniforms;s.envMap.value=e;const l=this._cubeSize;q1(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,c2)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let o=1;o<i;o++){const a=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),s=NB[(i-o-1)%NB.length];this._blur(e,o-1,o,a,s)}n.autoClear=r}_blur(e,n,r,i,o){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",o),this._halfBlur(a,e,r,r,i,"longitudinal",o)}_halfBlur(e,n,r,i,o,a,s){const l=this._renderer,u=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new Dr(this._lodPlanes[i],u),h=u.uniforms,g=this._sizeLods[r]-1,v=isFinite(o)?Math.PI/(2*g):2*Math.PI/(2*ed-1),b=o/v,x=isFinite(o)?1+Math.floor(c*b):ed;x>ed&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${ed}`);const _=[];let S=0;for(let I=0;I<ed;++I){const O=I/b,C=Math.exp(-O*O/2);_.push(C),I===0?S+=C:I<x&&(S+=2*C)}for(let I=0;I<_.length;I++)_[I]=_[I]/S;h.envMap.value=e.texture,h.samples.value=x,h.weights.value=_,h.latitudinal.value=a==="latitudinal",s&&(h.poleAxis.value=s);const{_lodMax:w}=this;h.dTheta.value=v,h.mipInt.value=w-r;const E=this._sizeLods[i],T=3*E*(i>w-wm?i-w+wm:0),P=4*(this._cubeSize-E);q1(n,T,P,3*E,2*E),l.setRenderTarget(n),l.render(f,c2)}}function jOe(t){const e=[],n=[],r=[];let i=t;const o=t-wm+1+LB.length;for(let a=0;a<o;a++){const s=Math.pow(2,i);n.push(s);let l=1/s;a>t-wm?l=LB[a-t+wm-1]:a===0&&(l=0),r.push(l);const u=1/(s-2),c=-u,f=1+u,h=[c,c,f,c,f,f,c,c,f,f,c,f],g=6,v=6,b=3,x=2,_=1,S=new Float32Array(b*v*g),w=new Float32Array(x*v*g),E=new Float32Array(_*v*g);for(let P=0;P<g;P++){const I=P%3*2/3-1,O=P>2?0:-1,C=[I,O,0,I+2/3,O,0,I+2/3,O+1,0,I,O,0,I+2/3,O+1,0,I,O+1,0];S.set(C,b*v*P),w.set(h,x*v*P);const L=[P,P,P,P,P,P];E.set(L,_*v*P)}const T=new vn;T.setAttribute("position",new tr(S,b)),T.setAttribute("uv",new tr(w,x)),T.setAttribute("faceIndex",new tr(E,_)),e.push(T),i>wm&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function kB(t,e,n){const r=new pl(t,e,n);return r.texture.mapping=Gg,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function q1(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function $Oe(t,e,n){const r=new Float32Array(ed),i=new ae(0,1,0);return new ml({name:"SphericalGaussianBlur",defines:{n:ed,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:v3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Zu,depthTest:!1,depthWrite:!1})}function UB(){return new ml({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:v3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Zu,depthTest:!1,depthWrite:!1})}function FB(){return new ml({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:v3(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Zu,depthTest:!1,depthWrite:!1})}function v3(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function HOe(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,u=l===n_||l===r_,c=l===lc||l===Cf;if(u||c){let f=e.get(s);const h=f!==void 0?f.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==h)return n===null&&(n=new PO(t)),f=u?n.fromEquirectangular(s,f):n.fromCubemap(s,f),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),f.texture;if(f!==void 0)return f.texture;{const g=s.image;return u&&g&&g.height>0||c&&g&&i(g)?(n===null&&(n=new PO(t)),f=u?n.fromEquirectangular(s):n.fromCubemap(s),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),s.addEventListener("dispose",o),f.texture):null}}}return s}function i(s){let l=0;const u=6;for(let c=0;c<u;c++)s[c]!==void 0&&l++;return l===u}function o(s){const l=s.target;l.removeEventListener("dispose",o);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function GOe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&xy("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function WOe(t,e,n,r){const i={},o=new WeakMap;function a(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const v in h.attributes)e.remove(h.attributes[v]);for(const v in h.morphAttributes){const b=h.morphAttributes[v];for(let x=0,_=b.length;x<_;x++)e.remove(b[x])}h.removeEventListener("dispose",a),delete i[h.id];const g=o.get(h);g&&(e.remove(g),o.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function s(f,h){return i[h.id]===!0||(h.addEventListener("dispose",a),i[h.id]=!0,n.memory.geometries++),h}function l(f){const h=f.attributes;for(const v in h)e.update(h[v],t.ARRAY_BUFFER);const g=f.morphAttributes;for(const v in g){const b=g[v];for(let x=0,_=b.length;x<_;x++)e.update(b[x],t.ARRAY_BUFFER)}}function u(f){const h=[],g=f.index,v=f.attributes.position;let b=0;if(g!==null){const S=g.array;b=g.version;for(let w=0,E=S.length;w<E;w+=3){const T=S[w+0],P=S[w+1],I=S[w+2];h.push(T,P,P,I,I,T)}}else if(v!==void 0){const S=v.array;b=v.version;for(let w=0,E=S.length/3-1;w<E;w+=3){const T=w+0,P=w+1,I=w+2;h.push(T,P,P,I,I,T)}}else return;const x=new(uW(h)?m3:p3)(h,1);x.version=b;const _=o.get(f);_&&e.remove(_),o.set(f,x)}function c(f){const h=o.get(f);if(h){const g=f.index;g!==null&&h.version<g.version&&u(f)}else u(f);return o.get(f)}return{get:s,update:l,getWireframeAttribute:c}}function VOe(t,e,n){let r;function i(h){r=h}let o,a;function s(h){o=h.type,a=h.bytesPerElement}function l(h,g){t.drawElements(r,g,o,h*a),n.update(g,r,1)}function u(h,g,v){v!==0&&(t.drawElementsInstanced(r,g,o,h*a,v),n.update(g,r,v))}function c(h,g,v){if(v===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,g,0,o,h,0,v);let x=0;for(let _=0;_<v;_++)x+=g[_];n.update(x,r,1)}function f(h,g,v,b){if(v===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let _=0;_<h.length;_++)u(h[_]/a,g[_],b[_]);else{x.multiDrawElementsInstancedWEBGL(r,g,0,o,h,0,b,0,v);let _=0;for(let S=0;S<v;S++)_+=g[S]*b[S];n.update(_,r,1)}}this.setMode=i,this.setIndex=s,this.render=l,this.renderInstances=u,this.renderMultiDraw=c,this.renderMultiDrawInstances=f}function XOe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(o,a,s){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=s*(o/3);break;case t.LINES:n.lines+=s*(o/2);break;case t.LINE_STRIP:n.lines+=s*(o-1);break;case t.LINE_LOOP:n.lines+=s*o;break;case t.POINTS:n.points+=s*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function qOe(t,e,n){const r=new WeakMap,i=new Dn;function o(a,s,l){const u=a.morphTargetInfluences,c=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,f=c!==void 0?c.length:0;let h=r.get(s);if(h===void 0||h.count!==f){let C=function(){I.dispose(),r.delete(s),s.removeEventListener("dispose",C)};h!==void 0&&h.texture.dispose();const g=s.morphAttributes.position!==void 0,v=s.morphAttributes.normal!==void 0,b=s.morphAttributes.color!==void 0,x=s.morphAttributes.position||[],_=s.morphAttributes.normal||[],S=s.morphAttributes.color||[];let w=0;g===!0&&(w=1),v===!0&&(w=2),b===!0&&(w=3);let E=s.attributes.position.count*w,T=1;E>e.maxTextureSize&&(T=Math.ceil(E/e.maxTextureSize),E=e.maxTextureSize);const P=new Float32Array(E*T*4*f),I=new FE(P,E,T,f);I.type=ga,I.needsUpdate=!0;const O=w*4;for(let L=0;L<f;L++){const N=x[L],U=_[L],z=S[L],$=E*T*4*L;for(let K=0;K<N.count;K++){const q=K*O;g===!0&&(i.fromBufferAttribute(N,K),P[$+q+0]=i.x,P[$+q+1]=i.y,P[$+q+2]=i.z,P[$+q+3]=0),v===!0&&(i.fromBufferAttribute(U,K),P[$+q+4]=i.x,P[$+q+5]=i.y,P[$+q+6]=i.z,P[$+q+7]=0),b===!0&&(i.fromBufferAttribute(z,K),P[$+q+8]=i.x,P[$+q+9]=i.y,P[$+q+10]=i.z,P[$+q+11]=z.itemSize===4?i.w:1)}}h={count:f,texture:I,size:new tt(E,T)},r.set(s,h),s.addEventListener("dispose",C)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let g=0;for(let b=0;b<u.length;b++)g+=u[b];const v=s.morphTargetsRelative?1:1-g;l.getUniforms().setValue(t,"morphTargetBaseInfluence",v),l.getUniforms().setValue(t,"morphTargetInfluences",u)}l.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:o}}function YOe(t,e,n,r){let i=new WeakMap;function o(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);if(i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const h=l.skeleton;i.get(h)!==u&&(h.update(),i.set(h,u))}return f}function a(){i=new WeakMap}function s(l){const u=l.target;u.removeEventListener("dispose",s),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:o,dispose:a}}class y3 extends Er{constructor(e,n,r,i,o,a,s,l,u,c=vd){if(c!==vd&&c!==Ld)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===vd&&(r=uc),r===void 0&&c===Ld&&(r=Id),super(null,i,o,a,s,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=s!==void 0?s:oo,this.minFilter=l!==void 0?l:oo,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const yW=new Er,BB=new y3(1,1),_W=new FE,xW=new d3,bW=new H_,zB=[],jB=[],$B=new Float32Array(16),HB=new Float32Array(9),GB=new Float32Array(4);function Vg(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let o=zB[i];if(o===void 0&&(o=new Float32Array(i),zB[i]=o),e!==0){r.toArray(o,0);for(let a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function Mi(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ei(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function BE(t,e){let n=jB[e];n===void 0&&(n=new Int32Array(e),jB[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function KOe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function ZOe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Mi(n,e))return;t.uniform2fv(this.addr,e),Ei(n,e)}}function JOe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Mi(n,e))return;t.uniform3fv(this.addr,e),Ei(n,e)}}function QOe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Mi(n,e))return;t.uniform4fv(this.addr,e),Ei(n,e)}}function eRe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Mi(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ei(n,e)}else{if(Mi(n,r))return;GB.set(r),t.uniformMatrix2fv(this.addr,!1,GB),Ei(n,r)}}function tRe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Mi(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ei(n,e)}else{if(Mi(n,r))return;HB.set(r),t.uniformMatrix3fv(this.addr,!1,HB),Ei(n,r)}}function nRe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Mi(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ei(n,e)}else{if(Mi(n,r))return;$B.set(r),t.uniformMatrix4fv(this.addr,!1,$B),Ei(n,r)}}function rRe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function iRe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Mi(n,e))return;t.uniform2iv(this.addr,e),Ei(n,e)}}function oRe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Mi(n,e))return;t.uniform3iv(this.addr,e),Ei(n,e)}}function aRe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Mi(n,e))return;t.uniform4iv(this.addr,e),Ei(n,e)}}function sRe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function lRe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Mi(n,e))return;t.uniform2uiv(this.addr,e),Ei(n,e)}}function uRe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Mi(n,e))return;t.uniform3uiv(this.addr,e),Ei(n,e)}}function cRe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Mi(n,e))return;t.uniform4uiv(this.addr,e),Ei(n,e)}}function fRe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let o;this.type===t.SAMPLER_2D_SHADOW?(BB.compareFunction=f3,o=BB):o=yW,n.setTexture2D(e||o,i)}function hRe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||xW,i)}function dRe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||bW,i)}function pRe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||_W,i)}function mRe(t){switch(t){case 5126:return KOe;case 35664:return ZOe;case 35665:return JOe;case 35666:return QOe;case 35674:return eRe;case 35675:return tRe;case 35676:return nRe;case 5124:case 35670:return rRe;case 35667:case 35671:return iRe;case 35668:case 35672:return oRe;case 35669:case 35673:return aRe;case 5125:return sRe;case 36294:return lRe;case 36295:return uRe;case 36296:return cRe;case 35678:case 36198:case 36298:case 36306:case 35682:return fRe;case 35679:case 36299:case 36307:return hRe;case 35680:case 36300:case 36308:case 36293:return dRe;case 36289:case 36303:case 36311:case 36292:return pRe}}function gRe(t,e){t.uniform1fv(this.addr,e)}function vRe(t,e){const n=Vg(e,this.size,2);t.uniform2fv(this.addr,n)}function yRe(t,e){const n=Vg(e,this.size,3);t.uniform3fv(this.addr,n)}function _Re(t,e){const n=Vg(e,this.size,4);t.uniform4fv(this.addr,n)}function xRe(t,e){const n=Vg(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function bRe(t,e){const n=Vg(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function SRe(t,e){const n=Vg(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function wRe(t,e){t.uniform1iv(this.addr,e)}function MRe(t,e){t.uniform2iv(this.addr,e)}function ERe(t,e){t.uniform3iv(this.addr,e)}function ARe(t,e){t.uniform4iv(this.addr,e)}function TRe(t,e){t.uniform1uiv(this.addr,e)}function PRe(t,e){t.uniform2uiv(this.addr,e)}function CRe(t,e){t.uniform3uiv(this.addr,e)}function ORe(t,e){t.uniform4uiv(this.addr,e)}function RRe(t,e,n){const r=this.cache,i=e.length,o=BE(n,i);Mi(r,o)||(t.uniform1iv(this.addr,o),Ei(r,o));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||yW,o[a])}function IRe(t,e,n){const r=this.cache,i=e.length,o=BE(n,i);Mi(r,o)||(t.uniform1iv(this.addr,o),Ei(r,o));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||xW,o[a])}function LRe(t,e,n){const r=this.cache,i=e.length,o=BE(n,i);Mi(r,o)||(t.uniform1iv(this.addr,o),Ei(r,o));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||bW,o[a])}function DRe(t,e,n){const r=this.cache,i=e.length,o=BE(n,i);Mi(r,o)||(t.uniform1iv(this.addr,o),Ei(r,o));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||_W,o[a])}function NRe(t){switch(t){case 5126:return gRe;case 35664:return vRe;case 35665:return yRe;case 35666:return _Re;case 35674:return xRe;case 35675:return bRe;case 35676:return SRe;case 5124:case 35670:return wRe;case 35667:case 35671:return MRe;case 35668:case 35672:return ERe;case 35669:case 35673:return ARe;case 5125:return TRe;case 36294:return PRe;case 36295:return CRe;case 36296:return ORe;case 35678:case 36198:case 36298:case 36306:case 35682:return RRe;case 35679:case 36299:case 36307:return IRe;case 35680:case 36300:case 36308:case 36293:return LRe;case 36289:case 36303:case 36311:case 36292:return DRe}}class kRe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=mRe(n.type)}}class URe{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=NRe(n.type)}}class FRe{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let o=0,a=i.length;o!==a;++o){const s=i[o];s.setValue(e,n[s.id],r)}}}const m2=/(\w+)(\])?(\[|\.)?/g;function WB(t,e){t.seq.push(e),t.map[e.id]=e}function BRe(t,e,n){const r=t.name,i=r.length;for(m2.lastIndex=0;;){const o=m2.exec(r),a=m2.lastIndex;let s=o[1];const l=o[2]==="]",u=o[3];if(l&&(s=s|0),u===void 0||u==="["&&a+2===i){WB(n,u===void 0?new kRe(s,t,e):new URe(s,t,e));break}else{let f=n.map[s];f===void 0&&(f=new FRe(s),WB(n,f)),n=f}}}class jb{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const o=e.getActiveUniform(n,i),a=e.getUniformLocation(n,o.name);BRe(o,a,this)}}setValue(e,n,r,i){const o=this.map[n];o!==void 0&&o.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let o=0,a=n.length;o!==a;++o){const s=n[o],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,o=e.length;i!==o;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function VB(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const zRe=37297;let jRe=0;function $Re(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),o=Math.min(e+6,n.length);for(let a=i;a<o;a++){const s=a+1;r.push(`${s===e?">":" "} ${s}: ${n[a]}`)}return r.join(`
`)}const XB=new un;function HRe(t){Ln._getMatrix(XB,Ln.workingColorSpace,t);const e=`mat3( ${XB.elements.map(n=>n.toFixed(4))} )`;switch(Ln.getTransfer(t)){case j_:return[e,"LinearTransferOETF"];case qn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function qB(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const o=/ERROR: 0:(\d+)/.exec(i);if(o){const a=parseInt(o[1]);return n.toUpperCase()+`

`+i+`

`+$Re(t.getShaderSource(e),a)}else return i}function GRe(t,e){const n=HRe(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function WRe(t,e){let n;switch(e){case GG:n="Linear";break;case WG:n="Reinhard";break;case VG:n="Cineon";break;case JI:n="ACESFilmic";break;case qG:n="AgX";break;case YG:n="Neutral";break;case XG:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const Y1=new ae;function VRe(){Ln.getLuminanceCoefficients(Y1);const t=Y1.x.toFixed(4),e=Y1.y.toFixed(4),n=Y1.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function XRe(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Sy).join(`
`)}function qRe(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function YRe(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const o=t.getActiveAttrib(e,i),a=o.name;let s=1;o.type===t.FLOAT_MAT2&&(s=2),o.type===t.FLOAT_MAT3&&(s=3),o.type===t.FLOAT_MAT4&&(s=4),n[a]={type:o.type,location:t.getAttribLocation(e,a),locationSize:s}}return n}function Sy(t){return t!==""}function YB(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function KB(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const KRe=/^[ \t]*#include +<([\w\d./]+)>/gm;function CO(t){return t.replace(KRe,JRe)}const ZRe=new Map;function JRe(t,e){let n=mn[e];if(n===void 0){const r=ZRe.get(e);if(r!==void 0)n=mn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return CO(n)}const QRe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function ZB(t){return t.replace(QRe,eIe)}function eIe(t,e,n,r){let i="";for(let o=parseInt(e);o<parseInt(n);o++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function JB(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function tIe(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===CE?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===jy?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===el&&(e="SHADOWMAP_TYPE_VSM"),e}function nIe(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case lc:case Cf:e="ENVMAP_TYPE_CUBE";break;case Gg:e="ENVMAP_TYPE_CUBE_UV";break}return e}function rIe(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Cf:e="ENVMAP_MODE_REFRACTION";break}return e}function iIe(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case B_:e="ENVMAP_BLENDING_MULTIPLY";break;case $G:e="ENVMAP_BLENDING_MIX";break;case HG:e="ENVMAP_BLENDING_ADD";break}return e}function oIe(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function aIe(t,e,n,r){const i=t.getContext(),o=n.defines;let a=n.vertexShader,s=n.fragmentShader;const l=tIe(n),u=nIe(n),c=rIe(n),f=iIe(n),h=oIe(n),g=XRe(n),v=qRe(o),b=i.createProgram();let x,_,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(Sy).join(`
`),x.length>0&&(x+=`
`),_=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(Sy).join(`
`),_.length>0&&(_+=`
`)):(x=[JB(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Sy).join(`
`),_=[JB(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Zl?"#define TONE_MAPPING":"",n.toneMapping!==Zl?mn.tonemapping_pars_fragment:"",n.toneMapping!==Zl?WRe("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",mn.colorspace_pars_fragment,GRe("linearToOutputTexel",n.outputColorSpace),VRe(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Sy).join(`
`)),a=CO(a),a=YB(a,n),a=KB(a,n),s=CO(s),s=YB(s,n),s=KB(s,n),a=ZB(a),s=ZB(s),n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,x=[g,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,_=["#define varying in",n.glslVersion===TO?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===TO?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+_);const w=S+x+a,E=S+_+s,T=VB(i,i.VERTEX_SHADER,w),P=VB(i,i.FRAGMENT_SHADER,E);i.attachShader(b,T),i.attachShader(b,P),n.index0AttributeName!==void 0?i.bindAttribLocation(b,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(b,0,"position"),i.linkProgram(b);function I(N){if(t.debug.checkShaderErrors){const U=i.getProgramInfoLog(b).trim(),z=i.getShaderInfoLog(T).trim(),$=i.getShaderInfoLog(P).trim();let K=!0,q=!0;if(i.getProgramParameter(b,i.LINK_STATUS)===!1)if(K=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,b,T,P);else{const Q=qB(i,T,"vertex"),F=qB(i,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(b,i.VALIDATE_STATUS)+`

Material Name: `+N.name+`
Material Type: `+N.type+`

Program Info Log: `+U+`
`+Q+`
`+F)}else U!==""?console.warn("THREE.WebGLProgram: Program Info Log:",U):(z===""||$==="")&&(q=!1);q&&(N.diagnostics={runnable:K,programLog:U,vertexShader:{log:z,prefix:x},fragmentShader:{log:$,prefix:_}})}i.deleteShader(T),i.deleteShader(P),O=new jb(i,b),C=YRe(i,b)}let O;this.getUniforms=function(){return O===void 0&&I(this),O};let C;this.getAttributes=function(){return C===void 0&&I(this),C};let L=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return L===!1&&(L=i.getProgramParameter(b,zRe)),L},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(b),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=jRe++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=T,this.fragmentShader=P,this}let sIe=0;class lIe{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),o=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(o)===!1&&(a.add(o),o.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new uIe(e),n.set(e,r)),r}}class uIe{constructor(e){this.id=sIe++,this.code=e,this.usedTimes=0}}function cIe(t,e,n,r,i,o,a){const s=new _d,l=new lIe,u=new Set,c=[],f=i.logarithmicDepthBuffer,h=i.vertexTextures;let g=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(C){return u.add(C),C===0?"uv":`uv${C}`}function x(C,L,N,U,z){const $=U.fog,K=z.geometry,q=C.isMeshStandardMaterial?U.environment:null,Q=(C.isMeshStandardMaterial?n:e).get(C.envMap||q),F=Q&&Q.mapping===Gg?Q.image.height:null,j=v[C.type];C.precision!==null&&(g=i.getMaxPrecision(C.precision),g!==C.precision&&console.warn("THREE.WebGLProgram.getParameters:",C.precision,"not supported, using",g,"instead."));const X=K.morphAttributes.position||K.morphAttributes.normal||K.morphAttributes.color,H=X!==void 0?X.length:0;let Y=0;K.morphAttributes.position!==void 0&&(Y=1),K.morphAttributes.normal!==void 0&&(Y=2),K.morphAttributes.color!==void 0&&(Y=3);let se,re,ie,ge;if(j){const Rt=ol[j];se=Rt.vertexShader,re=Rt.fragmentShader}else se=C.vertexShader,re=C.fragmentShader,l.update(C),ie=l.getVertexShaderID(C),ge=l.getFragmentShaderID(C);const de=t.getRenderTarget(),be=t.state.buffers.depth.getReversed(),fe=z.isInstancedMesh===!0,Te=z.isBatchedMesh===!0,Se=!!C.map,ee=!!C.matcap,we=!!Q,Z=!!C.aoMap,Ie=!!C.lightMap,xe=!!C.bumpMap,Ne=!!C.normalMap,Ee=!!C.displacementMap,Ke=!!C.emissiveMap,Ue=!!C.metalnessMap,W=!!C.roughnessMap,G=C.anisotropy>0,ce=C.clearcoat>0,Me=C.dispersion>0,ve=C.iridescence>0,ke=C.sheen>0,We=C.transmission>0,Be=G&&!!C.anisotropyMap,Xe=ce&&!!C.clearcoatMap,ct=ce&&!!C.clearcoatNormalMap,qe=ce&&!!C.clearcoatRoughnessMap,ot=ve&&!!C.iridescenceMap,ut=ve&&!!C.iridescenceThicknessMap,at=ke&&!!C.sheenColorMap,Ze=ke&&!!C.sheenRoughnessMap,me=!!C.specularMap,Fe=!!C.specularColorMap,pt=!!C.specularIntensityMap,he=We&&!!C.transmissionMap,He=We&&!!C.thicknessMap,Le=!!C.gradientMap,Je=!!C.alphaMap,st=C.alphaTest>0,nt=!!C.alphaHash,vt=!!C.extensions;let It=Zl;C.toneMapped&&(de===null||de.isXRRenderTarget===!0)&&(It=t.toneMapping);const Et={shaderID:j,shaderType:C.type,shaderName:C.name,vertexShader:se,fragmentShader:re,defines:C.defines,customVertexShaderID:ie,customFragmentShaderID:ge,isRawShaderMaterial:C.isRawShaderMaterial===!0,glslVersion:C.glslVersion,precision:g,batching:Te,batchingColor:Te&&z._colorsTexture!==null,instancing:fe,instancingColor:fe&&z.instanceColor!==null,instancingMorph:fe&&z.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:de===null?t.outputColorSpace:de.isXRRenderTarget===!0?de.texture.colorSpace:Xd,alphaToCoverage:!!C.alphaToCoverage,map:Se,matcap:ee,envMap:we,envMapMode:we&&Q.mapping,envMapCubeUVHeight:F,aoMap:Z,lightMap:Ie,bumpMap:xe,normalMap:Ne,displacementMap:h&&Ee,emissiveMap:Ke,normalMapObjectSpace:Ne&&C.normalMapType===tW,normalMapTangentSpace:Ne&&C.normalMapType===Bf,metalnessMap:Ue,roughnessMap:W,anisotropy:G,anisotropyMap:Be,clearcoat:ce,clearcoatMap:Xe,clearcoatNormalMap:ct,clearcoatRoughnessMap:qe,dispersion:Me,iridescence:ve,iridescenceMap:ot,iridescenceThicknessMap:ut,sheen:ke,sheenColorMap:at,sheenRoughnessMap:Ze,specularMap:me,specularColorMap:Fe,specularIntensityMap:pt,transmission:We,transmissionMap:he,thicknessMap:He,gradientMap:Le,opaque:C.transparent===!1&&C.blending===gd&&C.alphaToCoverage===!1,alphaMap:Je,alphaTest:st,alphaHash:nt,combine:C.combine,mapUv:Se&&b(C.map.channel),aoMapUv:Z&&b(C.aoMap.channel),lightMapUv:Ie&&b(C.lightMap.channel),bumpMapUv:xe&&b(C.bumpMap.channel),normalMapUv:Ne&&b(C.normalMap.channel),displacementMapUv:Ee&&b(C.displacementMap.channel),emissiveMapUv:Ke&&b(C.emissiveMap.channel),metalnessMapUv:Ue&&b(C.metalnessMap.channel),roughnessMapUv:W&&b(C.roughnessMap.channel),anisotropyMapUv:Be&&b(C.anisotropyMap.channel),clearcoatMapUv:Xe&&b(C.clearcoatMap.channel),clearcoatNormalMapUv:ct&&b(C.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:qe&&b(C.clearcoatRoughnessMap.channel),iridescenceMapUv:ot&&b(C.iridescenceMap.channel),iridescenceThicknessMapUv:ut&&b(C.iridescenceThicknessMap.channel),sheenColorMapUv:at&&b(C.sheenColorMap.channel),sheenRoughnessMapUv:Ze&&b(C.sheenRoughnessMap.channel),specularMapUv:me&&b(C.specularMap.channel),specularColorMapUv:Fe&&b(C.specularColorMap.channel),specularIntensityMapUv:pt&&b(C.specularIntensityMap.channel),transmissionMapUv:he&&b(C.transmissionMap.channel),thicknessMapUv:He&&b(C.thicknessMap.channel),alphaMapUv:Je&&b(C.alphaMap.channel),vertexTangents:!!K.attributes.tangent&&(Ne||G),vertexColors:C.vertexColors,vertexAlphas:C.vertexColors===!0&&!!K.attributes.color&&K.attributes.color.itemSize===4,pointsUvs:z.isPoints===!0&&!!K.attributes.uv&&(Se||Je),fog:!!$,useFog:C.fog===!0,fogExp2:!!$&&$.isFogExp2,flatShading:C.flatShading===!0,sizeAttenuation:C.sizeAttenuation===!0,logarithmicDepthBuffer:f,reverseDepthBuffer:be,skinning:z.isSkinnedMesh===!0,morphTargets:K.morphAttributes.position!==void 0,morphNormals:K.morphAttributes.normal!==void 0,morphColors:K.morphAttributes.color!==void 0,morphTargetsCount:H,morphTextureStride:Y,numDirLights:L.directional.length,numPointLights:L.point.length,numSpotLights:L.spot.length,numSpotLightMaps:L.spotLightMap.length,numRectAreaLights:L.rectArea.length,numHemiLights:L.hemi.length,numDirLightShadows:L.directionalShadowMap.length,numPointLightShadows:L.pointShadowMap.length,numSpotLightShadows:L.spotShadowMap.length,numSpotLightShadowsWithMaps:L.numSpotLightShadowsWithMaps,numLightProbes:L.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:C.dithering,shadowMapEnabled:t.shadowMap.enabled&&N.length>0,shadowMapType:t.shadowMap.type,toneMapping:It,decodeVideoTexture:Se&&C.map.isVideoTexture===!0&&Ln.getTransfer(C.map.colorSpace)===qn,decodeVideoTextureEmissive:Ke&&C.emissiveMap.isVideoTexture===!0&&Ln.getTransfer(C.emissiveMap.colorSpace)===qn,premultipliedAlpha:C.premultipliedAlpha,doubleSided:C.side===sl,flipSided:C.side===Zo,useDepthPacking:C.depthPacking>=0,depthPacking:C.depthPacking||0,index0AttributeName:C.index0AttributeName,extensionClipCullDistance:vt&&C.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(vt&&C.extensions.multiDraw===!0||Te)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:C.customProgramCacheKey()};return Et.vertexUv1s=u.has(1),Et.vertexUv2s=u.has(2),Et.vertexUv3s=u.has(3),u.clear(),Et}function _(C){const L=[];if(C.shaderID?L.push(C.shaderID):(L.push(C.customVertexShaderID),L.push(C.customFragmentShaderID)),C.defines!==void 0)for(const N in C.defines)L.push(N),L.push(C.defines[N]);return C.isRawShaderMaterial===!1&&(S(L,C),w(L,C),L.push(t.outputColorSpace)),L.push(C.customProgramCacheKey),L.join()}function S(C,L){C.push(L.precision),C.push(L.outputColorSpace),C.push(L.envMapMode),C.push(L.envMapCubeUVHeight),C.push(L.mapUv),C.push(L.alphaMapUv),C.push(L.lightMapUv),C.push(L.aoMapUv),C.push(L.bumpMapUv),C.push(L.normalMapUv),C.push(L.displacementMapUv),C.push(L.emissiveMapUv),C.push(L.metalnessMapUv),C.push(L.roughnessMapUv),C.push(L.anisotropyMapUv),C.push(L.clearcoatMapUv),C.push(L.clearcoatNormalMapUv),C.push(L.clearcoatRoughnessMapUv),C.push(L.iridescenceMapUv),C.push(L.iridescenceThicknessMapUv),C.push(L.sheenColorMapUv),C.push(L.sheenRoughnessMapUv),C.push(L.specularMapUv),C.push(L.specularColorMapUv),C.push(L.specularIntensityMapUv),C.push(L.transmissionMapUv),C.push(L.thicknessMapUv),C.push(L.combine),C.push(L.fogExp2),C.push(L.sizeAttenuation),C.push(L.morphTargetsCount),C.push(L.morphAttributeCount),C.push(L.numDirLights),C.push(L.numPointLights),C.push(L.numSpotLights),C.push(L.numSpotLightMaps),C.push(L.numHemiLights),C.push(L.numRectAreaLights),C.push(L.numDirLightShadows),C.push(L.numPointLightShadows),C.push(L.numSpotLightShadows),C.push(L.numSpotLightShadowsWithMaps),C.push(L.numLightProbes),C.push(L.shadowMapType),C.push(L.toneMapping),C.push(L.numClippingPlanes),C.push(L.numClipIntersection),C.push(L.depthPacking)}function w(C,L){s.disableAll(),L.supportsVertexTextures&&s.enable(0),L.instancing&&s.enable(1),L.instancingColor&&s.enable(2),L.instancingMorph&&s.enable(3),L.matcap&&s.enable(4),L.envMap&&s.enable(5),L.normalMapObjectSpace&&s.enable(6),L.normalMapTangentSpace&&s.enable(7),L.clearcoat&&s.enable(8),L.iridescence&&s.enable(9),L.alphaTest&&s.enable(10),L.vertexColors&&s.enable(11),L.vertexAlphas&&s.enable(12),L.vertexUv1s&&s.enable(13),L.vertexUv2s&&s.enable(14),L.vertexUv3s&&s.enable(15),L.vertexTangents&&s.enable(16),L.anisotropy&&s.enable(17),L.alphaHash&&s.enable(18),L.batching&&s.enable(19),L.dispersion&&s.enable(20),L.batchingColor&&s.enable(21),C.push(s.mask),s.disableAll(),L.fog&&s.enable(0),L.useFog&&s.enable(1),L.flatShading&&s.enable(2),L.logarithmicDepthBuffer&&s.enable(3),L.reverseDepthBuffer&&s.enable(4),L.skinning&&s.enable(5),L.morphTargets&&s.enable(6),L.morphNormals&&s.enable(7),L.morphColors&&s.enable(8),L.premultipliedAlpha&&s.enable(9),L.shadowMapEnabled&&s.enable(10),L.doubleSided&&s.enable(11),L.flipSided&&s.enable(12),L.useDepthPacking&&s.enable(13),L.dithering&&s.enable(14),L.transmission&&s.enable(15),L.sheen&&s.enable(16),L.opaque&&s.enable(17),L.pointsUvs&&s.enable(18),L.decodeVideoTexture&&s.enable(19),L.decodeVideoTextureEmissive&&s.enable(20),L.alphaToCoverage&&s.enable(21),C.push(s.mask)}function E(C){const L=v[C.type];let N;if(L){const U=ol[L];N=g3.clone(U.uniforms)}else N=C.uniforms;return N}function T(C,L){let N;for(let U=0,z=c.length;U<z;U++){const $=c[U];if($.cacheKey===L){N=$,++N.usedTimes;break}}return N===void 0&&(N=new aIe(t,L,C,o),c.push(N)),N}function P(C){if(--C.usedTimes===0){const L=c.indexOf(C);c[L]=c[c.length-1],c.pop(),C.destroy()}}function I(C){l.remove(C)}function O(){l.dispose()}return{getParameters:x,getProgramCacheKey:_,getUniforms:E,acquireProgram:T,releaseProgram:P,releaseShaderCache:I,programs:c,dispose:O}}function fIe(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let s=t.get(a);return s===void 0&&(s={},t.set(a,s)),s}function r(a){t.delete(a)}function i(a,s,l){t.get(a)[s]=l}function o(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:o}}function hIe(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function QB(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function e4(){const t=[];let e=0;const n=[],r=[],i=[];function o(){e=0,n.length=0,r.length=0,i.length=0}function a(f,h,g,v,b,x){let _=t[e];return _===void 0?(_={id:f.id,object:f,geometry:h,material:g,groupOrder:v,renderOrder:f.renderOrder,z:b,group:x},t[e]=_):(_.id=f.id,_.object=f,_.geometry=h,_.material=g,_.groupOrder=v,_.renderOrder=f.renderOrder,_.z=b,_.group=x),e++,_}function s(f,h,g,v,b,x){const _=a(f,h,g,v,b,x);g.transmission>0?r.push(_):g.transparent===!0?i.push(_):n.push(_)}function l(f,h,g,v,b,x){const _=a(f,h,g,v,b,x);g.transmission>0?r.unshift(_):g.transparent===!0?i.unshift(_):n.unshift(_)}function u(f,h){n.length>1&&n.sort(f||hIe),r.length>1&&r.sort(h||QB),i.length>1&&i.sort(h||QB)}function c(){for(let f=e,h=t.length;f<h;f++){const g=t[f];if(g.id===null)break;g.id=null,g.object=null,g.geometry=null,g.material=null,g.group=null}}return{opaque:n,transmissive:r,transparent:i,init:o,push:s,unshift:l,finish:c,sort:u}}function dIe(){let t=new WeakMap;function e(r,i){const o=t.get(r);let a;return o===void 0?(a=new e4,t.set(r,[a])):i>=o.length?(a=new e4,o.push(a)):a=o[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function pIe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ae,color:new St};break;case"SpotLight":n={position:new ae,direction:new ae,color:new St,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ae,color:new St,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ae,skyColor:new St,groundColor:new St};break;case"RectAreaLight":n={color:new St,position:new ae,halfWidth:new ae,halfHeight:new ae};break}return t[e.id]=n,n}}}function mIe(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let gIe=0;function vIe(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function yIe(t){const e=new pIe,n=mIe(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new ae);const i=new ae,o=new Jt,a=new Jt;function s(u){let c=0,f=0,h=0;for(let C=0;C<9;C++)r.probe[C].set(0,0,0);let g=0,v=0,b=0,x=0,_=0,S=0,w=0,E=0,T=0,P=0,I=0;u.sort(vIe);for(let C=0,L=u.length;C<L;C++){const N=u[C],U=N.color,z=N.intensity,$=N.distance,K=N.shadow&&N.shadow.map?N.shadow.map.texture:null;if(N.isAmbientLight)c+=U.r*z,f+=U.g*z,h+=U.b*z;else if(N.isLightProbe){for(let q=0;q<9;q++)r.probe[q].addScaledVector(N.sh.coefficients[q],z);I++}else if(N.isDirectionalLight){const q=e.get(N);if(q.color.copy(N.color).multiplyScalar(N.intensity),N.castShadow){const Q=N.shadow,F=n.get(N);F.shadowIntensity=Q.intensity,F.shadowBias=Q.bias,F.shadowNormalBias=Q.normalBias,F.shadowRadius=Q.radius,F.shadowMapSize=Q.mapSize,r.directionalShadow[g]=F,r.directionalShadowMap[g]=K,r.directionalShadowMatrix[g]=N.shadow.matrix,S++}r.directional[g]=q,g++}else if(N.isSpotLight){const q=e.get(N);q.position.setFromMatrixPosition(N.matrixWorld),q.color.copy(U).multiplyScalar(z),q.distance=$,q.coneCos=Math.cos(N.angle),q.penumbraCos=Math.cos(N.angle*(1-N.penumbra)),q.decay=N.decay,r.spot[b]=q;const Q=N.shadow;if(N.map&&(r.spotLightMap[T]=N.map,T++,Q.updateMatrices(N),N.castShadow&&P++),r.spotLightMatrix[b]=Q.matrix,N.castShadow){const F=n.get(N);F.shadowIntensity=Q.intensity,F.shadowBias=Q.bias,F.shadowNormalBias=Q.normalBias,F.shadowRadius=Q.radius,F.shadowMapSize=Q.mapSize,r.spotShadow[b]=F,r.spotShadowMap[b]=K,E++}b++}else if(N.isRectAreaLight){const q=e.get(N);q.color.copy(U).multiplyScalar(z),q.halfWidth.set(N.width*.5,0,0),q.halfHeight.set(0,N.height*.5,0),r.rectArea[x]=q,x++}else if(N.isPointLight){const q=e.get(N);if(q.color.copy(N.color).multiplyScalar(N.intensity),q.distance=N.distance,q.decay=N.decay,N.castShadow){const Q=N.shadow,F=n.get(N);F.shadowIntensity=Q.intensity,F.shadowBias=Q.bias,F.shadowNormalBias=Q.normalBias,F.shadowRadius=Q.radius,F.shadowMapSize=Q.mapSize,F.shadowCameraNear=Q.camera.near,F.shadowCameraFar=Q.camera.far,r.pointShadow[v]=F,r.pointShadowMap[v]=K,r.pointShadowMatrix[v]=N.shadow.matrix,w++}r.point[v]=q,v++}else if(N.isHemisphereLight){const q=e.get(N);q.skyColor.copy(N.color).multiplyScalar(z),q.groundColor.copy(N.groundColor).multiplyScalar(z),r.hemi[_]=q,_++}}x>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=_t.LTC_FLOAT_1,r.rectAreaLTC2=_t.LTC_FLOAT_2):(r.rectAreaLTC1=_t.LTC_HALF_1,r.rectAreaLTC2=_t.LTC_HALF_2)),r.ambient[0]=c,r.ambient[1]=f,r.ambient[2]=h;const O=r.hash;(O.directionalLength!==g||O.pointLength!==v||O.spotLength!==b||O.rectAreaLength!==x||O.hemiLength!==_||O.numDirectionalShadows!==S||O.numPointShadows!==w||O.numSpotShadows!==E||O.numSpotMaps!==T||O.numLightProbes!==I)&&(r.directional.length=g,r.spot.length=b,r.rectArea.length=x,r.point.length=v,r.hemi.length=_,r.directionalShadow.length=S,r.directionalShadowMap.length=S,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=E,r.spotShadowMap.length=E,r.directionalShadowMatrix.length=S,r.pointShadowMatrix.length=w,r.spotLightMatrix.length=E+T-P,r.spotLightMap.length=T,r.numSpotLightShadowsWithMaps=P,r.numLightProbes=I,O.directionalLength=g,O.pointLength=v,O.spotLength=b,O.rectAreaLength=x,O.hemiLength=_,O.numDirectionalShadows=S,O.numPointShadows=w,O.numSpotShadows=E,O.numSpotMaps=T,O.numLightProbes=I,r.version=gIe++)}function l(u,c){let f=0,h=0,g=0,v=0,b=0;const x=c.matrixWorldInverse;for(let _=0,S=u.length;_<S;_++){const w=u[_];if(w.isDirectionalLight){const E=r.directional[f];E.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(x),f++}else if(w.isSpotLight){const E=r.spot[g];E.position.setFromMatrixPosition(w.matrixWorld),E.position.applyMatrix4(x),E.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),E.direction.sub(i),E.direction.transformDirection(x),g++}else if(w.isRectAreaLight){const E=r.rectArea[v];E.position.setFromMatrixPosition(w.matrixWorld),E.position.applyMatrix4(x),a.identity(),o.copy(w.matrixWorld),o.premultiply(x),a.extractRotation(o),E.halfWidth.set(w.width*.5,0,0),E.halfHeight.set(0,w.height*.5,0),E.halfWidth.applyMatrix4(a),E.halfHeight.applyMatrix4(a),v++}else if(w.isPointLight){const E=r.point[h];E.position.setFromMatrixPosition(w.matrixWorld),E.position.applyMatrix4(x),h++}else if(w.isHemisphereLight){const E=r.hemi[b];E.direction.setFromMatrixPosition(w.matrixWorld),E.direction.transformDirection(x),b++}}}return{setup:s,setupView:l,state:r}}function t4(t){const e=new yIe(t),n=[],r=[];function i(c){u.camera=c,n.length=0,r.length=0}function o(c){n.push(c)}function a(c){r.push(c)}function s(){e.setup(n)}function l(c){e.setupView(n,c)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:s,setupLightsView:l,pushLight:o,pushShadow:a}}function _Ie(t){let e=new WeakMap;function n(i,o=0){const a=e.get(i);let s;return a===void 0?(s=new t4(t),e.set(i,[s])):o>=a.length?(s=new t4(t),a.push(s)):s=a[o],s}function r(){e=new WeakMap}return{get:n,dispose:r}}class zE extends uo{static get type(){return"MeshDepthMaterial"}constructor(e){super(),this.isMeshDepthMaterial=!0,this.depthPacking=eW,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class jE extends uo{static get type(){return"MeshDistanceMaterial"}constructor(e){super(),this.isMeshDistanceMaterial=!0,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const xIe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,bIe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function SIe(t,e,n){let r=new G_;const i=new tt,o=new tt,a=new Dn,s=new zE({depthPacking:c3}),l=new jE,u={},c=n.maxTextureSize,f={[sc]:Zo,[Zo]:sc,[sl]:sl},h=new ml({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new tt},radius:{value:4}},vertexShader:xIe,fragmentShader:bIe}),g=h.clone();g.defines.HORIZONTAL_PASS=1;const v=new vn;v.setAttribute("position",new tr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new Dr(v,h),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=CE;let _=this.type;this.render=function(P,I,O){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||P.length===0)return;const C=t.getRenderTarget(),L=t.getActiveCubeFace(),N=t.getActiveMipmapLevel(),U=t.state;U.setBlending(Zu),U.buffers.color.setClear(1,1,1,1),U.buffers.depth.setTest(!0),U.setScissorTest(!1);const z=_!==el&&this.type===el,$=_===el&&this.type!==el;for(let K=0,q=P.length;K<q;K++){const Q=P[K],F=Q.shadow;if(F===void 0){console.warn("THREE.WebGLShadowMap:",Q,"has no shadow.");continue}if(F.autoUpdate===!1&&F.needsUpdate===!1)continue;i.copy(F.mapSize);const j=F.getFrameExtents();if(i.multiply(j),o.copy(F.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(o.x=Math.floor(c/j.x),i.x=o.x*j.x,F.mapSize.x=o.x),i.y>c&&(o.y=Math.floor(c/j.y),i.y=o.y*j.y,F.mapSize.y=o.y)),F.map===null||z===!0||$===!0){const H=this.type!==el?{minFilter:oo,magFilter:oo}:{};F.map!==null&&F.map.dispose(),F.map=new pl(i.x,i.y,H),F.map.texture.name=Q.name+".shadowMap",F.camera.updateProjectionMatrix()}t.setRenderTarget(F.map),t.clear();const X=F.getViewportCount();for(let H=0;H<X;H++){const Y=F.getViewport(H);a.set(o.x*Y.x,o.y*Y.y,o.x*Y.z,o.y*Y.w),U.viewport(a),F.updateMatrices(Q,H),r=F.getFrustum(),E(I,O,F.camera,Q,this.type)}F.isPointLightShadow!==!0&&this.type===el&&S(F,O),F.needsUpdate=!1}_=this.type,x.needsUpdate=!1,t.setRenderTarget(C,L,N)};function S(P,I){const O=e.update(b);h.defines.VSM_SAMPLES!==P.blurSamples&&(h.defines.VSM_SAMPLES=P.blurSamples,g.defines.VSM_SAMPLES=P.blurSamples,h.needsUpdate=!0,g.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new pl(i.x,i.y)),h.uniforms.shadow_pass.value=P.map.texture,h.uniforms.resolution.value=P.mapSize,h.uniforms.radius.value=P.radius,t.setRenderTarget(P.mapPass),t.clear(),t.renderBufferDirect(I,null,O,h,b,null),g.uniforms.shadow_pass.value=P.mapPass.texture,g.uniforms.resolution.value=P.mapSize,g.uniforms.radius.value=P.radius,t.setRenderTarget(P.map),t.clear(),t.renderBufferDirect(I,null,O,g,b,null)}function w(P,I,O,C){let L=null;const N=O.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(N!==void 0)L=N;else if(L=O.isPointLight===!0?l:s,t.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0){const U=L.uuid,z=I.uuid;let $=u[U];$===void 0&&($={},u[U]=$);let K=$[z];K===void 0&&(K=L.clone(),$[z]=K,I.addEventListener("dispose",T)),L=K}if(L.visible=I.visible,L.wireframe=I.wireframe,C===el?L.side=I.shadowSide!==null?I.shadowSide:I.side:L.side=I.shadowSide!==null?I.shadowSide:f[I.side],L.alphaMap=I.alphaMap,L.alphaTest=I.alphaTest,L.map=I.map,L.clipShadows=I.clipShadows,L.clippingPlanes=I.clippingPlanes,L.clipIntersection=I.clipIntersection,L.displacementMap=I.displacementMap,L.displacementScale=I.displacementScale,L.displacementBias=I.displacementBias,L.wireframeLinewidth=I.wireframeLinewidth,L.linewidth=I.linewidth,O.isPointLight===!0&&L.isMeshDistanceMaterial===!0){const U=t.properties.get(L);U.light=O}return L}function E(P,I,O,C,L){if(P.visible===!1)return;if(P.layers.test(I.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&L===el)&&(!P.frustumCulled||r.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(O.matrixWorldInverse,P.matrixWorld);const z=e.update(P),$=P.material;if(Array.isArray($)){const K=z.groups;for(let q=0,Q=K.length;q<Q;q++){const F=K[q],j=$[F.materialIndex];if(j&&j.visible){const X=w(P,j,C,L);P.onBeforeShadow(t,P,I,O,z,X,F),t.renderBufferDirect(O,null,z,X,P,F),P.onAfterShadow(t,P,I,O,z,X,F)}}}else if($.visible){const K=w(P,$,C,L);P.onBeforeShadow(t,P,I,O,z,K,null),t.renderBufferDirect(O,null,z,K,P,null),P.onAfterShadow(t,P,I,O,z,K,null)}}const U=P.children;for(let z=0,$=U.length;z<$;z++)E(U[z],I,O,C,L)}function T(P){P.target.removeEventListener("dispose",T);for(const O in u){const C=u[O],L=P.target.uuid;L in C&&(C[L].dispose(),delete C[L])}}}const wIe={[Cw]:Ow,[Rw]:Dw,[Iw]:Nw,[Rd]:Lw,[Ow]:Cw,[Dw]:Rw,[Nw]:Iw,[Lw]:Rd};function MIe(t,e){function n(){let he=!1;const He=new Dn;let Le=null;const Je=new Dn(0,0,0,0);return{setMask:function(st){Le!==st&&!he&&(t.colorMask(st,st,st,st),Le=st)},setLocked:function(st){he=st},setClear:function(st,nt,vt,It,Et){Et===!0&&(st*=It,nt*=It,vt*=It),He.set(st,nt,vt,It),Je.equals(He)===!1&&(t.clearColor(st,nt,vt,It),Je.copy(He))},reset:function(){he=!1,Le=null,Je.set(-1,0,0,0)}}}function r(){let he=!1,He=!1,Le=null,Je=null,st=null;return{setReversed:function(nt){if(He!==nt){const vt=e.get("EXT_clip_control");He?vt.clipControlEXT(vt.LOWER_LEFT_EXT,vt.ZERO_TO_ONE_EXT):vt.clipControlEXT(vt.LOWER_LEFT_EXT,vt.NEGATIVE_ONE_TO_ONE_EXT);const It=st;st=null,this.setClear(It)}He=nt},getReversed:function(){return He},setTest:function(nt){nt?de(t.DEPTH_TEST):be(t.DEPTH_TEST)},setMask:function(nt){Le!==nt&&!he&&(t.depthMask(nt),Le=nt)},setFunc:function(nt){if(He&&(nt=wIe[nt]),Je!==nt){switch(nt){case Cw:t.depthFunc(t.NEVER);break;case Ow:t.depthFunc(t.ALWAYS);break;case Rw:t.depthFunc(t.LESS);break;case Rd:t.depthFunc(t.LEQUAL);break;case Iw:t.depthFunc(t.EQUAL);break;case Lw:t.depthFunc(t.GEQUAL);break;case Dw:t.depthFunc(t.GREATER);break;case Nw:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Je=nt}},setLocked:function(nt){he=nt},setClear:function(nt){st!==nt&&(He&&(nt=1-nt),t.clearDepth(nt),st=nt)},reset:function(){he=!1,Le=null,Je=null,st=null,He=!1}}}function i(){let he=!1,He=null,Le=null,Je=null,st=null,nt=null,vt=null,It=null,Et=null;return{setTest:function(Rt){he||(Rt?de(t.STENCIL_TEST):be(t.STENCIL_TEST))},setMask:function(Rt){He!==Rt&&!he&&(t.stencilMask(Rt),He=Rt)},setFunc:function(Rt,Mn,Cn){(Le!==Rt||Je!==Mn||st!==Cn)&&(t.stencilFunc(Rt,Mn,Cn),Le=Rt,Je=Mn,st=Cn)},setOp:function(Rt,Mn,Cn){(nt!==Rt||vt!==Mn||It!==Cn)&&(t.stencilOp(Rt,Mn,Cn),nt=Rt,vt=Mn,It=Cn)},setLocked:function(Rt){he=Rt},setClear:function(Rt){Et!==Rt&&(t.clearStencil(Rt),Et=Rt)},reset:function(){he=!1,He=null,Le=null,Je=null,st=null,nt=null,vt=null,It=null,Et=null}}}const o=new n,a=new r,s=new i,l=new WeakMap,u=new WeakMap;let c={},f={},h=new WeakMap,g=[],v=null,b=!1,x=null,_=null,S=null,w=null,E=null,T=null,P=null,I=new St(0,0,0),O=0,C=!1,L=null,N=null,U=null,z=null,$=null;const K=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let q=!1,Q=0;const F=t.getParameter(t.VERSION);F.indexOf("WebGL")!==-1?(Q=parseFloat(/^WebGL (\d)/.exec(F)[1]),q=Q>=1):F.indexOf("OpenGL ES")!==-1&&(Q=parseFloat(/^OpenGL ES (\d)/.exec(F)[1]),q=Q>=2);let j=null,X={};const H=t.getParameter(t.SCISSOR_BOX),Y=t.getParameter(t.VIEWPORT),se=new Dn().fromArray(H),re=new Dn().fromArray(Y);function ie(he,He,Le,Je){const st=new Uint8Array(4),nt=t.createTexture();t.bindTexture(he,nt),t.texParameteri(he,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(he,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let vt=0;vt<Le;vt++)he===t.TEXTURE_3D||he===t.TEXTURE_2D_ARRAY?t.texImage3D(He,0,t.RGBA,1,1,Je,0,t.RGBA,t.UNSIGNED_BYTE,st):t.texImage2D(He+vt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,st);return nt}const ge={};ge[t.TEXTURE_2D]=ie(t.TEXTURE_2D,t.TEXTURE_2D,1),ge[t.TEXTURE_CUBE_MAP]=ie(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ge[t.TEXTURE_2D_ARRAY]=ie(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ge[t.TEXTURE_3D]=ie(t.TEXTURE_3D,t.TEXTURE_3D,1,1),o.setClear(0,0,0,1),a.setClear(1),s.setClear(0),de(t.DEPTH_TEST),a.setFunc(Rd),xe(!1),Ne(bO),de(t.CULL_FACE),Z(Zu);function de(he){c[he]!==!0&&(t.enable(he),c[he]=!0)}function be(he){c[he]!==!1&&(t.disable(he),c[he]=!1)}function fe(he,He){return f[he]!==He?(t.bindFramebuffer(he,He),f[he]=He,he===t.DRAW_FRAMEBUFFER&&(f[t.FRAMEBUFFER]=He),he===t.FRAMEBUFFER&&(f[t.DRAW_FRAMEBUFFER]=He),!0):!1}function Te(he,He){let Le=g,Je=!1;if(he){Le=h.get(He),Le===void 0&&(Le=[],h.set(He,Le));const st=he.textures;if(Le.length!==st.length||Le[0]!==t.COLOR_ATTACHMENT0){for(let nt=0,vt=st.length;nt<vt;nt++)Le[nt]=t.COLOR_ATTACHMENT0+nt;Le.length=st.length,Je=!0}}else Le[0]!==t.BACK&&(Le[0]=t.BACK,Je=!0);Je&&t.drawBuffers(Le)}function Se(he){return v!==he?(t.useProgram(he),v=he,!0):!1}const ee={[uf]:t.FUNC_ADD,[EG]:t.FUNC_SUBTRACT,[AG]:t.FUNC_REVERSE_SUBTRACT};ee[TG]=t.MIN,ee[PG]=t.MAX;const we={[CG]:t.ZERO,[OG]:t.ONE,[RG]:t.SRC_COLOR,[Tw]:t.SRC_ALPHA,[UG]:t.SRC_ALPHA_SATURATE,[NG]:t.DST_COLOR,[LG]:t.DST_ALPHA,[IG]:t.ONE_MINUS_SRC_COLOR,[Pw]:t.ONE_MINUS_SRC_ALPHA,[kG]:t.ONE_MINUS_DST_COLOR,[DG]:t.ONE_MINUS_DST_ALPHA,[FG]:t.CONSTANT_COLOR,[BG]:t.ONE_MINUS_CONSTANT_COLOR,[zG]:t.CONSTANT_ALPHA,[jG]:t.ONE_MINUS_CONSTANT_ALPHA};function Z(he,He,Le,Je,st,nt,vt,It,Et,Rt){if(he===Zu){b===!0&&(be(t.BLEND),b=!1);return}if(b===!1&&(de(t.BLEND),b=!0),he!==MG){if(he!==x||Rt!==C){if((_!==uf||E!==uf)&&(t.blendEquation(t.FUNC_ADD),_=uf,E=uf),Rt)switch(he){case gd:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case SO:t.blendFunc(t.ONE,t.ONE);break;case wO:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MO:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}else switch(he){case gd:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case SO:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case wO:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case MO:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",he);break}S=null,w=null,T=null,P=null,I.set(0,0,0),O=0,x=he,C=Rt}return}st=st||He,nt=nt||Le,vt=vt||Je,(He!==_||st!==E)&&(t.blendEquationSeparate(ee[He],ee[st]),_=He,E=st),(Le!==S||Je!==w||nt!==T||vt!==P)&&(t.blendFuncSeparate(we[Le],we[Je],we[nt],we[vt]),S=Le,w=Je,T=nt,P=vt),(It.equals(I)===!1||Et!==O)&&(t.blendColor(It.r,It.g,It.b,Et),I.copy(It),O=Et),x=he,C=!1}function Ie(he,He){he.side===sl?be(t.CULL_FACE):de(t.CULL_FACE);let Le=he.side===Zo;He&&(Le=!Le),xe(Le),he.blending===gd&&he.transparent===!1?Z(Zu):Z(he.blending,he.blendEquation,he.blendSrc,he.blendDst,he.blendEquationAlpha,he.blendSrcAlpha,he.blendDstAlpha,he.blendColor,he.blendAlpha,he.premultipliedAlpha),a.setFunc(he.depthFunc),a.setTest(he.depthTest),a.setMask(he.depthWrite),o.setMask(he.colorWrite);const Je=he.stencilWrite;s.setTest(Je),Je&&(s.setMask(he.stencilWriteMask),s.setFunc(he.stencilFunc,he.stencilRef,he.stencilFuncMask),s.setOp(he.stencilFail,he.stencilZFail,he.stencilZPass)),Ke(he.polygonOffset,he.polygonOffsetFactor,he.polygonOffsetUnits),he.alphaToCoverage===!0?de(t.SAMPLE_ALPHA_TO_COVERAGE):be(t.SAMPLE_ALPHA_TO_COVERAGE)}function xe(he){L!==he&&(he?t.frontFace(t.CW):t.frontFace(t.CCW),L=he)}function Ne(he){he!==bG?(de(t.CULL_FACE),he!==N&&(he===bO?t.cullFace(t.BACK):he===SG?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):be(t.CULL_FACE),N=he}function Ee(he){he!==U&&(q&&t.lineWidth(he),U=he)}function Ke(he,He,Le){he?(de(t.POLYGON_OFFSET_FILL),(z!==He||$!==Le)&&(t.polygonOffset(He,Le),z=He,$=Le)):be(t.POLYGON_OFFSET_FILL)}function Ue(he){he?de(t.SCISSOR_TEST):be(t.SCISSOR_TEST)}function W(he){he===void 0&&(he=t.TEXTURE0+K-1),j!==he&&(t.activeTexture(he),j=he)}function G(he,He,Le){Le===void 0&&(j===null?Le=t.TEXTURE0+K-1:Le=j);let Je=X[Le];Je===void 0&&(Je={type:void 0,texture:void 0},X[Le]=Je),(Je.type!==he||Je.texture!==He)&&(j!==Le&&(t.activeTexture(Le),j=Le),t.bindTexture(he,He||ge[he]),Je.type=he,Je.texture=He)}function ce(){const he=X[j];he!==void 0&&he.type!==void 0&&(t.bindTexture(he.type,null),he.type=void 0,he.texture=void 0)}function Me(){try{t.compressedTexImage2D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ve(){try{t.compressedTexImage3D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ke(){try{t.texSubImage2D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function We(){try{t.texSubImage3D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Be(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function Xe(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ct(){try{t.texStorage2D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function qe(){try{t.texStorage3D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ot(){try{t.texImage2D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function ut(){try{t.texImage3D.apply(t,arguments)}catch(he){console.error("THREE.WebGLState:",he)}}function at(he){se.equals(he)===!1&&(t.scissor(he.x,he.y,he.z,he.w),se.copy(he))}function Ze(he){re.equals(he)===!1&&(t.viewport(he.x,he.y,he.z,he.w),re.copy(he))}function me(he,He){let Le=u.get(He);Le===void 0&&(Le=new WeakMap,u.set(He,Le));let Je=Le.get(he);Je===void 0&&(Je=t.getUniformBlockIndex(He,he.name),Le.set(he,Je))}function Fe(he,He){const Je=u.get(He).get(he);l.get(He)!==Je&&(t.uniformBlockBinding(He,Je,he.__bindingPointIndex),l.set(He,Je))}function pt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),c={},j=null,X={},f={},h=new WeakMap,g=[],v=null,b=!1,x=null,_=null,S=null,w=null,E=null,T=null,P=null,I=new St(0,0,0),O=0,C=!1,L=null,N=null,U=null,z=null,$=null,se.set(0,0,t.canvas.width,t.canvas.height),re.set(0,0,t.canvas.width,t.canvas.height),o.reset(),a.reset(),s.reset()}return{buffers:{color:o,depth:a,stencil:s},enable:de,disable:be,bindFramebuffer:fe,drawBuffers:Te,useProgram:Se,setBlending:Z,setMaterial:Ie,setFlipSided:xe,setCullFace:Ne,setLineWidth:Ee,setPolygonOffset:Ke,setScissorTest:Ue,activeTexture:W,bindTexture:G,unbindTexture:ce,compressedTexImage2D:Me,compressedTexImage3D:ve,texImage2D:ot,texImage3D:ut,updateUBOMapping:me,uniformBlockBinding:Fe,texStorage2D:ct,texStorage3D:qe,texSubImage2D:ke,texSubImage3D:We,compressedTexSubImage2D:Be,compressedTexSubImage3D:Xe,scissor:at,viewport:Ze,reset:pt}}function EIe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function AIe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function TIe(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function OO(t,e,n,r){const i=PIe(r);switch(n){case r3:return t*e;case o3:return t*e;case a3:return t*e*2;case DE:return t*e/i.components*i.byteLength;case z_:return t*e/i.components*i.byteLength;case s3:return t*e*2/i.components*i.byteLength;case NE:return t*e*2/i.components*i.byteLength;case i3:return t*e*3/i.components*i.byteLength;case Mo:return t*e*4/i.components*i.byteLength;case kE:return t*e*4/i.components*i.byteLength;case Hy:case Gy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Wy:case Vy:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Uw:case Bw:return Math.max(t,16)*Math.max(e,8)/4;case kw:case Fw:return Math.max(t,8)*Math.max(e,8)/2;case zw:case jw:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case $w:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Hw:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case Gw:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case Ww:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case Vw:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case Xw:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case qw:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case Yw:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case Kw:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case Zw:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case Jw:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case Qw:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case eM:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case tM:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case nM:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case Xy:case rM:case iM:return Math.ceil(t/4)*Math.ceil(e/4)*16;case l3:case oM:return Math.ceil(t/4)*Math.ceil(e/4)*8;case aM:case sM:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function PIe(t){switch(t){case dl:case e3:return{byteLength:1,components:1};case xg:case t3:case Wg:return{byteLength:2,components:1};case IE:case LE:return{byteLength:2,components:4};case uc:case RE:case ga:return{byteLength:4,components:1};case n3:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}const CIe={contain:EIe,cover:AIe,fill:TIe,getByteLength:OO};function OIe(t,e,n,r,i,o,a){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new tt,c=new WeakMap;let f;const h=new WeakMap;let g=!1;try{g=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function v(W,G){return g?new OffscreenCanvas(W,G):c_("canvas")}function b(W,G,ce){let Me=1;const ve=Ue(W);if((ve.width>ce||ve.height>ce)&&(Me=ce/Math.max(ve.width,ve.height)),Me<1)if(typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&W instanceof ImageBitmap||typeof VideoFrame<"u"&&W instanceof VideoFrame){const ke=Math.floor(Me*ve.width),We=Math.floor(Me*ve.height);f===void 0&&(f=v(ke,We));const Be=G?v(ke,We):f;return Be.width=ke,Be.height=We,Be.getContext("2d").drawImage(W,0,0,ke,We),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ve.width+"x"+ve.height+") to ("+ke+"x"+We+")."),Be}else return"data"in W&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ve.width+"x"+ve.height+")."),W;return W}function x(W){return W.generateMipmaps}function _(W){t.generateMipmap(W)}function S(W){return W.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:W.isWebGL3DRenderTarget?t.TEXTURE_3D:W.isWebGLArrayRenderTarget||W.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function w(W,G,ce,Me,ve=!1){if(W!==null){if(t[W]!==void 0)return t[W];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let ke=G;if(G===t.RED&&(ce===t.FLOAT&&(ke=t.R32F),ce===t.HALF_FLOAT&&(ke=t.R16F),ce===t.UNSIGNED_BYTE&&(ke=t.R8)),G===t.RED_INTEGER&&(ce===t.UNSIGNED_BYTE&&(ke=t.R8UI),ce===t.UNSIGNED_SHORT&&(ke=t.R16UI),ce===t.UNSIGNED_INT&&(ke=t.R32UI),ce===t.BYTE&&(ke=t.R8I),ce===t.SHORT&&(ke=t.R16I),ce===t.INT&&(ke=t.R32I)),G===t.RG&&(ce===t.FLOAT&&(ke=t.RG32F),ce===t.HALF_FLOAT&&(ke=t.RG16F),ce===t.UNSIGNED_BYTE&&(ke=t.RG8)),G===t.RG_INTEGER&&(ce===t.UNSIGNED_BYTE&&(ke=t.RG8UI),ce===t.UNSIGNED_SHORT&&(ke=t.RG16UI),ce===t.UNSIGNED_INT&&(ke=t.RG32UI),ce===t.BYTE&&(ke=t.RG8I),ce===t.SHORT&&(ke=t.RG16I),ce===t.INT&&(ke=t.RG32I)),G===t.RGB_INTEGER&&(ce===t.UNSIGNED_BYTE&&(ke=t.RGB8UI),ce===t.UNSIGNED_SHORT&&(ke=t.RGB16UI),ce===t.UNSIGNED_INT&&(ke=t.RGB32UI),ce===t.BYTE&&(ke=t.RGB8I),ce===t.SHORT&&(ke=t.RGB16I),ce===t.INT&&(ke=t.RGB32I)),G===t.RGBA_INTEGER&&(ce===t.UNSIGNED_BYTE&&(ke=t.RGBA8UI),ce===t.UNSIGNED_SHORT&&(ke=t.RGBA16UI),ce===t.UNSIGNED_INT&&(ke=t.RGBA32UI),ce===t.BYTE&&(ke=t.RGBA8I),ce===t.SHORT&&(ke=t.RGBA16I),ce===t.INT&&(ke=t.RGBA32I)),G===t.RGB&&ce===t.UNSIGNED_INT_5_9_9_9_REV&&(ke=t.RGB9_E5),G===t.RGBA){const We=ve?j_:Ln.getTransfer(Me);ce===t.FLOAT&&(ke=t.RGBA32F),ce===t.HALF_FLOAT&&(ke=t.RGBA16F),ce===t.UNSIGNED_BYTE&&(ke=We===qn?t.SRGB8_ALPHA8:t.RGBA8),ce===t.UNSIGNED_SHORT_4_4_4_4&&(ke=t.RGBA4),ce===t.UNSIGNED_SHORT_5_5_5_1&&(ke=t.RGB5_A1)}return(ke===t.R16F||ke===t.R32F||ke===t.RG16F||ke===t.RG32F||ke===t.RGBA16F||ke===t.RGBA32F)&&e.get("EXT_color_buffer_float"),ke}function E(W,G){let ce;return W?G===null||G===uc||G===Id?ce=t.DEPTH24_STENCIL8:G===ga?ce=t.DEPTH32F_STENCIL8:G===xg&&(ce=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):G===null||G===uc||G===Id?ce=t.DEPTH_COMPONENT24:G===ga?ce=t.DEPTH_COMPONENT32F:G===xg&&(ce=t.DEPTH_COMPONENT16),ce}function T(W,G){return x(W)===!0||W.isFramebufferTexture&&W.minFilter!==oo&&W.minFilter!==ai?Math.log2(Math.max(G.width,G.height))+1:W.mipmaps!==void 0&&W.mipmaps.length>0?W.mipmaps.length:W.isCompressedTexture&&Array.isArray(W.image)?G.mipmaps.length:1}function P(W){const G=W.target;G.removeEventListener("dispose",P),O(G),G.isVideoTexture&&c.delete(G)}function I(W){const G=W.target;G.removeEventListener("dispose",I),L(G)}function O(W){const G=r.get(W);if(G.__webglInit===void 0)return;const ce=W.source,Me=h.get(ce);if(Me){const ve=Me[G.__cacheKey];ve.usedTimes--,ve.usedTimes===0&&C(W),Object.keys(Me).length===0&&h.delete(ce)}r.remove(W)}function C(W){const G=r.get(W);t.deleteTexture(G.__webglTexture);const ce=W.source,Me=h.get(ce);delete Me[G.__cacheKey],a.memory.textures--}function L(W){const G=r.get(W);if(W.depthTexture&&(W.depthTexture.dispose(),r.remove(W.depthTexture)),W.isWebGLCubeRenderTarget)for(let Me=0;Me<6;Me++){if(Array.isArray(G.__webglFramebuffer[Me]))for(let ve=0;ve<G.__webglFramebuffer[Me].length;ve++)t.deleteFramebuffer(G.__webglFramebuffer[Me][ve]);else t.deleteFramebuffer(G.__webglFramebuffer[Me]);G.__webglDepthbuffer&&t.deleteRenderbuffer(G.__webglDepthbuffer[Me])}else{if(Array.isArray(G.__webglFramebuffer))for(let Me=0;Me<G.__webglFramebuffer.length;Me++)t.deleteFramebuffer(G.__webglFramebuffer[Me]);else t.deleteFramebuffer(G.__webglFramebuffer);if(G.__webglDepthbuffer&&t.deleteRenderbuffer(G.__webglDepthbuffer),G.__webglMultisampledFramebuffer&&t.deleteFramebuffer(G.__webglMultisampledFramebuffer),G.__webglColorRenderbuffer)for(let Me=0;Me<G.__webglColorRenderbuffer.length;Me++)G.__webglColorRenderbuffer[Me]&&t.deleteRenderbuffer(G.__webglColorRenderbuffer[Me]);G.__webglDepthRenderbuffer&&t.deleteRenderbuffer(G.__webglDepthRenderbuffer)}const ce=W.textures;for(let Me=0,ve=ce.length;Me<ve;Me++){const ke=r.get(ce[Me]);ke.__webglTexture&&(t.deleteTexture(ke.__webglTexture),a.memory.textures--),r.remove(ce[Me])}r.remove(W)}let N=0;function U(){N=0}function z(){const W=N;return W>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+i.maxTextures),N+=1,W}function $(W){const G=[];return G.push(W.wrapS),G.push(W.wrapT),G.push(W.wrapR||0),G.push(W.magFilter),G.push(W.minFilter),G.push(W.anisotropy),G.push(W.internalFormat),G.push(W.format),G.push(W.type),G.push(W.generateMipmaps),G.push(W.premultiplyAlpha),G.push(W.flipY),G.push(W.unpackAlignment),G.push(W.colorSpace),G.join()}function K(W,G){const ce=r.get(W);if(W.isVideoTexture&&Ee(W),W.isRenderTargetTexture===!1&&W.version>0&&ce.__version!==W.version){const Me=W.image;if(Me===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Me.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{re(ce,W,G);return}}n.bindTexture(t.TEXTURE_2D,ce.__webglTexture,t.TEXTURE0+G)}function q(W,G){const ce=r.get(W);if(W.version>0&&ce.__version!==W.version){re(ce,W,G);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ce.__webglTexture,t.TEXTURE0+G)}function Q(W,G){const ce=r.get(W);if(W.version>0&&ce.__version!==W.version){re(ce,W,G);return}n.bindTexture(t.TEXTURE_3D,ce.__webglTexture,t.TEXTURE0+G)}function F(W,G){const ce=r.get(W);if(W.version>0&&ce.__version!==W.version){ie(ce,W,G);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ce.__webglTexture,t.TEXTURE0+G)}const j={[i_]:t.REPEAT,[Es]:t.CLAMP_TO_EDGE,[o_]:t.MIRRORED_REPEAT},X={[oo]:t.NEAREST,[QI]:t.NEAREST_MIPMAP_NEAREST,[bm]:t.NEAREST_MIPMAP_LINEAR,[ai]:t.LINEAR,[$y]:t.LINEAR_MIPMAP_NEAREST,[Wl]:t.LINEAR_MIPMAP_LINEAR},H={[nW]:t.NEVER,[lW]:t.ALWAYS,[rW]:t.LESS,[f3]:t.LEQUAL,[iW]:t.EQUAL,[sW]:t.GEQUAL,[oW]:t.GREATER,[aW]:t.NOTEQUAL};function Y(W,G){if(G.type===ga&&e.has("OES_texture_float_linear")===!1&&(G.magFilter===ai||G.magFilter===$y||G.magFilter===bm||G.magFilter===Wl||G.minFilter===ai||G.minFilter===$y||G.minFilter===bm||G.minFilter===Wl)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(W,t.TEXTURE_WRAP_S,j[G.wrapS]),t.texParameteri(W,t.TEXTURE_WRAP_T,j[G.wrapT]),(W===t.TEXTURE_3D||W===t.TEXTURE_2D_ARRAY)&&t.texParameteri(W,t.TEXTURE_WRAP_R,j[G.wrapR]),t.texParameteri(W,t.TEXTURE_MAG_FILTER,X[G.magFilter]),t.texParameteri(W,t.TEXTURE_MIN_FILTER,X[G.minFilter]),G.compareFunction&&(t.texParameteri(W,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(W,t.TEXTURE_COMPARE_FUNC,H[G.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(G.magFilter===oo||G.minFilter!==bm&&G.minFilter!==Wl||G.type===ga&&e.has("OES_texture_float_linear")===!1)return;if(G.anisotropy>1||r.get(G).__currentAnisotropy){const ce=e.get("EXT_texture_filter_anisotropic");t.texParameterf(W,ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(G.anisotropy,i.getMaxAnisotropy())),r.get(G).__currentAnisotropy=G.anisotropy}}}function se(W,G){let ce=!1;W.__webglInit===void 0&&(W.__webglInit=!0,G.addEventListener("dispose",P));const Me=G.source;let ve=h.get(Me);ve===void 0&&(ve={},h.set(Me,ve));const ke=$(G);if(ke!==W.__cacheKey){ve[ke]===void 0&&(ve[ke]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,ce=!0),ve[ke].usedTimes++;const We=ve[W.__cacheKey];We!==void 0&&(ve[W.__cacheKey].usedTimes--,We.usedTimes===0&&C(G)),W.__cacheKey=ke,W.__webglTexture=ve[ke].texture}return ce}function re(W,G,ce){let Me=t.TEXTURE_2D;(G.isDataArrayTexture||G.isCompressedArrayTexture)&&(Me=t.TEXTURE_2D_ARRAY),G.isData3DTexture&&(Me=t.TEXTURE_3D);const ve=se(W,G),ke=G.source;n.bindTexture(Me,W.__webglTexture,t.TEXTURE0+ce);const We=r.get(ke);if(ke.version!==We.__version||ve===!0){n.activeTexture(t.TEXTURE0+ce);const Be=Ln.getPrimaries(Ln.workingColorSpace),Xe=G.colorSpace===Bu?null:Ln.getPrimaries(G.colorSpace),ct=G.colorSpace===Bu||Be===Xe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,G.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,G.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ct);let qe=b(G.image,!1,i.maxTextureSize);qe=Ke(G,qe);const ot=o.convert(G.format,G.colorSpace),ut=o.convert(G.type);let at=w(G.internalFormat,ot,ut,G.colorSpace,G.isVideoTexture);Y(Me,G);let Ze;const me=G.mipmaps,Fe=G.isVideoTexture!==!0,pt=We.__version===void 0||ve===!0,he=ke.dataReady,He=T(G,qe);if(G.isDepthTexture)at=E(G.format===Ld,G.type),pt&&(Fe?n.texStorage2D(t.TEXTURE_2D,1,at,qe.width,qe.height):n.texImage2D(t.TEXTURE_2D,0,at,qe.width,qe.height,0,ot,ut,null));else if(G.isDataTexture)if(me.length>0){Fe&&pt&&n.texStorage2D(t.TEXTURE_2D,He,at,me[0].width,me[0].height);for(let Le=0,Je=me.length;Le<Je;Le++)Ze=me[Le],Fe?he&&n.texSubImage2D(t.TEXTURE_2D,Le,0,0,Ze.width,Ze.height,ot,ut,Ze.data):n.texImage2D(t.TEXTURE_2D,Le,at,Ze.width,Ze.height,0,ot,ut,Ze.data);G.generateMipmaps=!1}else Fe?(pt&&n.texStorage2D(t.TEXTURE_2D,He,at,qe.width,qe.height),he&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,qe.width,qe.height,ot,ut,qe.data)):n.texImage2D(t.TEXTURE_2D,0,at,qe.width,qe.height,0,ot,ut,qe.data);else if(G.isCompressedTexture)if(G.isCompressedArrayTexture){Fe&&pt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,He,at,me[0].width,me[0].height,qe.depth);for(let Le=0,Je=me.length;Le<Je;Le++)if(Ze=me[Le],G.format!==Mo)if(ot!==null)if(Fe){if(he)if(G.layerUpdates.size>0){const st=OO(Ze.width,Ze.height,G.format,G.type);for(const nt of G.layerUpdates){const vt=Ze.data.subarray(nt*st/Ze.data.BYTES_PER_ELEMENT,(nt+1)*st/Ze.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Le,0,0,nt,Ze.width,Ze.height,1,ot,vt)}G.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Le,0,0,0,Ze.width,Ze.height,qe.depth,ot,Ze.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Le,at,Ze.width,Ze.height,qe.depth,0,Ze.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Fe?he&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,Le,0,0,0,Ze.width,Ze.height,qe.depth,ot,ut,Ze.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Le,at,Ze.width,Ze.height,qe.depth,0,ot,ut,Ze.data)}else{Fe&&pt&&n.texStorage2D(t.TEXTURE_2D,He,at,me[0].width,me[0].height);for(let Le=0,Je=me.length;Le<Je;Le++)Ze=me[Le],G.format!==Mo?ot!==null?Fe?he&&n.compressedTexSubImage2D(t.TEXTURE_2D,Le,0,0,Ze.width,Ze.height,ot,Ze.data):n.compressedTexImage2D(t.TEXTURE_2D,Le,at,Ze.width,Ze.height,0,Ze.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Fe?he&&n.texSubImage2D(t.TEXTURE_2D,Le,0,0,Ze.width,Ze.height,ot,ut,Ze.data):n.texImage2D(t.TEXTURE_2D,Le,at,Ze.width,Ze.height,0,ot,ut,Ze.data)}else if(G.isDataArrayTexture)if(Fe){if(pt&&n.texStorage3D(t.TEXTURE_2D_ARRAY,He,at,qe.width,qe.height,qe.depth),he)if(G.layerUpdates.size>0){const Le=OO(qe.width,qe.height,G.format,G.type);for(const Je of G.layerUpdates){const st=qe.data.subarray(Je*Le/qe.data.BYTES_PER_ELEMENT,(Je+1)*Le/qe.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Je,qe.width,qe.height,1,ot,ut,st)}G.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,qe.width,qe.height,qe.depth,ot,ut,qe.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,at,qe.width,qe.height,qe.depth,0,ot,ut,qe.data);else if(G.isData3DTexture)Fe?(pt&&n.texStorage3D(t.TEXTURE_3D,He,at,qe.width,qe.height,qe.depth),he&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,qe.width,qe.height,qe.depth,ot,ut,qe.data)):n.texImage3D(t.TEXTURE_3D,0,at,qe.width,qe.height,qe.depth,0,ot,ut,qe.data);else if(G.isFramebufferTexture){if(pt)if(Fe)n.texStorage2D(t.TEXTURE_2D,He,at,qe.width,qe.height);else{let Le=qe.width,Je=qe.height;for(let st=0;st<He;st++)n.texImage2D(t.TEXTURE_2D,st,at,Le,Je,0,ot,ut,null),Le>>=1,Je>>=1}}else if(me.length>0){if(Fe&&pt){const Le=Ue(me[0]);n.texStorage2D(t.TEXTURE_2D,He,at,Le.width,Le.height)}for(let Le=0,Je=me.length;Le<Je;Le++)Ze=me[Le],Fe?he&&n.texSubImage2D(t.TEXTURE_2D,Le,0,0,ot,ut,Ze):n.texImage2D(t.TEXTURE_2D,Le,at,ot,ut,Ze);G.generateMipmaps=!1}else if(Fe){if(pt){const Le=Ue(qe);n.texStorage2D(t.TEXTURE_2D,He,at,Le.width,Le.height)}he&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,ot,ut,qe)}else n.texImage2D(t.TEXTURE_2D,0,at,ot,ut,qe);x(G)&&_(Me),We.__version=ke.version,G.onUpdate&&G.onUpdate(G)}W.__version=G.version}function ie(W,G,ce){if(G.image.length!==6)return;const Me=se(W,G),ve=G.source;n.bindTexture(t.TEXTURE_CUBE_MAP,W.__webglTexture,t.TEXTURE0+ce);const ke=r.get(ve);if(ve.version!==ke.__version||Me===!0){n.activeTexture(t.TEXTURE0+ce);const We=Ln.getPrimaries(Ln.workingColorSpace),Be=G.colorSpace===Bu?null:Ln.getPrimaries(G.colorSpace),Xe=G.colorSpace===Bu||We===Be?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,G.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,G.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,G.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Xe);const ct=G.isCompressedTexture||G.image[0].isCompressedTexture,qe=G.image[0]&&G.image[0].isDataTexture,ot=[];for(let Je=0;Je<6;Je++)!ct&&!qe?ot[Je]=b(G.image[Je],!0,i.maxCubemapSize):ot[Je]=qe?G.image[Je].image:G.image[Je],ot[Je]=Ke(G,ot[Je]);const ut=ot[0],at=o.convert(G.format,G.colorSpace),Ze=o.convert(G.type),me=w(G.internalFormat,at,Ze,G.colorSpace),Fe=G.isVideoTexture!==!0,pt=ke.__version===void 0||Me===!0,he=ve.dataReady;let He=T(G,ut);Y(t.TEXTURE_CUBE_MAP,G);let Le;if(ct){Fe&&pt&&n.texStorage2D(t.TEXTURE_CUBE_MAP,He,me,ut.width,ut.height);for(let Je=0;Je<6;Je++){Le=ot[Je].mipmaps;for(let st=0;st<Le.length;st++){const nt=Le[st];G.format!==Mo?at!==null?Fe?he&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,st,0,0,nt.width,nt.height,at,nt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,st,me,nt.width,nt.height,0,nt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Fe?he&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,st,0,0,nt.width,nt.height,at,Ze,nt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,st,me,nt.width,nt.height,0,at,Ze,nt.data)}}}else{if(Le=G.mipmaps,Fe&&pt){Le.length>0&&He++;const Je=Ue(ot[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,He,me,Je.width,Je.height)}for(let Je=0;Je<6;Je++)if(qe){Fe?he&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0,0,0,ot[Je].width,ot[Je].height,at,Ze,ot[Je].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0,me,ot[Je].width,ot[Je].height,0,at,Ze,ot[Je].data);for(let st=0;st<Le.length;st++){const vt=Le[st].image[Je].image;Fe?he&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,st+1,0,0,vt.width,vt.height,at,Ze,vt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,st+1,me,vt.width,vt.height,0,at,Ze,vt.data)}}else{Fe?he&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0,0,0,at,Ze,ot[Je]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,0,me,at,Ze,ot[Je]);for(let st=0;st<Le.length;st++){const nt=Le[st];Fe?he&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,st+1,0,0,at,Ze,nt.image[Je]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Je,st+1,me,at,Ze,nt.image[Je])}}}x(G)&&_(t.TEXTURE_CUBE_MAP),ke.__version=ve.version,G.onUpdate&&G.onUpdate(G)}W.__version=G.version}function ge(W,G,ce,Me,ve,ke){const We=o.convert(ce.format,ce.colorSpace),Be=o.convert(ce.type),Xe=w(ce.internalFormat,We,Be,ce.colorSpace),ct=r.get(G),qe=r.get(ce);if(qe.__renderTarget=G,!ct.__hasExternalTextures){const ot=Math.max(1,G.width>>ke),ut=Math.max(1,G.height>>ke);ve===t.TEXTURE_3D||ve===t.TEXTURE_2D_ARRAY?n.texImage3D(ve,ke,Xe,ot,ut,G.depth,0,We,Be,null):n.texImage2D(ve,ke,Xe,ot,ut,0,We,Be,null)}n.bindFramebuffer(t.FRAMEBUFFER,W),Ne(G)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Me,ve,qe.__webglTexture,0,xe(G)):(ve===t.TEXTURE_2D||ve>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ve<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Me,ve,qe.__webglTexture,ke),n.bindFramebuffer(t.FRAMEBUFFER,null)}function de(W,G,ce){if(t.bindRenderbuffer(t.RENDERBUFFER,W),G.depthBuffer){const Me=G.depthTexture,ve=Me&&Me.isDepthTexture?Me.type:null,ke=E(G.stencilBuffer,ve),We=G.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Be=xe(G);Ne(G)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Be,ke,G.width,G.height):ce?t.renderbufferStorageMultisample(t.RENDERBUFFER,Be,ke,G.width,G.height):t.renderbufferStorage(t.RENDERBUFFER,ke,G.width,G.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,We,t.RENDERBUFFER,W)}else{const Me=G.textures;for(let ve=0;ve<Me.length;ve++){const ke=Me[ve],We=o.convert(ke.format,ke.colorSpace),Be=o.convert(ke.type),Xe=w(ke.internalFormat,We,Be,ke.colorSpace),ct=xe(G);ce&&Ne(G)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ct,Xe,G.width,G.height):Ne(G)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ct,Xe,G.width,G.height):t.renderbufferStorage(t.RENDERBUFFER,Xe,G.width,G.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function be(W,G){if(G&&G.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,W),!(G.depthTexture&&G.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Me=r.get(G.depthTexture);Me.__renderTarget=G,(!Me.__webglTexture||G.depthTexture.image.width!==G.width||G.depthTexture.image.height!==G.height)&&(G.depthTexture.image.width=G.width,G.depthTexture.image.height=G.height,G.depthTexture.needsUpdate=!0),K(G.depthTexture,0);const ve=Me.__webglTexture,ke=xe(G);if(G.depthTexture.format===vd)Ne(G)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ve,0,ke):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ve,0);else if(G.depthTexture.format===Ld)Ne(G)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ve,0,ke):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ve,0);else throw new Error("Unknown depthTexture format")}function fe(W){const G=r.get(W),ce=W.isWebGLCubeRenderTarget===!0;if(G.__boundDepthTexture!==W.depthTexture){const Me=W.depthTexture;if(G.__depthDisposeCallback&&G.__depthDisposeCallback(),Me){const ve=()=>{delete G.__boundDepthTexture,delete G.__depthDisposeCallback,Me.removeEventListener("dispose",ve)};Me.addEventListener("dispose",ve),G.__depthDisposeCallback=ve}G.__boundDepthTexture=Me}if(W.depthTexture&&!G.__autoAllocateDepthBuffer){if(ce)throw new Error("target.depthTexture not supported in Cube render targets");be(G.__webglFramebuffer,W)}else if(ce){G.__webglDepthbuffer=[];for(let Me=0;Me<6;Me++)if(n.bindFramebuffer(t.FRAMEBUFFER,G.__webglFramebuffer[Me]),G.__webglDepthbuffer[Me]===void 0)G.__webglDepthbuffer[Me]=t.createRenderbuffer(),de(G.__webglDepthbuffer[Me],W,!1);else{const ve=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ke=G.__webglDepthbuffer[Me];t.bindRenderbuffer(t.RENDERBUFFER,ke),t.framebufferRenderbuffer(t.FRAMEBUFFER,ve,t.RENDERBUFFER,ke)}}else if(n.bindFramebuffer(t.FRAMEBUFFER,G.__webglFramebuffer),G.__webglDepthbuffer===void 0)G.__webglDepthbuffer=t.createRenderbuffer(),de(G.__webglDepthbuffer,W,!1);else{const Me=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ve=G.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,ve),t.framebufferRenderbuffer(t.FRAMEBUFFER,Me,t.RENDERBUFFER,ve)}n.bindFramebuffer(t.FRAMEBUFFER,null)}function Te(W,G,ce){const Me=r.get(W);G!==void 0&&ge(Me.__webglFramebuffer,W,W.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ce!==void 0&&fe(W)}function Se(W){const G=W.texture,ce=r.get(W),Me=r.get(G);W.addEventListener("dispose",I);const ve=W.textures,ke=W.isWebGLCubeRenderTarget===!0,We=ve.length>1;if(We||(Me.__webglTexture===void 0&&(Me.__webglTexture=t.createTexture()),Me.__version=G.version,a.memory.textures++),ke){ce.__webglFramebuffer=[];for(let Be=0;Be<6;Be++)if(G.mipmaps&&G.mipmaps.length>0){ce.__webglFramebuffer[Be]=[];for(let Xe=0;Xe<G.mipmaps.length;Xe++)ce.__webglFramebuffer[Be][Xe]=t.createFramebuffer()}else ce.__webglFramebuffer[Be]=t.createFramebuffer()}else{if(G.mipmaps&&G.mipmaps.length>0){ce.__webglFramebuffer=[];for(let Be=0;Be<G.mipmaps.length;Be++)ce.__webglFramebuffer[Be]=t.createFramebuffer()}else ce.__webglFramebuffer=t.createFramebuffer();if(We)for(let Be=0,Xe=ve.length;Be<Xe;Be++){const ct=r.get(ve[Be]);ct.__webglTexture===void 0&&(ct.__webglTexture=t.createTexture(),a.memory.textures++)}if(W.samples>0&&Ne(W)===!1){ce.__webglMultisampledFramebuffer=t.createFramebuffer(),ce.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ce.__webglMultisampledFramebuffer);for(let Be=0;Be<ve.length;Be++){const Xe=ve[Be];ce.__webglColorRenderbuffer[Be]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ce.__webglColorRenderbuffer[Be]);const ct=o.convert(Xe.format,Xe.colorSpace),qe=o.convert(Xe.type),ot=w(Xe.internalFormat,ct,qe,Xe.colorSpace,W.isXRRenderTarget===!0),ut=xe(W);t.renderbufferStorageMultisample(t.RENDERBUFFER,ut,ot,W.width,W.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Be,t.RENDERBUFFER,ce.__webglColorRenderbuffer[Be])}t.bindRenderbuffer(t.RENDERBUFFER,null),W.depthBuffer&&(ce.__webglDepthRenderbuffer=t.createRenderbuffer(),de(ce.__webglDepthRenderbuffer,W,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ke){n.bindTexture(t.TEXTURE_CUBE_MAP,Me.__webglTexture),Y(t.TEXTURE_CUBE_MAP,G);for(let Be=0;Be<6;Be++)if(G.mipmaps&&G.mipmaps.length>0)for(let Xe=0;Xe<G.mipmaps.length;Xe++)ge(ce.__webglFramebuffer[Be][Xe],W,G,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,Xe);else ge(ce.__webglFramebuffer[Be],W,G,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Be,0);x(G)&&_(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(We){for(let Be=0,Xe=ve.length;Be<Xe;Be++){const ct=ve[Be],qe=r.get(ct);n.bindTexture(t.TEXTURE_2D,qe.__webglTexture),Y(t.TEXTURE_2D,ct),ge(ce.__webglFramebuffer,W,ct,t.COLOR_ATTACHMENT0+Be,t.TEXTURE_2D,0),x(ct)&&_(t.TEXTURE_2D)}n.unbindTexture()}else{let Be=t.TEXTURE_2D;if((W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(Be=W.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Be,Me.__webglTexture),Y(Be,G),G.mipmaps&&G.mipmaps.length>0)for(let Xe=0;Xe<G.mipmaps.length;Xe++)ge(ce.__webglFramebuffer[Xe],W,G,t.COLOR_ATTACHMENT0,Be,Xe);else ge(ce.__webglFramebuffer,W,G,t.COLOR_ATTACHMENT0,Be,0);x(G)&&_(Be),n.unbindTexture()}W.depthBuffer&&fe(W)}function ee(W){const G=W.textures;for(let ce=0,Me=G.length;ce<Me;ce++){const ve=G[ce];if(x(ve)){const ke=S(W),We=r.get(ve).__webglTexture;n.bindTexture(ke,We),_(ke),n.unbindTexture()}}}const we=[],Z=[];function Ie(W){if(W.samples>0){if(Ne(W)===!1){const G=W.textures,ce=W.width,Me=W.height;let ve=t.COLOR_BUFFER_BIT;const ke=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,We=r.get(W),Be=G.length>1;if(Be)for(let Xe=0;Xe<G.length;Xe++)n.bindFramebuffer(t.FRAMEBUFFER,We.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,We.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,We.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,We.__webglFramebuffer);for(let Xe=0;Xe<G.length;Xe++){if(W.resolveDepthBuffer&&(W.depthBuffer&&(ve|=t.DEPTH_BUFFER_BIT),W.stencilBuffer&&W.resolveStencilBuffer&&(ve|=t.STENCIL_BUFFER_BIT)),Be){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,We.__webglColorRenderbuffer[Xe]);const ct=r.get(G[Xe]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,ct,0)}t.blitFramebuffer(0,0,ce,Me,0,0,ce,Me,ve,t.NEAREST),l===!0&&(we.length=0,Z.length=0,we.push(t.COLOR_ATTACHMENT0+Xe),W.depthBuffer&&W.resolveDepthBuffer===!1&&(we.push(ke),Z.push(ke),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Z)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,we))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Be)for(let Xe=0;Xe<G.length;Xe++){n.bindFramebuffer(t.FRAMEBUFFER,We.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.RENDERBUFFER,We.__webglColorRenderbuffer[Xe]);const ct=r.get(G[Xe]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,We.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.TEXTURE_2D,ct,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,We.__webglMultisampledFramebuffer)}else if(W.depthBuffer&&W.resolveDepthBuffer===!1&&l){const G=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[G])}}}function xe(W){return Math.min(i.maxSamples,W.samples)}function Ne(W){const G=r.get(W);return W.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&G.__useRenderToTexture!==!1}function Ee(W){const G=a.render.frame;c.get(W)!==G&&(c.set(W,G),W.update())}function Ke(W,G){const ce=W.colorSpace,Me=W.format,ve=W.type;return W.isCompressedTexture===!0||W.isVideoTexture===!0||ce!==Xd&&ce!==Bu&&(Ln.getTransfer(ce)===qn?(Me!==Mo||ve!==dl)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ce)),G}function Ue(W){return typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement?(u.width=W.naturalWidth||W.width,u.height=W.naturalHeight||W.height):typeof VideoFrame<"u"&&W instanceof VideoFrame?(u.width=W.displayWidth,u.height=W.displayHeight):(u.width=W.width,u.height=W.height),u}this.allocateTextureUnit=z,this.resetTextureUnits=U,this.setTexture2D=K,this.setTexture2DArray=q,this.setTexture3D=Q,this.setTextureCube=F,this.rebindTextures=Te,this.setupRenderTarget=Se,this.updateRenderTargetMipmap=ee,this.updateMultisampleRenderTarget=Ie,this.setupDepthRenderbuffer=fe,this.setupFrameBufferTexture=ge,this.useMultisampledRTT=Ne}function SW(t,e){function n(r,i=Bu){let o;const a=Ln.getTransfer(i);if(r===dl)return t.UNSIGNED_BYTE;if(r===IE)return t.UNSIGNED_SHORT_4_4_4_4;if(r===LE)return t.UNSIGNED_SHORT_5_5_5_1;if(r===n3)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===e3)return t.BYTE;if(r===t3)return t.SHORT;if(r===xg)return t.UNSIGNED_SHORT;if(r===RE)return t.INT;if(r===uc)return t.UNSIGNED_INT;if(r===ga)return t.FLOAT;if(r===Wg)return t.HALF_FLOAT;if(r===r3)return t.ALPHA;if(r===i3)return t.RGB;if(r===Mo)return t.RGBA;if(r===o3)return t.LUMINANCE;if(r===a3)return t.LUMINANCE_ALPHA;if(r===vd)return t.DEPTH_COMPONENT;if(r===Ld)return t.DEPTH_STENCIL;if(r===DE)return t.RED;if(r===z_)return t.RED_INTEGER;if(r===s3)return t.RG;if(r===NE)return t.RG_INTEGER;if(r===kE)return t.RGBA_INTEGER;if(r===Hy||r===Gy||r===Wy||r===Vy)if(a===qn)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(r===Hy)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===Gy)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Wy)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Vy)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(r===Hy)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===Gy)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Wy)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Vy)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===kw||r===Uw||r===Fw||r===Bw)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(r===kw)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===Uw)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===Fw)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===Bw)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===zw||r===jw||r===$w)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(r===zw||r===jw)return a===qn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(r===$w)return a===qn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===Hw||r===Gw||r===Ww||r===Vw||r===Xw||r===qw||r===Yw||r===Kw||r===Zw||r===Jw||r===Qw||r===eM||r===tM||r===nM)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(r===Hw)return a===qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===Gw)return a===qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===Ww)return a===qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===Vw)return a===qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===Xw)return a===qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===qw)return a===qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===Yw)return a===qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===Kw)return a===qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===Zw)return a===qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===Jw)return a===qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===Qw)return a===qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===eM)return a===qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===tM)return a===qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===nM)return a===qn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===Xy||r===rM||r===iM)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(r===Xy)return a===qn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===rM)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===iM)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===l3||r===oM||r===aM||r===sM)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(r===Xy)return o.COMPRESSED_RED_RGTC1_EXT;if(r===oM)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===aM)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===sM)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===Id?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class wW extends oi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Mm extends Bn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const RIe={type:"move"};class g2{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Mm,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Mm,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ae,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ae),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Mm,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ae,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ae),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,o=null,a=null;const s=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){a=!0;for(const b of e.hand.values()){const x=n.getJointPose(b,r),_=this._getHandJoint(u,b);x!==null&&(_.matrix.fromArray(x.transform.matrix),_.matrix.decompose(_.position,_.rotation,_.scale),_.matrixWorldNeedsUpdate=!0,_.jointRadius=x.radius),_.visible=x!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=c.position.distanceTo(f.position),g=.02,v=.005;u.inputState.pinching&&h>g+v?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=g-v&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(o=n.getPose(e.gripSpace,r),o!==null&&(l.matrix.fromArray(o.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,o.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(o.linearVelocity)):l.hasLinearVelocity=!1,o.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(o.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&o!==null&&(i=o),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(RIe)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=o!==null),u!==null&&(u.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Mm;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const IIe=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,LIe=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class DIe{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new Er,o=e.properties.get(i);o.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new ml({vertexShader:IIe,fragmentShader:LIe,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Dr(new gc(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class NIe extends vl{constructor(e,n){super();const r=this;let i=null,o=1,a=null,s="local-floor",l=1,u=null,c=null,f=null,h=null,g=null,v=null;const b=new DIe,x=n.getContextAttributes();let _=null,S=null;const w=[],E=[],T=new tt;let P=null;const I=new oi;I.viewport=new Dn;const O=new oi;O.viewport=new Dn;const C=[I,O],L=new wW;let N=null,U=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(re){let ie=w[re];return ie===void 0&&(ie=new g2,w[re]=ie),ie.getTargetRaySpace()},this.getControllerGrip=function(re){let ie=w[re];return ie===void 0&&(ie=new g2,w[re]=ie),ie.getGripSpace()},this.getHand=function(re){let ie=w[re];return ie===void 0&&(ie=new g2,w[re]=ie),ie.getHandSpace()};function z(re){const ie=E.indexOf(re.inputSource);if(ie===-1)return;const ge=w[ie];ge!==void 0&&(ge.update(re.inputSource,re.frame,u||a),ge.dispatchEvent({type:re.type,data:re.inputSource}))}function $(){i.removeEventListener("select",z),i.removeEventListener("selectstart",z),i.removeEventListener("selectend",z),i.removeEventListener("squeeze",z),i.removeEventListener("squeezestart",z),i.removeEventListener("squeezeend",z),i.removeEventListener("end",$),i.removeEventListener("inputsourceschange",K);for(let re=0;re<w.length;re++){const ie=E[re];ie!==null&&(E[re]=null,w[re].disconnect(ie))}N=null,U=null,b.reset(),e.setRenderTarget(_),g=null,h=null,f=null,i=null,S=null,se.stop(),r.isPresenting=!1,e.setPixelRatio(P),e.setSize(T.width,T.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(re){o=re,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(re){s=re,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||a},this.setReferenceSpace=function(re){u=re},this.getBaseLayer=function(){return h!==null?h:g},this.getBinding=function(){return f},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(re){if(i=re,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",z),i.addEventListener("selectstart",z),i.addEventListener("selectend",z),i.addEventListener("squeeze",z),i.addEventListener("squeezestart",z),i.addEventListener("squeezeend",z),i.addEventListener("end",$),i.addEventListener("inputsourceschange",K),x.xrCompatible!==!0&&await n.makeXRCompatible(),P=e.getPixelRatio(),e.getSize(T),i.renderState.layers===void 0){const ie={antialias:x.antialias,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:o};g=new XRWebGLLayer(i,n,ie),i.updateRenderState({baseLayer:g}),e.setPixelRatio(1),e.setSize(g.framebufferWidth,g.framebufferHeight,!1),S=new pl(g.framebufferWidth,g.framebufferHeight,{format:Mo,type:dl,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}else{let ie=null,ge=null,de=null;x.depth&&(de=x.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ie=x.stencil?Ld:vd,ge=x.stencil?Id:uc);const be={colorFormat:n.RGBA8,depthFormat:de,scaleFactor:o};f=new XRWebGLBinding(i,n),h=f.createProjectionLayer(be),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),S=new pl(h.textureWidth,h.textureHeight,{format:Mo,type:dl,depthTexture:new y3(h.textureWidth,h.textureHeight,ge,void 0,void 0,void 0,void 0,void 0,void 0,ie),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1})}S.isXRRenderTarget=!0,this.setFoveation(l),u=null,a=await i.requestReferenceSpace(s),se.setContext(i),se.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return b.getDepthTexture()};function K(re){for(let ie=0;ie<re.removed.length;ie++){const ge=re.removed[ie],de=E.indexOf(ge);de>=0&&(E[de]=null,w[de].disconnect(ge))}for(let ie=0;ie<re.added.length;ie++){const ge=re.added[ie];let de=E.indexOf(ge);if(de===-1){for(let fe=0;fe<w.length;fe++)if(fe>=E.length){E.push(ge),de=fe;break}else if(E[fe]===null){E[fe]=ge,de=fe;break}if(de===-1)break}const be=w[de];be&&be.connect(ge)}}const q=new ae,Q=new ae;function F(re,ie,ge){q.setFromMatrixPosition(ie.matrixWorld),Q.setFromMatrixPosition(ge.matrixWorld);const de=q.distanceTo(Q),be=ie.projectionMatrix.elements,fe=ge.projectionMatrix.elements,Te=be[14]/(be[10]-1),Se=be[14]/(be[10]+1),ee=(be[9]+1)/be[5],we=(be[9]-1)/be[5],Z=(be[8]-1)/be[0],Ie=(fe[8]+1)/fe[0],xe=Te*Z,Ne=Te*Ie,Ee=de/(-Z+Ie),Ke=Ee*-Z;if(ie.matrixWorld.decompose(re.position,re.quaternion,re.scale),re.translateX(Ke),re.translateZ(Ee),re.matrixWorld.compose(re.position,re.quaternion,re.scale),re.matrixWorldInverse.copy(re.matrixWorld).invert(),be[10]===-1)re.projectionMatrix.copy(ie.projectionMatrix),re.projectionMatrixInverse.copy(ie.projectionMatrixInverse);else{const Ue=Te+Ee,W=Se+Ee,G=xe-Ke,ce=Ne+(de-Ke),Me=ee*Se/W*Ue,ve=we*Se/W*Ue;re.projectionMatrix.makePerspective(G,ce,Me,ve,Ue,W),re.projectionMatrixInverse.copy(re.projectionMatrix).invert()}}function j(re,ie){ie===null?re.matrixWorld.copy(re.matrix):re.matrixWorld.multiplyMatrices(ie.matrixWorld,re.matrix),re.matrixWorldInverse.copy(re.matrixWorld).invert()}this.updateCamera=function(re){if(i===null)return;let ie=re.near,ge=re.far;b.texture!==null&&(b.depthNear>0&&(ie=b.depthNear),b.depthFar>0&&(ge=b.depthFar)),L.near=O.near=I.near=ie,L.far=O.far=I.far=ge,(N!==L.near||U!==L.far)&&(i.updateRenderState({depthNear:L.near,depthFar:L.far}),N=L.near,U=L.far),I.layers.mask=re.layers.mask|2,O.layers.mask=re.layers.mask|4,L.layers.mask=I.layers.mask|O.layers.mask;const de=re.parent,be=L.cameras;j(L,de);for(let fe=0;fe<be.length;fe++)j(be[fe],de);be.length===2?F(L,I,O):L.projectionMatrix.copy(I.projectionMatrix),X(re,L,de)};function X(re,ie,ge){ge===null?re.matrix.copy(ie.matrixWorld):(re.matrix.copy(ge.matrixWorld),re.matrix.invert(),re.matrix.multiply(ie.matrixWorld)),re.matrix.decompose(re.position,re.quaternion,re.scale),re.updateMatrixWorld(!0),re.projectionMatrix.copy(ie.projectionMatrix),re.projectionMatrixInverse.copy(ie.projectionMatrixInverse),re.isPerspectiveCamera&&(re.fov=bg*2*Math.atan(1/re.projectionMatrix.elements[5]),re.zoom=1)}this.getCamera=function(){return L},this.getFoveation=function(){if(!(h===null&&g===null))return l},this.setFoveation=function(re){l=re,h!==null&&(h.fixedFoveation=re),g!==null&&g.fixedFoveation!==void 0&&(g.fixedFoveation=re)},this.hasDepthSensing=function(){return b.texture!==null},this.getDepthSensingMesh=function(){return b.getMesh(L)};let H=null;function Y(re,ie){if(c=ie.getViewerPose(u||a),v=ie,c!==null){const ge=c.views;g!==null&&(e.setRenderTargetFramebuffer(S,g.framebuffer),e.setRenderTarget(S));let de=!1;ge.length!==L.cameras.length&&(L.cameras.length=0,de=!0);for(let fe=0;fe<ge.length;fe++){const Te=ge[fe];let Se=null;if(g!==null)Se=g.getViewport(Te);else{const we=f.getViewSubImage(h,Te);Se=we.viewport,fe===0&&(e.setRenderTargetTextures(S,we.colorTexture,h.ignoreDepthValues?void 0:we.depthStencilTexture),e.setRenderTarget(S))}let ee=C[fe];ee===void 0&&(ee=new oi,ee.layers.enable(fe),ee.viewport=new Dn,C[fe]=ee),ee.matrix.fromArray(Te.transform.matrix),ee.matrix.decompose(ee.position,ee.quaternion,ee.scale),ee.projectionMatrix.fromArray(Te.projectionMatrix),ee.projectionMatrixInverse.copy(ee.projectionMatrix).invert(),ee.viewport.set(Se.x,Se.y,Se.width,Se.height),fe===0&&(L.matrix.copy(ee.matrix),L.matrix.decompose(L.position,L.quaternion,L.scale)),de===!0&&L.cameras.push(ee)}const be=i.enabledFeatures;if(be&&be.includes("depth-sensing")){const fe=f.getDepthInformation(ge[0]);fe&&fe.isValid&&fe.texture&&b.init(e,fe,i.renderState)}}for(let ge=0;ge<w.length;ge++){const de=E[ge],be=w[ge];de!==null&&be!==void 0&&be.update(de,ie,u||a)}H&&H(re,ie),ie.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ie}),v=null}const se=new vW;se.setAnimationLoop(Y),this.setAnimationLoop=function(re){H=re},this.dispose=function(){}}}const Nh=new Za,kIe=new Jt;function UIe(t,e){function n(x,_){x.matrixAutoUpdate===!0&&x.updateMatrix(),_.value.copy(x.matrix)}function r(x,_){_.color.getRGB(x.fogColor.value,pW(t)),_.isFog?(x.fogNear.value=_.near,x.fogFar.value=_.far):_.isFogExp2&&(x.fogDensity.value=_.density)}function i(x,_,S,w,E){_.isMeshBasicMaterial||_.isMeshLambertMaterial?o(x,_):_.isMeshToonMaterial?(o(x,_),f(x,_)):_.isMeshPhongMaterial?(o(x,_),c(x,_)):_.isMeshStandardMaterial?(o(x,_),h(x,_),_.isMeshPhysicalMaterial&&g(x,_,E)):_.isMeshMatcapMaterial?(o(x,_),v(x,_)):_.isMeshDepthMaterial?o(x,_):_.isMeshDistanceMaterial?(o(x,_),b(x,_)):_.isMeshNormalMaterial?o(x,_):_.isLineBasicMaterial?(a(x,_),_.isLineDashedMaterial&&s(x,_)):_.isPointsMaterial?l(x,_,S,w):_.isSpriteMaterial?u(x,_):_.isShadowMaterial?(x.color.value.copy(_.color),x.opacity.value=_.opacity):_.isShaderMaterial&&(_.uniformsNeedUpdate=!1)}function o(x,_){x.opacity.value=_.opacity,_.color&&x.diffuse.value.copy(_.color),_.emissive&&x.emissive.value.copy(_.emissive).multiplyScalar(_.emissiveIntensity),_.map&&(x.map.value=_.map,n(_.map,x.mapTransform)),_.alphaMap&&(x.alphaMap.value=_.alphaMap,n(_.alphaMap,x.alphaMapTransform)),_.bumpMap&&(x.bumpMap.value=_.bumpMap,n(_.bumpMap,x.bumpMapTransform),x.bumpScale.value=_.bumpScale,_.side===Zo&&(x.bumpScale.value*=-1)),_.normalMap&&(x.normalMap.value=_.normalMap,n(_.normalMap,x.normalMapTransform),x.normalScale.value.copy(_.normalScale),_.side===Zo&&x.normalScale.value.negate()),_.displacementMap&&(x.displacementMap.value=_.displacementMap,n(_.displacementMap,x.displacementMapTransform),x.displacementScale.value=_.displacementScale,x.displacementBias.value=_.displacementBias),_.emissiveMap&&(x.emissiveMap.value=_.emissiveMap,n(_.emissiveMap,x.emissiveMapTransform)),_.specularMap&&(x.specularMap.value=_.specularMap,n(_.specularMap,x.specularMapTransform)),_.alphaTest>0&&(x.alphaTest.value=_.alphaTest);const S=e.get(_),w=S.envMap,E=S.envMapRotation;w&&(x.envMap.value=w,Nh.copy(E),Nh.x*=-1,Nh.y*=-1,Nh.z*=-1,w.isCubeTexture&&w.isRenderTargetTexture===!1&&(Nh.y*=-1,Nh.z*=-1),x.envMapRotation.value.setFromMatrix4(kIe.makeRotationFromEuler(Nh)),x.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=_.reflectivity,x.ior.value=_.ior,x.refractionRatio.value=_.refractionRatio),_.lightMap&&(x.lightMap.value=_.lightMap,x.lightMapIntensity.value=_.lightMapIntensity,n(_.lightMap,x.lightMapTransform)),_.aoMap&&(x.aoMap.value=_.aoMap,x.aoMapIntensity.value=_.aoMapIntensity,n(_.aoMap,x.aoMapTransform))}function a(x,_){x.diffuse.value.copy(_.color),x.opacity.value=_.opacity,_.map&&(x.map.value=_.map,n(_.map,x.mapTransform))}function s(x,_){x.dashSize.value=_.dashSize,x.totalSize.value=_.dashSize+_.gapSize,x.scale.value=_.scale}function l(x,_,S,w){x.diffuse.value.copy(_.color),x.opacity.value=_.opacity,x.size.value=_.size*S,x.scale.value=w*.5,_.map&&(x.map.value=_.map,n(_.map,x.uvTransform)),_.alphaMap&&(x.alphaMap.value=_.alphaMap,n(_.alphaMap,x.alphaMapTransform)),_.alphaTest>0&&(x.alphaTest.value=_.alphaTest)}function u(x,_){x.diffuse.value.copy(_.color),x.opacity.value=_.opacity,x.rotation.value=_.rotation,_.map&&(x.map.value=_.map,n(_.map,x.mapTransform)),_.alphaMap&&(x.alphaMap.value=_.alphaMap,n(_.alphaMap,x.alphaMapTransform)),_.alphaTest>0&&(x.alphaTest.value=_.alphaTest)}function c(x,_){x.specular.value.copy(_.specular),x.shininess.value=Math.max(_.shininess,1e-4)}function f(x,_){_.gradientMap&&(x.gradientMap.value=_.gradientMap)}function h(x,_){x.metalness.value=_.metalness,_.metalnessMap&&(x.metalnessMap.value=_.metalnessMap,n(_.metalnessMap,x.metalnessMapTransform)),x.roughness.value=_.roughness,_.roughnessMap&&(x.roughnessMap.value=_.roughnessMap,n(_.roughnessMap,x.roughnessMapTransform)),_.envMap&&(x.envMapIntensity.value=_.envMapIntensity)}function g(x,_,S){x.ior.value=_.ior,_.sheen>0&&(x.sheenColor.value.copy(_.sheenColor).multiplyScalar(_.sheen),x.sheenRoughness.value=_.sheenRoughness,_.sheenColorMap&&(x.sheenColorMap.value=_.sheenColorMap,n(_.sheenColorMap,x.sheenColorMapTransform)),_.sheenRoughnessMap&&(x.sheenRoughnessMap.value=_.sheenRoughnessMap,n(_.sheenRoughnessMap,x.sheenRoughnessMapTransform))),_.clearcoat>0&&(x.clearcoat.value=_.clearcoat,x.clearcoatRoughness.value=_.clearcoatRoughness,_.clearcoatMap&&(x.clearcoatMap.value=_.clearcoatMap,n(_.clearcoatMap,x.clearcoatMapTransform)),_.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=_.clearcoatRoughnessMap,n(_.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),_.clearcoatNormalMap&&(x.clearcoatNormalMap.value=_.clearcoatNormalMap,n(_.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(_.clearcoatNormalScale),_.side===Zo&&x.clearcoatNormalScale.value.negate())),_.dispersion>0&&(x.dispersion.value=_.dispersion),_.iridescence>0&&(x.iridescence.value=_.iridescence,x.iridescenceIOR.value=_.iridescenceIOR,x.iridescenceThicknessMinimum.value=_.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=_.iridescenceThicknessRange[1],_.iridescenceMap&&(x.iridescenceMap.value=_.iridescenceMap,n(_.iridescenceMap,x.iridescenceMapTransform)),_.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=_.iridescenceThicknessMap,n(_.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),_.transmission>0&&(x.transmission.value=_.transmission,x.transmissionSamplerMap.value=S.texture,x.transmissionSamplerSize.value.set(S.width,S.height),_.transmissionMap&&(x.transmissionMap.value=_.transmissionMap,n(_.transmissionMap,x.transmissionMapTransform)),x.thickness.value=_.thickness,_.thicknessMap&&(x.thicknessMap.value=_.thicknessMap,n(_.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=_.attenuationDistance,x.attenuationColor.value.copy(_.attenuationColor)),_.anisotropy>0&&(x.anisotropyVector.value.set(_.anisotropy*Math.cos(_.anisotropyRotation),_.anisotropy*Math.sin(_.anisotropyRotation)),_.anisotropyMap&&(x.anisotropyMap.value=_.anisotropyMap,n(_.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=_.specularIntensity,x.specularColor.value.copy(_.specularColor),_.specularColorMap&&(x.specularColorMap.value=_.specularColorMap,n(_.specularColorMap,x.specularColorMapTransform)),_.specularIntensityMap&&(x.specularIntensityMap.value=_.specularIntensityMap,n(_.specularIntensityMap,x.specularIntensityMapTransform))}function v(x,_){_.matcap&&(x.matcap.value=_.matcap)}function b(x,_){const S=e.get(_).light;x.referencePosition.value.setFromMatrixPosition(S.matrixWorld),x.nearDistance.value=S.shadow.camera.near,x.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function FIe(t,e,n,r){let i={},o={},a=[];const s=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(S,w){const E=w.program;r.uniformBlockBinding(S,E)}function u(S,w){let E=i[S.id];E===void 0&&(v(S),E=c(S),i[S.id]=E,S.addEventListener("dispose",x));const T=w.program;r.updateUBOMapping(S,T);const P=e.render.frame;o[S.id]!==P&&(h(S),o[S.id]=P)}function c(S){const w=f();S.__bindingPointIndex=w;const E=t.createBuffer(),T=S.__size,P=S.usage;return t.bindBuffer(t.UNIFORM_BUFFER,E),t.bufferData(t.UNIFORM_BUFFER,T,P),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,w,E),E}function f(){for(let S=0;S<s;S++)if(a.indexOf(S)===-1)return a.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(S){const w=i[S.id],E=S.uniforms,T=S.__cache;t.bindBuffer(t.UNIFORM_BUFFER,w);for(let P=0,I=E.length;P<I;P++){const O=Array.isArray(E[P])?E[P]:[E[P]];for(let C=0,L=O.length;C<L;C++){const N=O[C];if(g(N,P,C,T)===!0){const U=N.__offset,z=Array.isArray(N.value)?N.value:[N.value];let $=0;for(let K=0;K<z.length;K++){const q=z[K],Q=b(q);typeof q=="number"||typeof q=="boolean"?(N.__data[0]=q,t.bufferSubData(t.UNIFORM_BUFFER,U+$,N.__data)):q.isMatrix3?(N.__data[0]=q.elements[0],N.__data[1]=q.elements[1],N.__data[2]=q.elements[2],N.__data[3]=0,N.__data[4]=q.elements[3],N.__data[5]=q.elements[4],N.__data[6]=q.elements[5],N.__data[7]=0,N.__data[8]=q.elements[6],N.__data[9]=q.elements[7],N.__data[10]=q.elements[8],N.__data[11]=0):(q.toArray(N.__data,$),$+=Q.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,U,N.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function g(S,w,E,T){const P=S.value,I=w+"_"+E;if(T[I]===void 0)return typeof P=="number"||typeof P=="boolean"?T[I]=P:T[I]=P.clone(),!0;{const O=T[I];if(typeof P=="number"||typeof P=="boolean"){if(O!==P)return T[I]=P,!0}else if(O.equals(P)===!1)return O.copy(P),!0}return!1}function v(S){const w=S.uniforms;let E=0;const T=16;for(let I=0,O=w.length;I<O;I++){const C=Array.isArray(w[I])?w[I]:[w[I]];for(let L=0,N=C.length;L<N;L++){const U=C[L],z=Array.isArray(U.value)?U.value:[U.value];for(let $=0,K=z.length;$<K;$++){const q=z[$],Q=b(q),F=E%T,j=F%Q.boundary,X=F+j;E+=j,X!==0&&T-X<Q.storage&&(E+=T-X),U.__data=new Float32Array(Q.storage/Float32Array.BYTES_PER_ELEMENT),U.__offset=E,E+=Q.storage}}}const P=E%T;return P>0&&(E+=T-P),S.__size=E,S.__cache={},this}function b(S){const w={boundary:0,storage:0};return typeof S=="number"||typeof S=="boolean"?(w.boundary=4,w.storage=4):S.isVector2?(w.boundary=8,w.storage=8):S.isVector3||S.isColor?(w.boundary=16,w.storage=12):S.isVector4?(w.boundary=16,w.storage=16):S.isMatrix3?(w.boundary=48,w.storage=48):S.isMatrix4?(w.boundary=64,w.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),w}function x(S){const w=S.target;w.removeEventListener("dispose",x);const E=a.indexOf(w.__bindingPointIndex);a.splice(E,1),t.deleteBuffer(i[w.id]),delete i[w.id],delete o[w.id]}function _(){for(const S in i)t.deleteBuffer(i[S]);a=[],i={},o={}}return{bind:l,update:u,dispose:_}}class MW{constructor(e={}){const{canvas:n=cW(),context:r=null,depth:i=!0,stencil:o=!1,alpha:a=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1,reverseDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let g;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");g=r.getContextAttributes().alpha}else g=a;const v=new Uint32Array(4),b=new Int32Array(4);let x=null,_=null;const S=[],w=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=fa,this.toneMapping=Zl,this.toneMappingExposure=1;const E=this;let T=!1,P=0,I=0,O=null,C=-1,L=null;const N=new Dn,U=new Dn;let z=null;const $=new St(0);let K=0,q=n.width,Q=n.height,F=1,j=null,X=null;const H=new Dn(0,0,q,Q),Y=new Dn(0,0,q,Q);let se=!1;const re=new G_;let ie=!1,ge=!1;const de=new Jt,be=new Jt,fe=new ae,Te=new Dn,Se={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ee=!1;function we(){return O===null?F:1}let Z=r;function Ie(te,Ce){return n.getContext(te,Ce)}try{const te={alpha:!0,depth:i,stencil:o,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${PE}`),n.addEventListener("webglcontextlost",Je,!1),n.addEventListener("webglcontextrestored",st,!1),n.addEventListener("webglcontextcreationerror",nt,!1),Z===null){const Ce="webgl2";if(Z=Ie(Ce,te),Z===null)throw Ie(Ce)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(te){throw console.error("THREE.WebGLRenderer: "+te.message),te}let xe,Ne,Ee,Ke,Ue,W,G,ce,Me,ve,ke,We,Be,Xe,ct,qe,ot,ut,at,Ze,me,Fe,pt,he;function He(){xe=new GOe(Z),xe.init(),Fe=new SW(Z,xe),Ne=new FOe(Z,xe,e,Fe),Ee=new MIe(Z,xe),Ne.reverseDepthBuffer&&h&&Ee.buffers.depth.setReversed(!0),Ke=new XOe(Z),Ue=new fIe,W=new OIe(Z,xe,Ee,Ue,Ne,Fe,Ke),G=new zOe(E),ce=new HOe(E),Me=new ePe(Z),pt=new kOe(Z,Me),ve=new WOe(Z,Me,Ke,pt),ke=new YOe(Z,ve,Me,Ke),at=new qOe(Z,Ne,W),qe=new BOe(Ue),We=new cIe(E,G,ce,xe,Ne,pt,qe),Be=new UIe(E,Ue),Xe=new dIe,ct=new _Ie(xe),ut=new NOe(E,G,ce,Ee,ke,g,l),ot=new SIe(E,ke,Ne),he=new FIe(Z,Ke,Ne,Ee),Ze=new UOe(Z,xe,Ke),me=new VOe(Z,xe,Ke),Ke.programs=We.programs,E.capabilities=Ne,E.extensions=xe,E.properties=Ue,E.renderLists=Xe,E.shadowMap=ot,E.state=Ee,E.info=Ke}He();const Le=new NIe(E,Z);this.xr=Le,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const te=xe.get("WEBGL_lose_context");te&&te.loseContext()},this.forceContextRestore=function(){const te=xe.get("WEBGL_lose_context");te&&te.restoreContext()},this.getPixelRatio=function(){return F},this.setPixelRatio=function(te){te!==void 0&&(F=te,this.setSize(q,Q,!1))},this.getSize=function(te){return te.set(q,Q)},this.setSize=function(te,Ce,je=!0){if(Le.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}q=te,Q=Ce,n.width=Math.floor(te*F),n.height=Math.floor(Ce*F),je===!0&&(n.style.width=te+"px",n.style.height=Ce+"px"),this.setViewport(0,0,te,Ce)},this.getDrawingBufferSize=function(te){return te.set(q*F,Q*F).floor()},this.setDrawingBufferSize=function(te,Ce,je){q=te,Q=Ce,F=je,n.width=Math.floor(te*je),n.height=Math.floor(Ce*je),this.setViewport(0,0,te,Ce)},this.getCurrentViewport=function(te){return te.copy(N)},this.getViewport=function(te){return te.copy(H)},this.setViewport=function(te,Ce,je,ze){te.isVector4?H.set(te.x,te.y,te.z,te.w):H.set(te,Ce,je,ze),Ee.viewport(N.copy(H).multiplyScalar(F).round())},this.getScissor=function(te){return te.copy(Y)},this.setScissor=function(te,Ce,je,ze){te.isVector4?Y.set(te.x,te.y,te.z,te.w):Y.set(te,Ce,je,ze),Ee.scissor(U.copy(Y).multiplyScalar(F).round())},this.getScissorTest=function(){return se},this.setScissorTest=function(te){Ee.setScissorTest(se=te)},this.setOpaqueSort=function(te){j=te},this.setTransparentSort=function(te){X=te},this.getClearColor=function(te){return te.copy(ut.getClearColor())},this.setClearColor=function(){ut.setClearColor.apply(ut,arguments)},this.getClearAlpha=function(){return ut.getClearAlpha()},this.setClearAlpha=function(){ut.setClearAlpha.apply(ut,arguments)},this.clear=function(te=!0,Ce=!0,je=!0){let ze=0;if(te){let Pe=!1;if(O!==null){const ft=O.texture.format;Pe=ft===kE||ft===NE||ft===z_}if(Pe){const ft=O.texture.type,Ve=ft===dl||ft===uc||ft===xg||ft===Id||ft===IE||ft===LE,wt=ut.getClearColor(),Pt=ut.getClearAlpha(),Bt=wt.r,Gt=wt.g,At=wt.b;Ve?(v[0]=Bt,v[1]=Gt,v[2]=At,v[3]=Pt,Z.clearBufferuiv(Z.COLOR,0,v)):(b[0]=Bt,b[1]=Gt,b[2]=At,b[3]=Pt,Z.clearBufferiv(Z.COLOR,0,b))}else ze|=Z.COLOR_BUFFER_BIT}Ce&&(ze|=Z.DEPTH_BUFFER_BIT),je&&(ze|=Z.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Z.clear(ze)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Je,!1),n.removeEventListener("webglcontextrestored",st,!1),n.removeEventListener("webglcontextcreationerror",nt,!1),Xe.dispose(),ct.dispose(),Ue.dispose(),G.dispose(),ce.dispose(),ke.dispose(),pt.dispose(),he.dispose(),We.dispose(),Le.dispose(),Le.removeEventListener("sessionstart",Zn),Le.removeEventListener("sessionend",Ti),Ar.stop()};function Je(te){te.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function st(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const te=Ke.autoReset,Ce=ot.enabled,je=ot.autoUpdate,ze=ot.needsUpdate,Pe=ot.type;He(),Ke.autoReset=te,ot.enabled=Ce,ot.autoUpdate=je,ot.needsUpdate=ze,ot.type=Pe}function nt(te){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",te.statusMessage)}function vt(te){const Ce=te.target;Ce.removeEventListener("dispose",vt),It(Ce)}function It(te){Et(te),Ue.remove(te)}function Et(te){const Ce=Ue.get(te).programs;Ce!==void 0&&(Ce.forEach(function(je){We.releaseProgram(je)}),te.isShaderMaterial&&We.releaseShaderCache(te))}this.renderBufferDirect=function(te,Ce,je,ze,Pe,ft){Ce===null&&(Ce=Se);const Ve=Pe.isMesh&&Pe.matrixWorld.determinant()<0,wt=vc(te,Ce,je,ze,Pe);Ee.setMaterial(ze,Ve);let Pt=je.index,Bt=1;if(ze.wireframe===!0){if(Pt=ve.getWireframeAttribute(je),Pt===void 0)return;Bt=2}const Gt=je.drawRange,At=je.attributes.position;let en=Gt.start*Bt,fn=(Gt.start+Gt.count)*Bt;ft!==null&&(en=Math.max(en,ft.start*Bt),fn=Math.min(fn,(ft.start+ft.count)*Bt)),Pt!==null?(en=Math.max(en,0),fn=Math.min(fn,Pt.count)):At!=null&&(en=Math.max(en,0),fn=Math.min(fn,At.count));const Ft=fn-en;if(Ft<0||Ft===1/0)return;pt.setup(Pe,ze,wt,je,Pt);let tn,nn=Ze;if(Pt!==null&&(tn=Me.get(Pt),nn=me,nn.setIndex(tn)),Pe.isMesh)ze.wireframe===!0?(Ee.setLineWidth(ze.wireframeLinewidth*we()),nn.setMode(Z.LINES)):nn.setMode(Z.TRIANGLES);else if(Pe.isLine){let gt=ze.linewidth;gt===void 0&&(gt=1),Ee.setLineWidth(gt*we()),Pe.isLineSegments?nn.setMode(Z.LINES):Pe.isLineLoop?nn.setMode(Z.LINE_LOOP):nn.setMode(Z.LINE_STRIP)}else Pe.isPoints?nn.setMode(Z.POINTS):Pe.isSprite&&nn.setMode(Z.TRIANGLES);if(Pe.isBatchedMesh)if(Pe._multiDrawInstances!==null)nn.renderMultiDrawInstances(Pe._multiDrawStarts,Pe._multiDrawCounts,Pe._multiDrawCount,Pe._multiDrawInstances);else if(xe.get("WEBGL_multi_draw"))nn.renderMultiDraw(Pe._multiDrawStarts,Pe._multiDrawCounts,Pe._multiDrawCount);else{const gt=Pe._multiDrawStarts,jn=Pe._multiDrawCounts,sn=Pe._multiDrawCount,Jn=Pt?Me.get(Pt).bytesPerElement:1,nr=Ue.get(ze).currentProgram.getUniforms();for(let Qn=0;Qn<sn;Qn++)nr.setValue(Z,"_gl_DrawID",Qn),nn.render(gt[Qn]/Jn,jn[Qn])}else if(Pe.isInstancedMesh)nn.renderInstances(en,Ft,Pe.count);else if(je.isInstancedBufferGeometry){const gt=je._maxInstanceCount!==void 0?je._maxInstanceCount:1/0,jn=Math.min(je.instanceCount,gt);nn.renderInstances(en,Ft,jn)}else nn.render(en,Ft)};function Rt(te,Ce,je){te.transparent===!0&&te.side===sl&&te.forceSinglePass===!1?(te.side=Zo,te.needsUpdate=!0,co(te,Ce,je),te.side=sc,te.needsUpdate=!0,co(te,Ce,je),te.side=sl):co(te,Ce,je)}this.compile=function(te,Ce,je=null){je===null&&(je=te),_=ct.get(je),_.init(Ce),w.push(_),je.traverseVisible(function(Pe){Pe.isLight&&Pe.layers.test(Ce.layers)&&(_.pushLight(Pe),Pe.castShadow&&_.pushShadow(Pe))}),te!==je&&te.traverseVisible(function(Pe){Pe.isLight&&Pe.layers.test(Ce.layers)&&(_.pushLight(Pe),Pe.castShadow&&_.pushShadow(Pe))}),_.setupLights();const ze=new Set;return te.traverse(function(Pe){if(!(Pe.isMesh||Pe.isPoints||Pe.isLine||Pe.isSprite))return;const ft=Pe.material;if(ft)if(Array.isArray(ft))for(let Ve=0;Ve<ft.length;Ve++){const wt=ft[Ve];Rt(wt,je,Pe),ze.add(wt)}else Rt(ft,je,Pe),ze.add(ft)}),w.pop(),_=null,ze},this.compileAsync=function(te,Ce,je=null){const ze=this.compile(te,Ce,je);return new Promise(Pe=>{function ft(){if(ze.forEach(function(Ve){Ue.get(Ve).currentProgram.isReady()&&ze.delete(Ve)}),ze.size===0){Pe(te);return}setTimeout(ft,10)}xe.get("KHR_parallel_shader_compile")!==null?ft():setTimeout(ft,10)})};let Mn=null;function Cn(te){Mn&&Mn(te)}function Zn(){Ar.stop()}function Ti(){Ar.start()}const Ar=new vW;Ar.setAnimationLoop(Cn),typeof self<"u"&&Ar.setContext(self),this.setAnimationLoop=function(te){Mn=te,Le.setAnimationLoop(te),te===null?Ar.stop():Ar.start()},Le.addEventListener("sessionstart",Zn),Le.addEventListener("sessionend",Ti),this.render=function(te,Ce){if(Ce!==void 0&&Ce.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;if(te.matrixWorldAutoUpdate===!0&&te.updateMatrixWorld(),Ce.parent===null&&Ce.matrixWorldAutoUpdate===!0&&Ce.updateMatrixWorld(),Le.enabled===!0&&Le.isPresenting===!0&&(Le.cameraAutoUpdate===!0&&Le.updateCamera(Ce),Ce=Le.getCamera()),te.isScene===!0&&te.onBeforeRender(E,te,Ce,O),_=ct.get(te,w.length),_.init(Ce),w.push(_),be.multiplyMatrices(Ce.projectionMatrix,Ce.matrixWorldInverse),re.setFromProjectionMatrix(be),ge=this.localClippingEnabled,ie=qe.init(this.clippingPlanes,ge),x=Xe.get(te,S.length),x.init(),S.push(x),Le.enabled===!0&&Le.isPresenting===!0){const ft=E.xr.getDepthSensingMesh();ft!==null&&gi(ft,Ce,-1/0,E.sortObjects)}gi(te,Ce,0,E.sortObjects),x.finish(),E.sortObjects===!0&&x.sort(j,X),ee=Le.enabled===!1||Le.isPresenting===!1||Le.hasDepthSensing()===!1,ee&&ut.addToRenderList(x,te),this.info.render.frame++,ie===!0&&qe.beginShadows();const je=_.state.shadowsArray;ot.render(je,te,Ce),ie===!0&&qe.endShadows(),this.info.autoReset===!0&&this.info.reset();const ze=x.opaque,Pe=x.transmissive;if(_.setupLights(),Ce.isArrayCamera){const ft=Ce.cameras;if(Pe.length>0)for(let Ve=0,wt=ft.length;Ve<wt;Ve++){const Pt=ft[Ve];Pi(ze,Pe,te,Pt)}ee&&ut.render(te);for(let Ve=0,wt=ft.length;Ve<wt;Ve++){const Pt=ft[Ve];To(x,te,Pt,Pt.viewport)}}else Pe.length>0&&Pi(ze,Pe,te,Ce),ee&&ut.render(te),To(x,te,Ce);O!==null&&(W.updateMultisampleRenderTarget(O),W.updateRenderTargetMipmap(O)),te.isScene===!0&&te.onAfterRender(E,te,Ce),pt.resetDefaultState(),C=-1,L=null,w.pop(),w.length>0?(_=w[w.length-1],ie===!0&&qe.setGlobalState(E.clippingPlanes,_.state.camera)):_=null,S.pop(),S.length>0?x=S[S.length-1]:x=null};function gi(te,Ce,je,ze){if(te.visible===!1)return;if(te.layers.test(Ce.layers)){if(te.isGroup)je=te.renderOrder;else if(te.isLOD)te.autoUpdate===!0&&te.update(Ce);else if(te.isLight)_.pushLight(te),te.castShadow&&_.pushShadow(te);else if(te.isSprite){if(!te.frustumCulled||re.intersectsSprite(te)){ze&&Te.setFromMatrixPosition(te.matrixWorld).applyMatrix4(be);const Ve=ke.update(te),wt=te.material;wt.visible&&x.push(te,Ve,wt,je,Te.z,null)}}else if((te.isMesh||te.isLine||te.isPoints)&&(!te.frustumCulled||re.intersectsObject(te))){const Ve=ke.update(te),wt=te.material;if(ze&&(te.boundingSphere!==void 0?(te.boundingSphere===null&&te.computeBoundingSphere(),Te.copy(te.boundingSphere.center)):(Ve.boundingSphere===null&&Ve.computeBoundingSphere(),Te.copy(Ve.boundingSphere.center)),Te.applyMatrix4(te.matrixWorld).applyMatrix4(be)),Array.isArray(wt)){const Pt=Ve.groups;for(let Bt=0,Gt=Pt.length;Bt<Gt;Bt++){const At=Pt[Bt],en=wt[At.materialIndex];en&&en.visible&&x.push(te,Ve,en,je,Te.z,At)}}else wt.visible&&x.push(te,Ve,wt,je,Te.z,null)}}const ft=te.children;for(let Ve=0,wt=ft.length;Ve<wt;Ve++)gi(ft[Ve],Ce,je,ze)}function To(te,Ce,je,ze){const Pe=te.opaque,ft=te.transmissive,Ve=te.transparent;_.setupLightsView(je),ie===!0&&qe.setGlobalState(E.clippingPlanes,je),ze&&Ee.viewport(N.copy(ze)),Pe.length>0&&Ci(Pe,Ce,je),ft.length>0&&Ci(ft,Ce,je),Ve.length>0&&Ci(Ve,Ce,je),Ee.buffers.depth.setTest(!0),Ee.buffers.depth.setMask(!0),Ee.buffers.color.setMask(!0),Ee.setPolygonOffset(!1)}function Pi(te,Ce,je,ze){if((je.isScene===!0?je.overrideMaterial:null)!==null)return;_.state.transmissionRenderTarget[ze.id]===void 0&&(_.state.transmissionRenderTarget[ze.id]=new pl(1,1,{generateMipmaps:!0,type:xe.has("EXT_color_buffer_half_float")||xe.has("EXT_color_buffer_float")?Wg:dl,minFilter:Wl,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Ln.workingColorSpace}));const ft=_.state.transmissionRenderTarget[ze.id],Ve=ze.viewport||N;ft.setSize(Ve.z,Ve.w);const wt=E.getRenderTarget();E.setRenderTarget(ft),E.getClearColor($),K=E.getClearAlpha(),K<1&&E.setClearColor(16777215,.5),E.clear(),ee&&ut.render(je);const Pt=E.toneMapping;E.toneMapping=Zl;const Bt=ze.viewport;if(ze.viewport!==void 0&&(ze.viewport=void 0),_.setupLightsView(ze),ie===!0&&qe.setGlobalState(E.clippingPlanes,ze),Ci(te,je,ze),W.updateMultisampleRenderTarget(ft),W.updateRenderTargetMipmap(ft),xe.has("WEBGL_multisampled_render_to_texture")===!1){let Gt=!1;for(let At=0,en=Ce.length;At<en;At++){const fn=Ce[At],Ft=fn.object,tn=fn.geometry,nn=fn.material,gt=fn.group;if(nn.side===sl&&Ft.layers.test(ze.layers)){const jn=nn.side;nn.side=Zo,nn.needsUpdate=!0,Ur(Ft,je,ze,tn,nn,gt),nn.side=jn,nn.needsUpdate=!0,Gt=!0}}Gt===!0&&(W.updateMultisampleRenderTarget(ft),W.updateRenderTargetMipmap(ft))}E.setRenderTarget(wt),E.setClearColor($,K),Bt!==void 0&&(ze.viewport=Bt),E.toneMapping=Pt}function Ci(te,Ce,je){const ze=Ce.isScene===!0?Ce.overrideMaterial:null;for(let Pe=0,ft=te.length;Pe<ft;Pe++){const Ve=te[Pe],wt=Ve.object,Pt=Ve.geometry,Bt=ze===null?Ve.material:ze,Gt=Ve.group;wt.layers.test(je.layers)&&Ur(wt,Ce,je,Pt,Bt,Gt)}}function Ur(te,Ce,je,ze,Pe,ft){te.onBeforeRender(E,Ce,je,ze,Pe,ft),te.modelViewMatrix.multiplyMatrices(je.matrixWorldInverse,te.matrixWorld),te.normalMatrix.getNormalMatrix(te.modelViewMatrix),Pe.onBeforeRender(E,Ce,je,ze,te,ft),Pe.transparent===!0&&Pe.side===sl&&Pe.forceSinglePass===!1?(Pe.side=Zo,Pe.needsUpdate=!0,E.renderBufferDirect(je,Ce,ze,Pe,te,ft),Pe.side=sc,Pe.needsUpdate=!0,E.renderBufferDirect(je,Ce,ze,Pe,te,ft),Pe.side=sl):E.renderBufferDirect(je,Ce,ze,Pe,te,ft),te.onAfterRender(E,Ce,je,ze,Pe,ft)}function co(te,Ce,je){Ce.isScene!==!0&&(Ce=Se);const ze=Ue.get(te),Pe=_.state.lights,ft=_.state.shadowsArray,Ve=Pe.state.version,wt=We.getParameters(te,Pe.state,ft,Ce,je),Pt=We.getProgramCacheKey(wt);let Bt=ze.programs;ze.environment=te.isMeshStandardMaterial?Ce.environment:null,ze.fog=Ce.fog,ze.envMap=(te.isMeshStandardMaterial?ce:G).get(te.envMap||ze.environment),ze.envMapRotation=ze.environment!==null&&te.envMap===null?Ce.environmentRotation:te.envMapRotation,Bt===void 0&&(te.addEventListener("dispose",vt),Bt=new Map,ze.programs=Bt);let Gt=Bt.get(Pt);if(Gt!==void 0){if(ze.currentProgram===Gt&&ze.lightsStateVersion===Ve)return xl(te,wt),Gt}else wt.uniforms=We.getUniforms(te),te.onBeforeCompile(wt,E),Gt=We.acquireProgram(wt,Pt),Bt.set(Pt,Gt),ze.uniforms=wt.uniforms;const At=ze.uniforms;return(!te.isShaderMaterial&&!te.isRawShaderMaterial||te.clipping===!0)&&(At.clippingPlanes=qe.uniform),xl(te,wt),ze.needsLights=Ds(te),ze.lightsStateVersion=Ve,ze.needsLights&&(At.ambientLightColor.value=Pe.state.ambient,At.lightProbe.value=Pe.state.probe,At.directionalLights.value=Pe.state.directional,At.directionalLightShadows.value=Pe.state.directionalShadow,At.spotLights.value=Pe.state.spot,At.spotLightShadows.value=Pe.state.spotShadow,At.rectAreaLights.value=Pe.state.rectArea,At.ltc_1.value=Pe.state.rectAreaLTC1,At.ltc_2.value=Pe.state.rectAreaLTC2,At.pointLights.value=Pe.state.point,At.pointLightShadows.value=Pe.state.pointShadow,At.hemisphereLights.value=Pe.state.hemi,At.directionalShadowMap.value=Pe.state.directionalShadowMap,At.directionalShadowMatrix.value=Pe.state.directionalShadowMatrix,At.spotShadowMap.value=Pe.state.spotShadowMap,At.spotLightMatrix.value=Pe.state.spotLightMatrix,At.spotLightMap.value=Pe.state.spotLightMap,At.pointShadowMap.value=Pe.state.pointShadowMap,At.pointShadowMatrix.value=Pe.state.pointShadowMatrix),ze.currentProgram=Gt,ze.uniformsList=null,Gt}function iu(te){if(te.uniformsList===null){const Ce=te.currentProgram.getUniforms();te.uniformsList=jb.seqWithValue(Ce.seq,te.uniforms)}return te.uniformsList}function xl(te,Ce){const je=Ue.get(te);je.outputColorSpace=Ce.outputColorSpace,je.batching=Ce.batching,je.batchingColor=Ce.batchingColor,je.instancing=Ce.instancing,je.instancingColor=Ce.instancingColor,je.instancingMorph=Ce.instancingMorph,je.skinning=Ce.skinning,je.morphTargets=Ce.morphTargets,je.morphNormals=Ce.morphNormals,je.morphColors=Ce.morphColors,je.morphTargetsCount=Ce.morphTargetsCount,je.numClippingPlanes=Ce.numClippingPlanes,je.numIntersection=Ce.numClipIntersection,je.vertexAlphas=Ce.vertexAlphas,je.vertexTangents=Ce.vertexTangents,je.toneMapping=Ce.toneMapping}function vc(te,Ce,je,ze,Pe){Ce.isScene!==!0&&(Ce=Se),W.resetTextureUnits();const ft=Ce.fog,Ve=ze.isMeshStandardMaterial?Ce.environment:null,wt=O===null?E.outputColorSpace:O.isXRRenderTarget===!0?O.texture.colorSpace:Xd,Pt=(ze.isMeshStandardMaterial?ce:G).get(ze.envMap||Ve),Bt=ze.vertexColors===!0&&!!je.attributes.color&&je.attributes.color.itemSize===4,Gt=!!je.attributes.tangent&&(!!ze.normalMap||ze.anisotropy>0),At=!!je.morphAttributes.position,en=!!je.morphAttributes.normal,fn=!!je.morphAttributes.color;let Ft=Zl;ze.toneMapped&&(O===null||O.isXRRenderTarget===!0)&&(Ft=E.toneMapping);const tn=je.morphAttributes.position||je.morphAttributes.normal||je.morphAttributes.color,nn=tn!==void 0?tn.length:0,gt=Ue.get(ze),jn=_.state.lights;if(ie===!0&&(ge===!0||te!==L)){const Xn=te===L&&ze.id===C;qe.setState(ze,te,Xn)}let sn=!1;ze.version===gt.__version?(gt.needsLights&&gt.lightsStateVersion!==jn.state.version||gt.outputColorSpace!==wt||Pe.isBatchedMesh&&gt.batching===!1||!Pe.isBatchedMesh&&gt.batching===!0||Pe.isBatchedMesh&&gt.batchingColor===!0&&Pe.colorTexture===null||Pe.isBatchedMesh&&gt.batchingColor===!1&&Pe.colorTexture!==null||Pe.isInstancedMesh&&gt.instancing===!1||!Pe.isInstancedMesh&&gt.instancing===!0||Pe.isSkinnedMesh&&gt.skinning===!1||!Pe.isSkinnedMesh&&gt.skinning===!0||Pe.isInstancedMesh&&gt.instancingColor===!0&&Pe.instanceColor===null||Pe.isInstancedMesh&&gt.instancingColor===!1&&Pe.instanceColor!==null||Pe.isInstancedMesh&&gt.instancingMorph===!0&&Pe.morphTexture===null||Pe.isInstancedMesh&&gt.instancingMorph===!1&&Pe.morphTexture!==null||gt.envMap!==Pt||ze.fog===!0&&gt.fog!==ft||gt.numClippingPlanes!==void 0&&(gt.numClippingPlanes!==qe.numPlanes||gt.numIntersection!==qe.numIntersection)||gt.vertexAlphas!==Bt||gt.vertexTangents!==Gt||gt.morphTargets!==At||gt.morphNormals!==en||gt.morphColors!==fn||gt.toneMapping!==Ft||gt.morphTargetsCount!==nn)&&(sn=!0):(sn=!0,gt.__version=ze.version);let Jn=gt.currentProgram;sn===!0&&(Jn=co(ze,Ce,Pe));let nr=!1,Qn=!1,qi=!1;const On=Jn.getUniforms(),Xr=gt.uniforms;if(Ee.useProgram(Jn.program)&&(nr=!0,Qn=!0,qi=!0),ze.id!==C&&(C=ze.id,Qn=!0),nr||L!==te){Ee.buffers.depth.getReversed()?(de.copy(te.projectionMatrix),E2e(de),A2e(de),On.setValue(Z,"projectionMatrix",de)):On.setValue(Z,"projectionMatrix",te.projectionMatrix),On.setValue(Z,"viewMatrix",te.matrixWorldInverse);const vi=On.map.cameraPosition;vi!==void 0&&vi.setValue(Z,fe.setFromMatrixPosition(te.matrixWorld)),Ne.logarithmicDepthBuffer&&On.setValue(Z,"logDepthBufFC",2/(Math.log(te.far+1)/Math.LN2)),(ze.isMeshPhongMaterial||ze.isMeshToonMaterial||ze.isMeshLambertMaterial||ze.isMeshBasicMaterial||ze.isMeshStandardMaterial||ze.isShaderMaterial)&&On.setValue(Z,"isOrthographic",te.isOrthographicCamera===!0),L!==te&&(L=te,Qn=!0,qi=!0)}if(Pe.isSkinnedMesh){On.setOptional(Z,Pe,"bindMatrix"),On.setOptional(Z,Pe,"bindMatrixInverse");const Xn=Pe.skeleton;Xn&&(Xn.boneTexture===null&&Xn.computeBoneTexture(),On.setValue(Z,"boneTexture",Xn.boneTexture,W))}Pe.isBatchedMesh&&(On.setOptional(Z,Pe,"batchingTexture"),On.setValue(Z,"batchingTexture",Pe._matricesTexture,W),On.setOptional(Z,Pe,"batchingIdTexture"),On.setValue(Z,"batchingIdTexture",Pe._indirectTexture,W),On.setOptional(Z,Pe,"batchingColorTexture"),Pe._colorsTexture!==null&&On.setValue(Z,"batchingColorTexture",Pe._colorsTexture,W));const Fr=je.morphAttributes;if((Fr.position!==void 0||Fr.normal!==void 0||Fr.color!==void 0)&&at.update(Pe,je,Jn),(Qn||gt.receiveShadow!==Pe.receiveShadow)&&(gt.receiveShadow=Pe.receiveShadow,On.setValue(Z,"receiveShadow",Pe.receiveShadow)),ze.isMeshGouraudMaterial&&ze.envMap!==null&&(Xr.envMap.value=Pt,Xr.flipEnvMap.value=Pt.isCubeTexture&&Pt.isRenderTargetTexture===!1?-1:1),ze.isMeshStandardMaterial&&ze.envMap===null&&Ce.environment!==null&&(Xr.envMapIntensity.value=Ce.environmentIntensity),Qn&&(On.setValue(Z,"toneMappingExposure",E.toneMappingExposure),gt.needsLights&&yc(Xr,qi),ft&&ze.fog===!0&&Be.refreshFogUniforms(Xr,ft),Be.refreshMaterialUniforms(Xr,ze,F,Q,_.state.transmissionRenderTarget[te.id]),jb.upload(Z,iu(gt),Xr,W)),ze.isShaderMaterial&&ze.uniformsNeedUpdate===!0&&(jb.upload(Z,iu(gt),Xr,W),ze.uniformsNeedUpdate=!1),ze.isSpriteMaterial&&On.setValue(Z,"center",Pe.center),On.setValue(Z,"modelViewMatrix",Pe.modelViewMatrix),On.setValue(Z,"normalMatrix",Pe.normalMatrix),On.setValue(Z,"modelMatrix",Pe.matrixWorld),ze.isShaderMaterial||ze.isRawShaderMaterial){const Xn=ze.uniformsGroups;for(let vi=0,Oi=Xn.length;vi<Oi;vi++){const bl=Xn[vi];he.update(bl,Jn),he.bind(bl,Jn)}}return Jn}function yc(te,Ce){te.ambientLightColor.needsUpdate=Ce,te.lightProbe.needsUpdate=Ce,te.directionalLights.needsUpdate=Ce,te.directionalLightShadows.needsUpdate=Ce,te.pointLights.needsUpdate=Ce,te.pointLightShadows.needsUpdate=Ce,te.spotLights.needsUpdate=Ce,te.spotLightShadows.needsUpdate=Ce,te.rectAreaLights.needsUpdate=Ce,te.hemisphereLights.needsUpdate=Ce}function Ds(te){return te.isMeshLambertMaterial||te.isMeshToonMaterial||te.isMeshPhongMaterial||te.isMeshStandardMaterial||te.isShadowMaterial||te.isShaderMaterial&&te.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return O},this.setRenderTargetTextures=function(te,Ce,je){Ue.get(te.texture).__webglTexture=Ce,Ue.get(te.depthTexture).__webglTexture=je;const ze=Ue.get(te);ze.__hasExternalTextures=!0,ze.__autoAllocateDepthBuffer=je===void 0,ze.__autoAllocateDepthBuffer||xe.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ze.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(te,Ce){const je=Ue.get(te);je.__webglFramebuffer=Ce,je.__useDefaultFramebuffer=Ce===void 0},this.setRenderTarget=function(te,Ce=0,je=0){O=te,P=Ce,I=je;let ze=!0,Pe=null,ft=!1,Ve=!1;if(te){const Pt=Ue.get(te);if(Pt.__useDefaultFramebuffer!==void 0)Ee.bindFramebuffer(Z.FRAMEBUFFER,null),ze=!1;else if(Pt.__webglFramebuffer===void 0)W.setupRenderTarget(te);else if(Pt.__hasExternalTextures)W.rebindTextures(te,Ue.get(te.texture).__webglTexture,Ue.get(te.depthTexture).__webglTexture);else if(te.depthBuffer){const At=te.depthTexture;if(Pt.__boundDepthTexture!==At){if(At!==null&&Ue.has(At)&&(te.width!==At.image.width||te.height!==At.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");W.setupDepthRenderbuffer(te)}}const Bt=te.texture;(Bt.isData3DTexture||Bt.isDataArrayTexture||Bt.isCompressedArrayTexture)&&(Ve=!0);const Gt=Ue.get(te).__webglFramebuffer;te.isWebGLCubeRenderTarget?(Array.isArray(Gt[Ce])?Pe=Gt[Ce][je]:Pe=Gt[Ce],ft=!0):te.samples>0&&W.useMultisampledRTT(te)===!1?Pe=Ue.get(te).__webglMultisampledFramebuffer:Array.isArray(Gt)?Pe=Gt[je]:Pe=Gt,N.copy(te.viewport),U.copy(te.scissor),z=te.scissorTest}else N.copy(H).multiplyScalar(F).floor(),U.copy(Y).multiplyScalar(F).floor(),z=se;if(Ee.bindFramebuffer(Z.FRAMEBUFFER,Pe)&&ze&&Ee.drawBuffers(te,Pe),Ee.viewport(N),Ee.scissor(U),Ee.setScissorTest(z),ft){const Pt=Ue.get(te.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+Ce,Pt.__webglTexture,je)}else if(Ve){const Pt=Ue.get(te.texture),Bt=Ce||0;Z.framebufferTextureLayer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Pt.__webglTexture,je||0,Bt)}C=-1},this.readRenderTargetPixels=function(te,Ce,je,ze,Pe,ft,Ve){if(!(te&&te.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let wt=Ue.get(te).__webglFramebuffer;if(te.isWebGLCubeRenderTarget&&Ve!==void 0&&(wt=wt[Ve]),wt){Ee.bindFramebuffer(Z.FRAMEBUFFER,wt);try{const Pt=te.texture,Bt=Pt.format,Gt=Pt.type;if(!Ne.textureFormatReadable(Bt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ne.textureTypeReadable(Gt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ce>=0&&Ce<=te.width-ze&&je>=0&&je<=te.height-Pe&&Z.readPixels(Ce,je,ze,Pe,Fe.convert(Bt),Fe.convert(Gt),ft)}finally{const Pt=O!==null?Ue.get(O).__webglFramebuffer:null;Ee.bindFramebuffer(Z.FRAMEBUFFER,Pt)}}},this.readRenderTargetPixelsAsync=async function(te,Ce,je,ze,Pe,ft,Ve){if(!(te&&te.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let wt=Ue.get(te).__webglFramebuffer;if(te.isWebGLCubeRenderTarget&&Ve!==void 0&&(wt=wt[Ve]),wt){const Pt=te.texture,Bt=Pt.format,Gt=Pt.type;if(!Ne.textureFormatReadable(Bt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ne.textureTypeReadable(Gt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Ce>=0&&Ce<=te.width-ze&&je>=0&&je<=te.height-Pe){Ee.bindFramebuffer(Z.FRAMEBUFFER,wt);const At=Z.createBuffer();Z.bindBuffer(Z.PIXEL_PACK_BUFFER,At),Z.bufferData(Z.PIXEL_PACK_BUFFER,ft.byteLength,Z.STREAM_READ),Z.readPixels(Ce,je,ze,Pe,Fe.convert(Bt),Fe.convert(Gt),0);const en=O!==null?Ue.get(O).__webglFramebuffer:null;Ee.bindFramebuffer(Z.FRAMEBUFFER,en);const fn=Z.fenceSync(Z.SYNC_GPU_COMMANDS_COMPLETE,0);return Z.flush(),await M2e(Z,fn,4),Z.bindBuffer(Z.PIXEL_PACK_BUFFER,At),Z.getBufferSubData(Z.PIXEL_PACK_BUFFER,0,ft),Z.deleteBuffer(At),Z.deleteSync(fn),ft}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(te,Ce=null,je=0){te.isTexture!==!0&&(xy("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Ce=arguments[0]||null,te=arguments[1]);const ze=Math.pow(2,-je),Pe=Math.floor(te.image.width*ze),ft=Math.floor(te.image.height*ze),Ve=Ce!==null?Ce.x:0,wt=Ce!==null?Ce.y:0;W.setTexture2D(te,0),Z.copyTexSubImage2D(Z.TEXTURE_2D,je,0,0,Ve,wt,Pe,ft),Ee.unbindTexture()},this.copyTextureToTexture=function(te,Ce,je=null,ze=null,Pe=0){te.isTexture!==!0&&(xy("WebGLRenderer: copyTextureToTexture function signature has changed."),ze=arguments[0]||null,te=arguments[1],Ce=arguments[2],Pe=arguments[3]||0,je=null);let ft,Ve,wt,Pt,Bt,Gt,At,en,fn;const Ft=te.isCompressedTexture?te.mipmaps[Pe]:te.image;je!==null?(ft=je.max.x-je.min.x,Ve=je.max.y-je.min.y,wt=je.isBox3?je.max.z-je.min.z:1,Pt=je.min.x,Bt=je.min.y,Gt=je.isBox3?je.min.z:0):(ft=Ft.width,Ve=Ft.height,wt=Ft.depth||1,Pt=0,Bt=0,Gt=0),ze!==null?(At=ze.x,en=ze.y,fn=ze.z):(At=0,en=0,fn=0);const tn=Fe.convert(Ce.format),nn=Fe.convert(Ce.type);let gt;Ce.isData3DTexture?(W.setTexture3D(Ce,0),gt=Z.TEXTURE_3D):Ce.isDataArrayTexture||Ce.isCompressedArrayTexture?(W.setTexture2DArray(Ce,0),gt=Z.TEXTURE_2D_ARRAY):(W.setTexture2D(Ce,0),gt=Z.TEXTURE_2D),Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,Ce.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ce.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,Ce.unpackAlignment);const jn=Z.getParameter(Z.UNPACK_ROW_LENGTH),sn=Z.getParameter(Z.UNPACK_IMAGE_HEIGHT),Jn=Z.getParameter(Z.UNPACK_SKIP_PIXELS),nr=Z.getParameter(Z.UNPACK_SKIP_ROWS),Qn=Z.getParameter(Z.UNPACK_SKIP_IMAGES);Z.pixelStorei(Z.UNPACK_ROW_LENGTH,Ft.width),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,Ft.height),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,Pt),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,Bt),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,Gt);const qi=te.isDataArrayTexture||te.isData3DTexture,On=Ce.isDataArrayTexture||Ce.isData3DTexture;if(te.isRenderTargetTexture||te.isDepthTexture){const Xr=Ue.get(te),Fr=Ue.get(Ce),Xn=Ue.get(Xr.__renderTarget),vi=Ue.get(Fr.__renderTarget);Ee.bindFramebuffer(Z.READ_FRAMEBUFFER,Xn.__webglFramebuffer),Ee.bindFramebuffer(Z.DRAW_FRAMEBUFFER,vi.__webglFramebuffer);for(let Oi=0;Oi<wt;Oi++)qi&&Z.framebufferTextureLayer(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Ue.get(te).__webglTexture,Pe,Gt+Oi),te.isDepthTexture?(On&&Z.framebufferTextureLayer(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Ue.get(Ce).__webglTexture,Pe,fn+Oi),Z.blitFramebuffer(Pt,Bt,ft,Ve,At,en,ft,Ve,Z.DEPTH_BUFFER_BIT,Z.NEAREST)):On?Z.copyTexSubImage3D(gt,Pe,At,en,fn+Oi,Pt,Bt,ft,Ve):Z.copyTexSubImage2D(gt,Pe,At,en,fn+Oi,Pt,Bt,ft,Ve);Ee.bindFramebuffer(Z.READ_FRAMEBUFFER,null),Ee.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null)}else On?te.isDataTexture||te.isData3DTexture?Z.texSubImage3D(gt,Pe,At,en,fn,ft,Ve,wt,tn,nn,Ft.data):Ce.isCompressedArrayTexture?Z.compressedTexSubImage3D(gt,Pe,At,en,fn,ft,Ve,wt,tn,Ft.data):Z.texSubImage3D(gt,Pe,At,en,fn,ft,Ve,wt,tn,nn,Ft):te.isDataTexture?Z.texSubImage2D(Z.TEXTURE_2D,Pe,At,en,ft,Ve,tn,nn,Ft.data):te.isCompressedTexture?Z.compressedTexSubImage2D(Z.TEXTURE_2D,Pe,At,en,Ft.width,Ft.height,tn,Ft.data):Z.texSubImage2D(Z.TEXTURE_2D,Pe,At,en,ft,Ve,tn,nn,Ft);Z.pixelStorei(Z.UNPACK_ROW_LENGTH,jn),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,sn),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,Jn),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,nr),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,Qn),Pe===0&&Ce.generateMipmaps&&Z.generateMipmap(gt),Ee.unbindTexture()},this.copyTextureToTexture3D=function(te,Ce,je=null,ze=null,Pe=0){return te.isTexture!==!0&&(xy("WebGLRenderer: copyTextureToTexture3D function signature has changed."),je=arguments[0]||null,ze=arguments[1]||null,te=arguments[2],Ce=arguments[3],Pe=arguments[4]||0),xy('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(te,Ce,je,ze,Pe)},this.initRenderTarget=function(te){Ue.get(te).__webglFramebuffer===void 0&&W.setupRenderTarget(te)},this.initTexture=function(te){te.isCubeTexture?W.setTextureCube(te,0):te.isData3DTexture?W.setTexture3D(te,0):te.isDataArrayTexture||te.isCompressedArrayTexture?W.setTexture2DArray(te,0):W.setTexture2D(te,0),Ee.unbindTexture()},this.resetState=function(){P=0,I=0,O=null,Ee.reset(),pt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Vl}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorspace=Ln._getDrawingBufferColorSpace(e),n.unpackColorSpace=Ln._getUnpackColorSpace()}}class $E{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new St(e),this.density=n}clone(){return new $E(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class HE{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new St(e),this.near=n,this.far=r}clone(){return new HE(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class uM extends Bn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Za,this.environmentIntensity=1,this.environmentRotation=new Za,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class GE{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=l_,this.updateRanges=[],this.version=0,this.uuid=Ya()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,o=this.stride;i<o;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ya()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ya()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const jo=new ae;class Dd{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)jo.fromBufferAttribute(this,n),jo.applyMatrix4(e),this.setXYZ(n,jo.x,jo.y,jo.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)jo.fromBufferAttribute(this,n),jo.applyNormalMatrix(e),this.setXYZ(n,jo.x,jo.y,jo.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)jo.fromBufferAttribute(this,n),jo.transformDirection(e),this.setXYZ(n,jo.x,jo.y,jo.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=Wo(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=gn(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=gn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=gn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=gn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=gn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Wo(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Wo(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Wo(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Wo(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=gn(n,this.array),r=gn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=gn(n,this.array),r=gn(r,this.array),i=gn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,o){return e=e*this.data.stride+this.offset,this.normalized&&(n=gn(n,this.array),r=gn(r,this.array),i=gn(i,this.array),o=gn(o,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=o,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return new tr(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Dd(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)n.push(this.data.array[i+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class _3 extends uo{static get type(){return"SpriteMaterial"}constructor(e){super(),this.isSpriteMaterial=!0,this.color=new St(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Xp;const iy=new ae,qp=new ae,Yp=new ae,Kp=new tt,oy=new tt,EW=new Jt,K1=new ae,ay=new ae,Z1=new ae,n4=new tt,v2=new tt,r4=new tt;class AW extends Bn{constructor(e=new _3){if(super(),this.isSprite=!0,this.type="Sprite",Xp===void 0){Xp=new vn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new GE(n,5);Xp.setIndex([0,1,2,0,2,3]),Xp.setAttribute("position",new Dd(r,3,0,!1)),Xp.setAttribute("uv",new Dd(r,2,3,!1))}this.geometry=Xp,this.material=e,this.center=new tt(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),qp.setFromMatrixScale(this.matrixWorld),EW.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Yp.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&qp.multiplyScalar(-Yp.z);const r=this.material.rotation;let i,o;r!==0&&(o=Math.cos(r),i=Math.sin(r));const a=this.center;J1(K1.set(-.5,-.5,0),Yp,a,qp,i,o),J1(ay.set(.5,-.5,0),Yp,a,qp,i,o),J1(Z1.set(.5,.5,0),Yp,a,qp,i,o),n4.set(0,0),v2.set(1,0),r4.set(1,1);let s=e.ray.intersectTriangle(K1,ay,Z1,!1,iy);if(s===null&&(J1(ay.set(-.5,.5,0),Yp,a,qp,i,o),v2.set(0,1),s=e.ray.intersectTriangle(K1,Z1,ay,!1,iy),s===null))return;const l=e.ray.origin.distanceTo(iy);l<e.near||l>e.far||n.push({distance:l,point:iy.clone(),uv:da.getInterpolation(iy,K1,ay,Z1,n4,v2,r4,new tt),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function J1(t,e,n,r,i,o){Kp.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(oy.x=o*Kp.x-i*Kp.y,oy.y=i*Kp.x+o*Kp.y):oy.copy(Kp),t.copy(e),t.x+=oy.x,t.y+=oy.y,t.applyMatrix4(EW)}const Q1=new ae,i4=new ae;class TW extends Bn{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let o;for(o=0;o<i.length&&!(n<i[o].distance);o++);return i.splice(o,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let o=n[r].distance;if(n[r].object.visible&&(o-=o*n[r].hysteresis),e<o)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Q1.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Q1);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Q1.setFromMatrixPosition(e.matrixWorld),i4.setFromMatrixPosition(this.matrixWorld);const r=Q1.distanceTo(i4)/e.zoom;n[0].object.visible=!0;let i,o;for(i=1,o=n.length;i<o;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<o;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,o=r.length;i<o;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const o4=new ae,a4=new Dn,s4=new Dn,BIe=new ae,l4=new Jt,eb=new ae,y2=new so,u4=new Jt,_2=new qd;class PW extends Dr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=EO,this.bindMatrix=new Jt,this.bindMatrixInverse=new Jt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new ao),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,eb),this.boundingBox.expandByPoint(eb)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new so),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,eb),this.boundingSphere.expandByPoint(eb)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),y2.copy(this.boundingSphere),y2.applyMatrix4(i),e.ray.intersectsSphere(y2)!==!1&&(u4.copy(i).invert(),_2.copy(e.ray).applyMatrix4(u4),!(this.boundingBox!==null&&_2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,_2)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Dn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const o=1/e.manhattanLength();o!==1/0?e.multiplyScalar(o):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===EO?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===KG?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;a4.fromBufferAttribute(i.attributes.skinIndex,e),s4.fromBufferAttribute(i.attributes.skinWeight,e),o4.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let o=0;o<4;o++){const a=s4.getComponent(o);if(a!==0){const s=a4.getComponent(o);l4.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(BIe.copy(o4).applyMatrix4(l4),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}class x3 extends Bn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Jl extends Er{constructor(e=null,n=1,r=1,i,o,a,s,l,u=oo,c=oo,f,h){super(null,a,s,l,u,c,i,o,f,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const c4=new Jt,zIe=new Jt;class WE{constructor(e=[],n=[]){this.uuid=Ya(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Jt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Jt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let o=0,a=e.length;o<a;o++){const s=e[o]?e[o].matrixWorld:zIe;c4.multiplyMatrices(s,n[o]),c4.toArray(r,o*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new WE(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Jl(n,e,e,Mo,ga);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const o=e.bones[r];let a=n[o];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),a=new x3),this.bones.push(a),this.boneInverses.push(new Jt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,o=n.length;i<o;i++){const a=n[i];e.bones.push(a.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class Nd extends tr{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Zp=new Jt,f4=new Jt,tb=[],h4=new ao,jIe=new Jt,sy=new Dr,ly=new so;class CW extends Dr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Nd(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,jIe)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new ao),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Zp),h4.copy(e.boundingBox).applyMatrix4(Zp),this.boundingBox.union(h4)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new so),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,Zp),ly.copy(e.boundingSphere).applyMatrix4(Zp),this.boundingSphere.union(ly)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,o=r.length+1,a=e*o+1;for(let s=0;s<r.length;s++)r[s]=i[a+s]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(sy.geometry=this.geometry,sy.material=this.material,sy.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),ly.copy(this.boundingSphere),ly.applyMatrix4(r),e.ray.intersectsSphere(ly)!==!1))for(let o=0;o<i;o++){this.getMatrixAt(o,Zp),f4.multiplyMatrices(r,Zp),sy.matrixWorld=f4,sy.raycast(e,tb);for(let a=0,s=tb.length;a<s;a++){const l=tb[a];l.instanceId=o,l.object=this,n.push(l)}tb.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Nd(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Jl(new Float32Array(i*this.count),i,this.count,DE,ga));const o=this.morphTexture.source.data.data;let a=0;for(let u=0;u<r.length;u++)a+=r[u];const s=this.geometry.morphTargetsRelative?1:1-a,l=i*e;o[l]=s,o.set(r,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function x2(t,e){return t-e}function $Ie(t,e){return t.z-e.z}function HIe(t,e){return e.z-t.z}class GIe{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const o=this.pool,a=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const s=o[this.index];a.push(s),this.index++,s.start=e,s.count=n,s.z=r,s.index=i}reset(){this.list.length=0,this.index=0}}const ua=new Jt,WIe=new St(1,1,1),b2=new G_,nb=new ao,kh=new so,uy=new ae,d4=new ae,VIe=new ae,S2=new GIe,xo=new Dr,rb=[];function XIe(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let o=0;o<i;o++)for(let a=0;a<r;a++)e.setComponent(o+n,a,t.getComponent(o,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function Uh(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class OW extends Dr{get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}constructor(e,n,r=n*2,i){super(new vn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Jl(n,e,e,Mo,ga);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new Jl(n,e,e,z_,uc);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Jl(n,e,e,Mo,ga);r.colorSpace=Ln.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const a=e.getAttribute(o),{array:s,itemSize:l,normalized:u}=a,c=new s.constructor(r*l),f=new tr(c,l,u);n.setAttribute(o,f)}if(e.getIndex()!==null){const o=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new tr(o,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),o=n.getAttribute(r);if(i.itemSize!==o.itemSize||i.normalized!==o.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new ao);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const o=n[r].geometryIndex;this.getMatrixAt(r,ua),this.getBoundingBoxAt(o,nb).applyMatrix4(ua),e.union(nb)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new so);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const o=n[r].geometryIndex;this.getMatrixAt(r,ua),this.getBoundingSphereAt(o,kh).applyMatrix4(ua),e.union(kh)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(x2),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const o=this._matricesTexture;ua.identity().toArray(o.image.data,i*16),o.needsUpdate=!0;const a=this._colorsTexture;return a&&(WIe.toArray(a.image.data,i*4),a.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const a=e.getIndex();if(a!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?a.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(x2),l=this._availableGeometryIds.shift(),o[l]=i):(l=this._geometryCount,this._geometryCount++,o.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,o=r.getIndex(),a=n.getIndex(),s=this._geometryInfo[e];if(i&&a.count>s.reservedIndexCount||n.attributes.position.count>s.reservedVertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,u=s.reservedVertexCount;s.vertexCount=n.getAttribute("position").count;for(const c in r.attributes){const f=n.getAttribute(c),h=r.getAttribute(c);XIe(f,h,l);const g=f.itemSize;for(let v=f.count,b=u;v<b;v++){const x=l+v;for(let _=0;_<g;_++)h.setComponent(x,_,0)}h.needsUpdate=!0,h.addUpdateRange(l*g,u*g)}if(i){const c=s.indexStart,f=s.reservedIndexCount;s.indexCount=n.getIndex().count;for(let h=0;h<a.count;h++)o.setX(c+h,l+a.getX(h));for(let h=a.count,g=f;h<g;h++)o.setX(c+h,l);o.needsUpdate=!0,o.addUpdateRange(c,s.reservedIndexCount)}return s.start=i?s.indexStart:s.vertexStart,s.count=i?s.indexCount:s.vertexCount,s.boundingBox=null,n.boundingBox!==null&&(s.boundingBox=n.boundingBox.clone()),s.boundingSphere=null,n.boundingSphere!==null&&(s.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,o=r.length;i<o;i++)r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){const n=this._instanceInfo;return e>=n.length||n[e].active===!1?this:(n[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this)}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((a,s)=>s).sort((a,s)=>r[a].vertexStart-r[s].vertexStart),o=this.geometry;for(let a=0,s=r.length;a<s;a++){const l=i[a],u=r[l];if(u.active!==!1){if(o.index!==null){if(u.indexStart!==n){const{indexStart:c,vertexStart:f,reservedIndexCount:h}=u,g=o.index,v=g.array,b=e-f;for(let x=c;x<c+h;x++)v[x]=v[x]+b;g.array.copyWithin(n,c,c+h),g.addUpdateRange(n,h),u.indexStart=n}n+=u.reservedIndexCount}if(u.vertexStart!==e){const{vertexStart:c,reservedVertexCount:f}=u,h=o.attributes;for(const g in h){const v=h[g],{array:b,itemSize:x}=v;b.copyWithin(e*x,c*x,(c+f)*x),v.addUpdateRange(e*x,f*x)}u.vertexStart=e}e+=u.reservedVertexCount,u.start=o.index?u.indexStart:u.vertexStart,this._nextIndexStart=o.index?u.indexStart+u.reservedIndexCount:0,this._nextVertexStart=u.vertexStart+u.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const o=new ao,a=r.index,s=r.attributes.position;for(let l=i.start,u=i.start+i.count;l<u;l++){let c=l;a&&(c=a.getX(c)),o.expandByPoint(uy.fromBufferAttribute(s,c))}i.boundingBox=o}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const o=new so;this.getBoundingBoxAt(e,nb),nb.getCenter(o.center);const a=r.index,s=r.attributes.position;let l=0;for(let u=i.start,c=i.start+i.count;u<c;u++){let f=u;a&&(f=a.getX(f)),uy.fromBufferAttribute(s,f),l=Math.max(l,o.center.distanceToSquared(uy))}o.radius=Math.sqrt(l),i.boundingSphere=o}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){const r=this._instanceInfo,i=this._matricesTexture,o=this._matricesTexture.image.data;return e>=r.length||r[e].active===!1?this:(n.toArray(o,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._instanceInfo,i=this._matricesTexture.image.data;return e>=r.length||r[e].active===!1?null:n.fromArray(i,e*16)}setColorAt(e,n){this._colorsTexture===null&&this._initColorsTexture();const r=this._colorsTexture,i=this._colorsTexture.image.data,o=this._instanceInfo;return e>=o.length||o[e].active===!1?this:(n.toArray(i,e*4),r.needsUpdate=!0,this)}getColorAt(e,n){const r=this._colorsTexture.image.data,i=this._instanceInfo;return e>=i.length||i[e].active===!1?null:n.fromArray(r,e*4)}setVisibleAt(e,n){const r=this._instanceInfo;return e>=r.length||r[e].active===!1||r[e].visible===n?this:(r[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._instanceInfo;return e>=n.length||n[e].active===!1?!1:n[e].visible}setGeometryIdAt(e,n){const r=this._instanceInfo,i=this._geometryInfo;return e>=r.length||r[e].active===!1||n>=i.length||i[n].active===!1?null:(r[e].geometryIndex=n,this)}getGeometryIdAt(e){const n=this._instanceInfo;return e>=n.length||n[e].active===!1?-1:n[e].geometryIndex}getGeometryRangeAt(e,n={}){if(e<0||e>=this._geometryCount)return null;const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(x2);n[n.length-1]===r.length;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),o=new Int32Array(e);Uh(this._multiDrawCounts,i),Uh(this._multiDrawStarts,o),this._multiDrawCounts=i,this._multiDrawStarts=o,this._maxInstanceCount=e;const a=this._indirectTexture,s=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),Uh(a.image.data,this._indirectTexture.image.data),s.dispose(),this._initMatricesTexture(),Uh(s.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),Uh(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(s=>s.active);if(Math.max(...r.map(s=>s.vertexStart+s.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const o=this.geometry;o.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new vn,this._initializeGeometry(o));const a=this.geometry;o.index&&Uh(o.index.array,a.index.array);for(const s in o.attributes)Uh(o.attributes[s].array,a.attributes[s].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,o=this.matrixWorld,a=this.geometry;xo.material=this.material,xo.geometry.index=a.index,xo.geometry.attributes=a.attributes,xo.geometry.boundingBox===null&&(xo.geometry.boundingBox=new ao),xo.geometry.boundingSphere===null&&(xo.geometry.boundingSphere=new so);for(let s=0,l=r.length;s<l;s++){if(!r[s].visible||!r[s].active)continue;const u=r[s].geometryIndex,c=i[u];xo.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(s,xo.matrixWorld).premultiply(o),this.getBoundingBoxAt(u,xo.geometry.boundingBox),this.getBoundingSphereAt(u,xo.geometry.boundingSphere),xo.raycast(e,rb);for(let f=0,h=rb.length;f<h;f++){const g=rb[f];g.object=this,g.batchId=s,n.push(g)}rb.length=0}xo.material=null,xo.geometry.index=null,xo.geometry.attributes={},xo.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,n,r,i,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),s=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,u=this._multiDrawStarts,c=this._multiDrawCounts,f=this._geometryInfo,h=this.perObjectFrustumCulled,g=this._indirectTexture,v=g.image.data;h&&(ua.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),b2.setFromProjectionMatrix(ua,e.coordinateSystem));let b=0;if(this.sortObjects){ua.copy(this.matrixWorld).invert(),uy.setFromMatrixPosition(r.matrixWorld).applyMatrix4(ua),d4.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(ua);for(let S=0,w=l.length;S<w;S++)if(l[S].visible&&l[S].active){const E=l[S].geometryIndex;this.getMatrixAt(S,ua),this.getBoundingSphereAt(E,kh).applyMatrix4(ua);let T=!1;if(h&&(T=!b2.intersectsSphere(kh)),!T){const P=f[E],I=VIe.subVectors(kh.center,uy).dot(d4);S2.push(P.start,P.count,I,S)}}const x=S2.list,_=this.customSort;_===null?x.sort(o.transparent?HIe:$Ie):_.call(this,x,r);for(let S=0,w=x.length;S<w;S++){const E=x[S];u[b]=E.start*s,c[b]=E.count,v[b]=E.index,b++}S2.reset()}else for(let x=0,_=l.length;x<_;x++)if(l[x].visible&&l[x].active){const S=l[x].geometryIndex;let w=!1;if(h&&(this.getMatrixAt(x,ua),this.getBoundingSphereAt(S,kh).applyMatrix4(ua),w=!b2.intersectsSphere(kh)),!w){const E=f[S];u[b]=E.start*s,c[b]=E.count,v[b]=x,b++}}g.needsUpdate=!0,this._multiDrawCount=b,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,o,a){this.onBeforeRender(e,null,i,o,a)}}class ea extends uo{static get type(){return"LineBasicMaterial"}constructor(e){super(),this.isLineBasicMaterial=!0,this.color=new St(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const cM=new ae,fM=new ae,p4=new Jt,cy=new qd,ib=new so,w2=new ae,m4=new ae;class Of extends Bn{constructor(e=new vn,n=new ea){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,o=n.count;i<o;i++)cM.fromBufferAttribute(n,i-1),fM.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=cM.distanceTo(fM);e.setAttribute("lineDistance",new kt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ib.copy(r.boundingSphere),ib.applyMatrix4(i),ib.radius+=o,e.ray.intersectsSphere(ib)===!1)return;p4.copy(i).invert(),cy.copy(e.ray).applyMatrix4(p4);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=this.isLineSegments?2:1,c=r.index,h=r.attributes.position;if(c!==null){const g=Math.max(0,a.start),v=Math.min(c.count,a.start+a.count);for(let b=g,x=v-1;b<x;b+=u){const _=c.getX(b),S=c.getX(b+1),w=ob(this,e,cy,l,_,S);w&&n.push(w)}if(this.isLineLoop){const b=c.getX(v-1),x=c.getX(g),_=ob(this,e,cy,l,b,x);_&&n.push(_)}}else{const g=Math.max(0,a.start),v=Math.min(h.count,a.start+a.count);for(let b=g,x=v-1;b<x;b+=u){const _=ob(this,e,cy,l,b,b+1);_&&n.push(_)}if(this.isLineLoop){const b=ob(this,e,cy,l,v-1,g);b&&n.push(b)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function ob(t,e,n,r,i,o){const a=t.geometry.attributes.position;if(cM.fromBufferAttribute(a,i),fM.fromBufferAttribute(a,o),n.distanceSqToSegment(cM,fM,w2,m4)>r)return;w2.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo(w2);if(!(l<e.near||l>e.far))return{distance:l,point:m4.clone().applyMatrix4(t.matrixWorld),index:i,face:null,faceIndex:null,barycoord:null,object:t}}const g4=new ae,v4=new ae;class ru extends Of{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,o=n.count;i<o;i+=2)g4.fromBufferAttribute(n,i),v4.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+g4.distanceTo(v4);e.setAttribute("lineDistance",new kt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class RW extends Of{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class b3 extends uo{static get type(){return"PointsMaterial"}constructor(e){super(),this.isPointsMaterial=!0,this.color=new St(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const y4=new Jt,RO=new qd,ab=new so,sb=new ae;class IW extends Bn{constructor(e=new vn,n=new b3){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,o=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),ab.copy(r.boundingSphere),ab.applyMatrix4(i),ab.radius+=o,e.ray.intersectsSphere(ab)===!1)return;y4.copy(i).invert(),RO.copy(e.ray).applyMatrix4(y4);const s=o/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=r.index,f=r.attributes.position;if(u!==null){const h=Math.max(0,a.start),g=Math.min(u.count,a.start+a.count);for(let v=h,b=g;v<b;v++){const x=u.getX(v);sb.fromBufferAttribute(f,x),_4(sb,x,l,i,e,n,this)}}else{const h=Math.max(0,a.start),g=Math.min(f.count,a.start+a.count);for(let v=h,b=g;v<b;v++)sb.fromBufferAttribute(f,v),_4(sb,v,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,a=i.length;o<a;o++){const s=i[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=o}}}}}function _4(t,e,n,r,i,o,a){const s=RO.distanceSqToPoint(t);if(s<n){const l=new ae;RO.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;o.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class qIe extends Er{constructor(e,n,r,i,o,a,s,l,u){super(e,n,r,i,o,a,s,l,u),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:ai,this.magFilter=o!==void 0?o:ai,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class YIe extends Er{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=oo,this.minFilter=oo,this.generateMipmaps=!1,this.needsUpdate=!0}}class VE extends Er{constructor(e,n,r,i,o,a,s,l,u,c,f,h){super(null,a,s,l,u,c,i,o,f,h),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class KIe extends VE{constructor(e,n,r,i,o,a){super(e,n,r,o,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=Es,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class ZIe extends VE{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,lc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class JIe extends Er{constructor(e,n,r,i,o,a,s,l,u){super(e,n,r,i,o,a,s,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class yl{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),o=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),o+=r.distanceTo(i),n.push(o),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const o=r.length;let a;n?a=n:a=e*r[o-1];let s=0,l=o-1,u;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),u=r[i]-a,u<0)s=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(o-1);const c=r[i],h=r[i+1]-c,g=(a-c)/h;return(i+g)/(o-1)}getTangent(e,n){let i=e-1e-4,o=e+1e-4;i<0&&(i=0),o>1&&(o=1);const a=this.getPoint(i),s=this.getPoint(o),l=n||(a.isVector2?new tt:new ae);return l.copy(s).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new ae,i=[],o=[],a=[],s=new ae,l=new Jt;for(let g=0;g<=e;g++){const v=g/e;i[g]=this.getTangentAt(v,new ae)}o[0]=new ae,a[0]=new ae;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),h=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),h<=u&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),o[0].crossVectors(i[0],s),a[0].crossVectors(i[0],o[0]);for(let g=1;g<=e;g++){if(o[g]=o[g-1].clone(),a[g]=a[g-1].clone(),s.crossVectors(i[g-1],i[g]),s.length()>Number.EPSILON){s.normalize();const v=Math.acos(Vr(i[g-1].dot(i[g]),-1,1));o[g].applyMatrix4(l.makeRotationAxis(s,v))}a[g].crossVectors(i[g],o[g])}if(n===!0){let g=Math.acos(Vr(o[0].dot(o[e]),-1,1));g/=e,i[0].dot(s.crossVectors(o[0],o[e]))>0&&(g=-g);for(let v=1;v<=e;v++)o[v].applyMatrix4(l.makeRotationAxis(i[v],g*v)),a[v].crossVectors(i[v],o[v])}return{tangents:i,normals:o,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class XE extends yl{constructor(e=0,n=0,r=1,i=1,o=0,a=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=o,this.aEndAngle=a,this.aClockwise=s,this.aRotation=l}getPoint(e,n=new tt){const r=n,i=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const a=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=i;for(;o>i;)o-=i;o<Number.EPSILON&&(a?o=0:o=i),this.aClockwise===!0&&!a&&(o===i?o=-i:o=o-i);const s=this.aStartAngle+e*o;let l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,g=u-this.aY;l=h*c-g*f+this.aX,u=h*f+g*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class LW extends XE{constructor(e,n,r,i,o,a){super(e,n,r,r,i,o,a),this.isArcCurve=!0,this.type="ArcCurve"}}function S3(){let t=0,e=0,n=0,r=0;function i(o,a,s,l){t=o,e=s,n=-3*o+3*a-2*s-l,r=2*o-2*a+s+l}return{initCatmullRom:function(o,a,s,l,u){i(a,s,u*(s-o),u*(l-a))},initNonuniformCatmullRom:function(o,a,s,l,u,c,f){let h=(a-o)/u-(s-o)/(u+c)+(s-a)/c,g=(s-a)/c-(l-a)/(c+f)+(l-s)/f;h*=c,g*=c,i(a,s,h,g)},calc:function(o){const a=o*o,s=a*o;return t+e*o+n*a+r*s}}}const lb=new ae,M2=new S3,E2=new S3,A2=new S3;class DW extends yl{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new ae){const r=n,i=this.points,o=i.length,a=(o-(this.closed?0:1))*e;let s=Math.floor(a),l=a-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/o)+1)*o:l===0&&s===o-1&&(s=o-2,l=1);let u,c;this.closed||s>0?u=i[(s-1)%o]:(lb.subVectors(i[0],i[1]).add(i[0]),u=lb);const f=i[s%o],h=i[(s+1)%o];if(this.closed||s+2<o?c=i[(s+2)%o]:(lb.subVectors(i[o-1],i[o-2]).add(i[o-1]),c=lb),this.curveType==="centripetal"||this.curveType==="chordal"){const g=this.curveType==="chordal"?.5:.25;let v=Math.pow(u.distanceToSquared(f),g),b=Math.pow(f.distanceToSquared(h),g),x=Math.pow(h.distanceToSquared(c),g);b<1e-4&&(b=1),v<1e-4&&(v=b),x<1e-4&&(x=b),M2.initNonuniformCatmullRom(u.x,f.x,h.x,c.x,v,b,x),E2.initNonuniformCatmullRom(u.y,f.y,h.y,c.y,v,b,x),A2.initNonuniformCatmullRom(u.z,f.z,h.z,c.z,v,b,x)}else this.curveType==="catmullrom"&&(M2.initCatmullRom(u.x,f.x,h.x,c.x,this.tension),E2.initCatmullRom(u.y,f.y,h.y,c.y,this.tension),A2.initCatmullRom(u.z,f.z,h.z,c.z,this.tension));return r.set(M2.calc(l),E2.calc(l),A2.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ae().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function x4(t,e,n,r,i){const o=(r-e)*.5,a=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+o+a)*l+(-3*n+3*r-2*o-a)*s+o*t+n}function QIe(t,e){const n=1-t;return n*n*e}function e3e(t,e){return 2*(1-t)*t*e}function t3e(t,e){return t*t*e}function Yy(t,e,n,r){return QIe(t,e)+e3e(t,n)+t3e(t,r)}function n3e(t,e){const n=1-t;return n*n*n*e}function r3e(t,e){const n=1-t;return 3*n*n*t*e}function i3e(t,e){return 3*(1-t)*t*t*e}function o3e(t,e){return t*t*t*e}function Ky(t,e,n,r,i){return n3e(t,e)+r3e(t,n)+i3e(t,r)+o3e(t,i)}class w3 extends yl{constructor(e=new tt,n=new tt,r=new tt,i=new tt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new tt){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Ky(e,i.x,o.x,a.x,s.x),Ky(e,i.y,o.y,a.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class NW extends yl{constructor(e=new ae,n=new ae,r=new ae,i=new ae){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ae){const r=n,i=this.v0,o=this.v1,a=this.v2,s=this.v3;return r.set(Ky(e,i.x,o.x,a.x,s.x),Ky(e,i.y,o.y,a.y,s.y),Ky(e,i.z,o.z,a.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class M3 extends yl{constructor(e=new tt,n=new tt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new tt){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new tt){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class kW extends yl{constructor(e=new ae,n=new ae){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new ae){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ae){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class E3 extends yl{constructor(e=new tt,n=new tt,r=new tt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new tt){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Yy(e,i.x,o.x,a.x),Yy(e,i.y,o.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class A3 extends yl{constructor(e=new ae,n=new ae,r=new ae){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ae){const r=n,i=this.v0,o=this.v1,a=this.v2;return r.set(Yy(e,i.x,o.x,a.x),Yy(e,i.y,o.y,a.y),Yy(e,i.z,o.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class T3 extends yl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new tt){const r=n,i=this.points,o=(i.length-1)*e,a=Math.floor(o),s=o-a,l=i[a===0?a:a-1],u=i[a],c=i[a>i.length-2?i.length-1:a+1],f=i[a>i.length-3?i.length-1:a+2];return r.set(x4(s,l.x,u.x,c.x,f.x),x4(s,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new tt().fromArray(i))}return this}}var hM=Object.freeze({__proto__:null,ArcCurve:LW,CatmullRomCurve3:DW,CubicBezierCurve:w3,CubicBezierCurve3:NW,EllipseCurve:XE,LineCurve:M3,LineCurve3:kW,QuadraticBezierCurve:E3,QuadraticBezierCurve3:A3,SplineCurve:T3});class UW extends yl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new hM[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let o=0;for(;o<i.length;){if(i[o]>=r){const a=i[o]-r,s=this.curves[o],l=s.getLength(),u=l===0?0:1-a/l;return s.getPointAt(u,n)}o++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,o=this.curves;i<o.length;i++){const a=o[i],s=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(s);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new hM[i.type]().fromJSON(i))}return this}}class f_ extends UW{constructor(e){super(),this.type="Path",this.currentPoint=new tt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new M3(this.currentPoint.clone(),new tt(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const o=new E3(this.currentPoint.clone(),new tt(e,n),new tt(r,i));return this.curves.push(o),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,o,a){const s=new w3(this.currentPoint.clone(),new tt(e,n),new tt(r,i),new tt(o,a));return this.curves.push(s),this.currentPoint.set(o,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new T3(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,o,a){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,o,a),this}absarc(e,n,r,i,o,a){return this.absellipse(e,n,r,r,i,o,a),this}ellipse(e,n,r,i,o,a,s,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,o,a,s,l),this}absellipse(e,n,r,i,o,a,s,l){const u=new XE(e,n,r,i,o,a,s,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class W_ extends vn{constructor(e=[new tt(0,-.5),new tt(.5,0),new tt(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Vr(i,0,Math.PI*2);const o=[],a=[],s=[],l=[],u=[],c=1/n,f=new ae,h=new tt,g=new ae,v=new ae,b=new ae;let x=0,_=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:x=e[S+1].x-e[S].x,_=e[S+1].y-e[S].y,g.x=_*1,g.y=-x,g.z=_*0,b.copy(g),g.normalize(),l.push(g.x,g.y,g.z);break;case e.length-1:l.push(b.x,b.y,b.z);break;default:x=e[S+1].x-e[S].x,_=e[S+1].y-e[S].y,g.x=_*1,g.y=-x,g.z=_*0,v.copy(g),g.x+=b.x,g.y+=b.y,g.z+=b.z,g.normalize(),l.push(g.x,g.y,g.z),b.copy(v)}for(let S=0;S<=n;S++){const w=r+S*c*i,E=Math.sin(w),T=Math.cos(w);for(let P=0;P<=e.length-1;P++){f.x=e[P].x*E,f.y=e[P].y,f.z=e[P].x*T,a.push(f.x,f.y,f.z),h.x=S/n,h.y=P/(e.length-1),s.push(h.x,h.y);const I=l[3*P+0]*E,O=l[3*P+1],C=l[3*P+0]*T;u.push(I,O,C)}}for(let S=0;S<n;S++)for(let w=0;w<e.length-1;w++){const E=w+S*e.length,T=E,P=E+e.length,I=E+e.length+1,O=E+1;o.push(T,P,O),o.push(I,O,P)}this.setIndex(o),this.setAttribute("position",new kt(a,3)),this.setAttribute("uv",new kt(s,2)),this.setAttribute("normal",new kt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new W_(e.points,e.segments,e.phiStart,e.phiLength)}}class qE extends W_{constructor(e=1,n=1,r=4,i=8){const o=new f_;o.absarc(0,-n/2,e,Math.PI*1.5,0),o.absarc(0,n/2,e,0,Math.PI*.5),super(o.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new qE(e.radius,e.length,e.capSegments,e.radialSegments)}}class YE extends vn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const o=[],a=[],s=[],l=[],u=new ae,c=new tt;a.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=n;f++,h+=3){const g=r+f/n*i;u.x=e*Math.cos(g),u.y=e*Math.sin(g),a.push(u.x,u.y,u.z),s.push(0,0,1),c.x=(a[h]/e+1)/2,c.y=(a[h+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=n;f++)o.push(f,f+1,0);this.setIndex(o),this.setAttribute("position",new kt(a,3)),this.setAttribute("normal",new kt(s,3)),this.setAttribute("uv",new kt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new YE(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Xg extends vn{constructor(e=1,n=1,r=1,i=32,o=1,a=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:o,openEnded:a,thetaStart:s,thetaLength:l};const u=this;i=Math.floor(i),o=Math.floor(o);const c=[],f=[],h=[],g=[];let v=0;const b=[],x=r/2;let _=0;S(),a===!1&&(e>0&&w(!0),n>0&&w(!1)),this.setIndex(c),this.setAttribute("position",new kt(f,3)),this.setAttribute("normal",new kt(h,3)),this.setAttribute("uv",new kt(g,2));function S(){const E=new ae,T=new ae;let P=0;const I=(n-e)/r;for(let O=0;O<=o;O++){const C=[],L=O/o,N=L*(n-e)+e;for(let U=0;U<=i;U++){const z=U/i,$=z*l+s,K=Math.sin($),q=Math.cos($);T.x=N*K,T.y=-L*r+x,T.z=N*q,f.push(T.x,T.y,T.z),E.set(K,I,q).normalize(),h.push(E.x,E.y,E.z),g.push(z,1-L),C.push(v++)}b.push(C)}for(let O=0;O<i;O++)for(let C=0;C<o;C++){const L=b[C][O],N=b[C+1][O],U=b[C+1][O+1],z=b[C][O+1];(e>0||C!==0)&&(c.push(L,N,z),P+=3),(n>0||C!==o-1)&&(c.push(N,U,z),P+=3)}u.addGroup(_,P,0),_+=P}function w(E){const T=v,P=new tt,I=new ae;let O=0;const C=E===!0?e:n,L=E===!0?1:-1;for(let U=1;U<=i;U++)f.push(0,x*L,0),h.push(0,L,0),g.push(.5,.5),v++;const N=v;for(let U=0;U<=i;U++){const $=U/i*l+s,K=Math.cos($),q=Math.sin($);I.x=C*q,I.y=x*L,I.z=C*K,f.push(I.x,I.y,I.z),h.push(0,L,0),P.x=K*.5+.5,P.y=q*.5*L+.5,g.push(P.x,P.y),v++}for(let U=0;U<i;U++){const z=T+U,$=N+U;E===!0?c.push($,$+1,z):c.push($+1,$,z),O+=3}u.addGroup(_,O,E===!0?1:2),_+=O}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Xg(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class KE extends Xg{constructor(e=1,n=1,r=32,i=1,o=!1,a=0,s=Math.PI*2){super(0,e,n,r,i,o,a,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:o,thetaStart:a,thetaLength:s}}static fromJSON(e){return new KE(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class zf extends vn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const o=[],a=[];s(i),u(r),c(),this.setAttribute("position",new kt(o,3)),this.setAttribute("normal",new kt(o.slice(),3)),this.setAttribute("uv",new kt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(S){const w=new ae,E=new ae,T=new ae;for(let P=0;P<n.length;P+=3)g(n[P+0],w),g(n[P+1],E),g(n[P+2],T),l(w,E,T,S)}function l(S,w,E,T){const P=T+1,I=[];for(let O=0;O<=P;O++){I[O]=[];const C=S.clone().lerp(E,O/P),L=w.clone().lerp(E,O/P),N=P-O;for(let U=0;U<=N;U++)U===0&&O===P?I[O][U]=C:I[O][U]=C.clone().lerp(L,U/N)}for(let O=0;O<P;O++)for(let C=0;C<2*(P-O)-1;C++){const L=Math.floor(C/2);C%2===0?(h(I[O][L+1]),h(I[O+1][L]),h(I[O][L])):(h(I[O][L+1]),h(I[O+1][L+1]),h(I[O+1][L]))}}function u(S){const w=new ae;for(let E=0;E<o.length;E+=3)w.x=o[E+0],w.y=o[E+1],w.z=o[E+2],w.normalize().multiplyScalar(S),o[E+0]=w.x,o[E+1]=w.y,o[E+2]=w.z}function c(){const S=new ae;for(let w=0;w<o.length;w+=3){S.x=o[w+0],S.y=o[w+1],S.z=o[w+2];const E=x(S)/2/Math.PI+.5,T=_(S)/Math.PI+.5;a.push(E,1-T)}v(),f()}function f(){for(let S=0;S<a.length;S+=6){const w=a[S+0],E=a[S+2],T=a[S+4],P=Math.max(w,E,T),I=Math.min(w,E,T);P>.9&&I<.1&&(w<.2&&(a[S+0]+=1),E<.2&&(a[S+2]+=1),T<.2&&(a[S+4]+=1))}}function h(S){o.push(S.x,S.y,S.z)}function g(S,w){const E=S*3;w.x=e[E+0],w.y=e[E+1],w.z=e[E+2]}function v(){const S=new ae,w=new ae,E=new ae,T=new ae,P=new tt,I=new tt,O=new tt;for(let C=0,L=0;C<o.length;C+=9,L+=6){S.set(o[C+0],o[C+1],o[C+2]),w.set(o[C+3],o[C+4],o[C+5]),E.set(o[C+6],o[C+7],o[C+8]),P.set(a[L+0],a[L+1]),I.set(a[L+2],a[L+3]),O.set(a[L+4],a[L+5]),T.copy(S).add(w).add(E).divideScalar(3);const N=x(T);b(P,L+0,S,N),b(I,L+2,w,N),b(O,L+4,E,N)}}function b(S,w,E,T){T<0&&S.x===1&&(a[w]=S.x-1),E.x===0&&E.z===0&&(a[w]=T/2/Math.PI+.5)}function x(S){return Math.atan2(S.z,-S.x)}function _(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zf(e.vertices,e.indices,e.radius,e.details)}}class ZE extends zf{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new ZE(e.radius,e.detail)}}const ub=new ae,cb=new ae,T2=new ae,fb=new da;class FW extends vn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),o=Math.cos(yd*n),a=e.getIndex(),s=e.getAttribute("position"),l=a?a.count:s.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),h={},g=[];for(let v=0;v<l;v+=3){a?(u[0]=a.getX(v),u[1]=a.getX(v+1),u[2]=a.getX(v+2)):(u[0]=v,u[1]=v+1,u[2]=v+2);const{a:b,b:x,c:_}=fb;if(b.fromBufferAttribute(s,u[0]),x.fromBufferAttribute(s,u[1]),_.fromBufferAttribute(s,u[2]),fb.getNormal(T2),f[0]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,f[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[2]=`${Math.round(_.x*i)},${Math.round(_.y*i)},${Math.round(_.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let S=0;S<3;S++){const w=(S+1)%3,E=f[S],T=f[w],P=fb[c[S]],I=fb[c[w]],O=`${E}_${T}`,C=`${T}_${E}`;C in h&&h[C]?(T2.dot(h[C].normal)<=o&&(g.push(P.x,P.y,P.z),g.push(I.x,I.y,I.z)),h[C]=null):O in h||(h[O]={index0:u[S],index1:u[w],normal:T2.clone()})}}for(const v in h)if(h[v]){const{index0:b,index1:x}=h[v];ub.fromBufferAttribute(s,b),cb.fromBufferAttribute(s,x),g.push(ub.x,ub.y,ub.z),g.push(cb.x,cb.y,cb.z)}this.setAttribute("position",new kt(g,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class xd extends f_{constructor(e){super(e),this.uuid=Ya(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new f_().fromJSON(i))}return this}}const a3e={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let o=BW(t,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,u,c,f,h,g;if(r&&(o=f3e(t,e,o,n)),t.length>80*n){s=u=t[0],l=c=t[1];for(let v=n;v<i;v+=n)f=t[v],h=t[v+1],f<s&&(s=f),h<l&&(l=h),f>u&&(u=f),h>c&&(c=h);g=Math.max(u-s,c-l),g=g!==0?32767/g:0}return h_(o,a,n,s,l,g,0),a}};function BW(t,e,n,r,i){let o,a;if(i===S3e(t,e,n,r)>0)for(o=e;o<n;o+=r)a=b4(o,t[o],t[o+1],a);else for(o=n-r;o>=e;o-=r)a=b4(o,t[o],t[o+1],a);return a&&JE(a,a.next)&&(p_(a),a=a.next),a}function kd(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(JE(n,n.next)||Lr(n.prev,n,n.next)===0)){if(p_(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function h_(t,e,n,r,i,o,a){if(!t)return;!a&&o&&g3e(t,r,i,o);let s=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,o?l3e(t,r,i,o):s3e(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),p_(t),t=u.next,s=u.next;continue}if(t=u,t===s){a?a===1?(t=u3e(kd(t),e,n),h_(t,e,n,r,i,o,2)):a===2&&c3e(t,e,n,r,i,o):h_(kd(t),e,n,r,i,o,1);break}}}function s3e(t){const e=t.prev,n=t,r=t.next;if(Lr(e,n,r)>=0)return!1;const i=e.x,o=n.x,a=r.x,s=e.y,l=n.y,u=r.y,c=i<o?i<a?i:a:o<a?o:a,f=s<l?s<u?s:u:l<u?l:u,h=i>o?i>a?i:a:o>a?o:a,g=s>l?s>u?s:u:l>u?l:u;let v=r.next;for(;v!==e;){if(v.x>=c&&v.x<=h&&v.y>=f&&v.y<=g&&Em(i,s,o,l,a,u,v.x,v.y)&&Lr(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function l3e(t,e,n,r){const i=t.prev,o=t,a=t.next;if(Lr(i,o,a)>=0)return!1;const s=i.x,l=o.x,u=a.x,c=i.y,f=o.y,h=a.y,g=s<l?s<u?s:u:l<u?l:u,v=c<f?c<h?c:h:f<h?f:h,b=s>l?s>u?s:u:l>u?l:u,x=c>f?c>h?c:h:f>h?f:h,_=IO(g,v,e,n,r),S=IO(b,x,e,n,r);let w=t.prevZ,E=t.nextZ;for(;w&&w.z>=_&&E&&E.z<=S;){if(w.x>=g&&w.x<=b&&w.y>=v&&w.y<=x&&w!==i&&w!==a&&Em(s,c,l,f,u,h,w.x,w.y)&&Lr(w.prev,w,w.next)>=0||(w=w.prevZ,E.x>=g&&E.x<=b&&E.y>=v&&E.y<=x&&E!==i&&E!==a&&Em(s,c,l,f,u,h,E.x,E.y)&&Lr(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;w&&w.z>=_;){if(w.x>=g&&w.x<=b&&w.y>=v&&w.y<=x&&w!==i&&w!==a&&Em(s,c,l,f,u,h,w.x,w.y)&&Lr(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;E&&E.z<=S;){if(E.x>=g&&E.x<=b&&E.y>=v&&E.y<=x&&E!==i&&E!==a&&Em(s,c,l,f,u,h,E.x,E.y)&&Lr(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function u3e(t,e,n){let r=t;do{const i=r.prev,o=r.next.next;!JE(i,o)&&zW(i,r,r.next,o)&&d_(i,o)&&d_(o,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(o.i/n|0),p_(r),p_(r.next),r=t=o),r=r.next}while(r!==t);return kd(r)}function c3e(t,e,n,r,i,o){let a=t;do{let s=a.next.next;for(;s!==a.prev;){if(a.i!==s.i&&_3e(a,s)){let l=jW(a,s);a=kd(a,a.next),l=kd(l,l.next),h_(a,e,n,r,i,o,0),h_(l,e,n,r,i,o,0);return}s=s.next}a=a.next}while(a!==t)}function f3e(t,e,n,r){const i=[];let o,a,s,l,u;for(o=0,a=e.length;o<a;o++)s=e[o]*r,l=o<a-1?e[o+1]*r:t.length,u=BW(t,s,l,r,!1),u===u.next&&(u.steiner=!0),i.push(y3e(u));for(i.sort(h3e),o=0;o<i.length;o++)n=d3e(i[o],n);return n}function h3e(t,e){return t.x-e.x}function d3e(t,e){const n=p3e(t,e);if(!n)return e;const r=jW(n,t);return kd(r,r.next),kd(n,n.next)}function p3e(t,e){let n=e,r=-1/0,i;const o=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const h=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=o&&h>r&&(r=h,i=n.x<n.next.x?n:n.next,h===o))return i}n=n.next}while(n!==e);if(!i)return null;const s=i,l=i.x,u=i.y;let c=1/0,f;n=i;do o>=n.x&&n.x>=l&&o!==n.x&&Em(a<u?o:r,a,l,u,a<u?r:o,a,n.x,n.y)&&(f=Math.abs(a-n.y)/(o-n.x),d_(n,t)&&(f<c||f===c&&(n.x>i.x||n.x===i.x&&m3e(i,n)))&&(i=n,c=f)),n=n.next;while(n!==s);return i}function m3e(t,e){return Lr(t.prev,t,e.prev)<0&&Lr(e.next,t,t.next)<0}function g3e(t,e,n,r){let i=t;do i.z===0&&(i.z=IO(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,v3e(i)}function v3e(t){let e,n,r,i,o,a,s,l,u=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ,!!r);e++);for(l=u;s>0||l>0&&r;)s!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),o?o.nextZ=i:t=i,i.prevZ=o,o=i;n=r}o.nextZ=null,u*=2}while(a>1);return t}function IO(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function y3e(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Em(t,e,n,r,i,o,a,s){return(i-a)*(e-s)>=(t-a)*(o-s)&&(t-a)*(r-s)>=(n-a)*(e-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function _3e(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!x3e(t,e)&&(d_(t,e)&&d_(e,t)&&b3e(t,e)&&(Lr(t.prev,t,e.prev)||Lr(t,e.prev,e))||JE(t,e)&&Lr(t.prev,t,t.next)>0&&Lr(e.prev,e,e.next)>0)}function Lr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function JE(t,e){return t.x===e.x&&t.y===e.y}function zW(t,e,n,r){const i=db(Lr(t,e,n)),o=db(Lr(t,e,r)),a=db(Lr(n,r,t)),s=db(Lr(n,r,e));return!!(i!==o&&a!==s||i===0&&hb(t,n,e)||o===0&&hb(t,r,e)||a===0&&hb(n,t,r)||s===0&&hb(n,e,r))}function hb(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function db(t){return t>0?1:t<0?-1:0}function x3e(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&zW(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function d_(t,e){return Lr(t.prev,t,t.next)<0?Lr(t,e,t.next)>=0&&Lr(t,t.prev,e)>=0:Lr(t,e,t.prev)<0||Lr(t,t.next,e)<0}function b3e(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,o=(t.y+e.y)/2;do n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function jW(t,e){const n=new LO(t.i,t.x,t.y),r=new LO(e.i,e.x,e.y),i=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function b4(t,e,n,r){const i=new LO(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function p_(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function LO(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function S3e(t,e,n,r){let i=0;for(let o=e,a=n-r;o<n;o+=r)i+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return i}class Ql{static area(e){const n=e.length;let r=0;for(let i=n-1,o=0;o<n;i=o++)r+=e[i].x*e[o].y-e[o].x*e[i].y;return r*.5}static isClockWise(e){return Ql.area(e)<0}static triangulateShape(e,n){const r=[],i=[],o=[];S4(e),w4(r,e);let a=e.length;n.forEach(S4);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,w4(r,n[l]);const s=a3e.triangulate(r,i);for(let l=0;l<s.length;l+=3)o.push(s.slice(l,l+3));return o}}function S4(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function w4(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class QE extends vn{constructor(e=new xd([new tt(.5,.5),new tt(-.5,.5),new tt(-.5,-.5),new tt(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],o=[];for(let s=0,l=e.length;s<l;s++){const u=e[s];a(u)}this.setAttribute("position",new kt(i,3)),this.setAttribute("uv",new kt(o,2)),this.computeVertexNormals();function a(s){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,g=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:g-.1,b=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const _=n.extrudePath,S=n.UVGenerator!==void 0?n.UVGenerator:w3e;let w,E=!1,T,P,I,O;_&&(w=_.getSpacedPoints(c),E=!0,h=!1,T=_.computeFrenetFrames(c,!1),P=new ae,I=new ae,O=new ae),h||(x=0,g=0,v=0,b=0);const C=s.extractPoints(u);let L=C.shape;const N=C.holes;if(!Ql.isClockWise(L)){L=L.reverse();for(let ee=0,we=N.length;ee<we;ee++){const Z=N[ee];Ql.isClockWise(Z)&&(N[ee]=Z.reverse())}}const z=Ql.triangulateShape(L,N),$=L;for(let ee=0,we=N.length;ee<we;ee++){const Z=N[ee];L=L.concat(Z)}function K(ee,we,Z){return we||console.error("THREE.ExtrudeGeometry: vec does not exist"),ee.clone().addScaledVector(we,Z)}const q=L.length,Q=z.length;function F(ee,we,Z){let Ie,xe,Ne;const Ee=ee.x-we.x,Ke=ee.y-we.y,Ue=Z.x-ee.x,W=Z.y-ee.y,G=Ee*Ee+Ke*Ke,ce=Ee*W-Ke*Ue;if(Math.abs(ce)>Number.EPSILON){const Me=Math.sqrt(G),ve=Math.sqrt(Ue*Ue+W*W),ke=we.x-Ke/Me,We=we.y+Ee/Me,Be=Z.x-W/ve,Xe=Z.y+Ue/ve,ct=((Be-ke)*W-(Xe-We)*Ue)/(Ee*W-Ke*Ue);Ie=ke+Ee*ct-ee.x,xe=We+Ke*ct-ee.y;const qe=Ie*Ie+xe*xe;if(qe<=2)return new tt(Ie,xe);Ne=Math.sqrt(qe/2)}else{let Me=!1;Ee>Number.EPSILON?Ue>Number.EPSILON&&(Me=!0):Ee<-Number.EPSILON?Ue<-Number.EPSILON&&(Me=!0):Math.sign(Ke)===Math.sign(W)&&(Me=!0),Me?(Ie=-Ke,xe=Ee,Ne=Math.sqrt(G)):(Ie=Ee,xe=Ke,Ne=Math.sqrt(G/2))}return new tt(Ie/Ne,xe/Ne)}const j=[];for(let ee=0,we=$.length,Z=we-1,Ie=ee+1;ee<we;ee++,Z++,Ie++)Z===we&&(Z=0),Ie===we&&(Ie=0),j[ee]=F($[ee],$[Z],$[Ie]);const X=[];let H,Y=j.concat();for(let ee=0,we=N.length;ee<we;ee++){const Z=N[ee];H=[];for(let Ie=0,xe=Z.length,Ne=xe-1,Ee=Ie+1;Ie<xe;Ie++,Ne++,Ee++)Ne===xe&&(Ne=0),Ee===xe&&(Ee=0),H[Ie]=F(Z[Ie],Z[Ne],Z[Ee]);X.push(H),Y=Y.concat(H)}for(let ee=0;ee<x;ee++){const we=ee/x,Z=g*Math.cos(we*Math.PI/2),Ie=v*Math.sin(we*Math.PI/2)+b;for(let xe=0,Ne=$.length;xe<Ne;xe++){const Ee=K($[xe],j[xe],Ie);de(Ee.x,Ee.y,-Z)}for(let xe=0,Ne=N.length;xe<Ne;xe++){const Ee=N[xe];H=X[xe];for(let Ke=0,Ue=Ee.length;Ke<Ue;Ke++){const W=K(Ee[Ke],H[Ke],Ie);de(W.x,W.y,-Z)}}}const se=v+b;for(let ee=0;ee<q;ee++){const we=h?K(L[ee],Y[ee],se):L[ee];E?(I.copy(T.normals[0]).multiplyScalar(we.x),P.copy(T.binormals[0]).multiplyScalar(we.y),O.copy(w[0]).add(I).add(P),de(O.x,O.y,O.z)):de(we.x,we.y,0)}for(let ee=1;ee<=c;ee++)for(let we=0;we<q;we++){const Z=h?K(L[we],Y[we],se):L[we];E?(I.copy(T.normals[ee]).multiplyScalar(Z.x),P.copy(T.binormals[ee]).multiplyScalar(Z.y),O.copy(w[ee]).add(I).add(P),de(O.x,O.y,O.z)):de(Z.x,Z.y,f/c*ee)}for(let ee=x-1;ee>=0;ee--){const we=ee/x,Z=g*Math.cos(we*Math.PI/2),Ie=v*Math.sin(we*Math.PI/2)+b;for(let xe=0,Ne=$.length;xe<Ne;xe++){const Ee=K($[xe],j[xe],Ie);de(Ee.x,Ee.y,f+Z)}for(let xe=0,Ne=N.length;xe<Ne;xe++){const Ee=N[xe];H=X[xe];for(let Ke=0,Ue=Ee.length;Ke<Ue;Ke++){const W=K(Ee[Ke],H[Ke],Ie);E?de(W.x,W.y+w[c-1].y,w[c-1].x+Z):de(W.x,W.y,f+Z)}}}re(),ie();function re(){const ee=i.length/3;if(h){let we=0,Z=q*we;for(let Ie=0;Ie<Q;Ie++){const xe=z[Ie];be(xe[2]+Z,xe[1]+Z,xe[0]+Z)}we=c+x*2,Z=q*we;for(let Ie=0;Ie<Q;Ie++){const xe=z[Ie];be(xe[0]+Z,xe[1]+Z,xe[2]+Z)}}else{for(let we=0;we<Q;we++){const Z=z[we];be(Z[2],Z[1],Z[0])}for(let we=0;we<Q;we++){const Z=z[we];be(Z[0]+q*c,Z[1]+q*c,Z[2]+q*c)}}r.addGroup(ee,i.length/3-ee,0)}function ie(){const ee=i.length/3;let we=0;ge($,we),we+=$.length;for(let Z=0,Ie=N.length;Z<Ie;Z++){const xe=N[Z];ge(xe,we),we+=xe.length}r.addGroup(ee,i.length/3-ee,1)}function ge(ee,we){let Z=ee.length;for(;--Z>=0;){const Ie=Z;let xe=Z-1;xe<0&&(xe=ee.length-1);for(let Ne=0,Ee=c+x*2;Ne<Ee;Ne++){const Ke=q*Ne,Ue=q*(Ne+1),W=we+Ie+Ke,G=we+xe+Ke,ce=we+xe+Ue,Me=we+Ie+Ue;fe(W,G,ce,Me)}}}function de(ee,we,Z){l.push(ee),l.push(we),l.push(Z)}function be(ee,we,Z){Te(ee),Te(we),Te(Z);const Ie=i.length/3,xe=S.generateTopUV(r,i,Ie-3,Ie-2,Ie-1);Se(xe[0]),Se(xe[1]),Se(xe[2])}function fe(ee,we,Z,Ie){Te(ee),Te(we),Te(Ie),Te(we),Te(Z),Te(Ie);const xe=i.length/3,Ne=S.generateSideWallUV(r,i,xe-6,xe-3,xe-2,xe-1);Se(Ne[0]),Se(Ne[1]),Se(Ne[3]),Se(Ne[1]),Se(Ne[2]),Se(Ne[3])}function Te(ee){i.push(l[ee*3+0]),i.push(l[ee*3+1]),i.push(l[ee*3+2])}function Se(ee){o.push(ee.x),o.push(ee.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return M3e(n,r,e)}static fromJSON(e,n){const r=[];for(let o=0,a=e.shapes.length;o<a;o++){const s=n[e.shapes[o]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new hM[i.type]().fromJSON(i)),new QE(r,e.options)}}const w3e={generateTopUV:function(t,e,n,r,i){const o=e[n*3],a=e[n*3+1],s=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new tt(o,a),new tt(s,l),new tt(u,c)]},generateSideWallUV:function(t,e,n,r,i,o){const a=e[n*3],s=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],h=e[i*3],g=e[i*3+1],v=e[i*3+2],b=e[o*3],x=e[o*3+1],_=e[o*3+2];return Math.abs(s-c)<Math.abs(a-u)?[new tt(a,1-l),new tt(u,1-f),new tt(h,1-v),new tt(b,1-_)]:[new tt(s,1-l),new tt(c,1-f),new tt(g,1-v),new tt(x,1-_)]}};function M3e(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const o=t[r];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class eA extends zf{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,o,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new eA(e.radius,e.detail)}}class V_ extends zf{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new V_(e.radius,e.detail)}}class tA extends vn{constructor(e=.5,n=1,r=32,i=1,o=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:o,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],u=[],c=[];let f=e;const h=(n-e)/i,g=new ae,v=new tt;for(let b=0;b<=i;b++){for(let x=0;x<=r;x++){const _=o+x/r*a;g.x=f*Math.cos(_),g.y=f*Math.sin(_),l.push(g.x,g.y,g.z),u.push(0,0,1),v.x=(g.x/n+1)/2,v.y=(g.y/n+1)/2,c.push(v.x,v.y)}f+=h}for(let b=0;b<i;b++){const x=b*(r+1);for(let _=0;_<r;_++){const S=_+x,w=S,E=S+r+1,T=S+r+2,P=S+1;s.push(w,E,P),s.push(E,T,P)}}this.setIndex(s),this.setAttribute("position",new kt(l,3)),this.setAttribute("normal",new kt(u,3)),this.setAttribute("uv",new kt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tA(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class nA extends vn{constructor(e=new xd([new tt(0,.5),new tt(-.5,-.5),new tt(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],o=[],a=[];let s=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(s,l,c),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new kt(i,3)),this.setAttribute("normal",new kt(o,3)),this.setAttribute("uv",new kt(a,2));function u(c){const f=i.length/3,h=c.extractPoints(n);let g=h.shape;const v=h.holes;Ql.isClockWise(g)===!1&&(g=g.reverse());for(let x=0,_=v.length;x<_;x++){const S=v[x];Ql.isClockWise(S)===!0&&(v[x]=S.reverse())}const b=Ql.triangulateShape(g,v);for(let x=0,_=v.length;x<_;x++){const S=v[x];g=g.concat(S)}for(let x=0,_=g.length;x<_;x++){const S=g[x];i.push(S.x,S.y,0),o.push(0,0,1),a.push(S.x,S.y)}for(let x=0,_=b.length;x<_;x++){const S=b[x],w=S[0]+f,E=S[1]+f,T=S[2]+f;r.push(w,E,T),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return E3e(n,e)}static fromJSON(e,n){const r=[];for(let i=0,o=e.shapes.length;i<o;i++){const a=n[e.shapes[i]];r.push(a)}return new nA(r,e.curveSegments)}}function E3e(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class X_ extends vn{constructor(e=1,n=32,r=16,i=0,o=Math.PI*2,a=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:o,thetaStart:a,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+s,Math.PI);let u=0;const c=[],f=new ae,h=new ae,g=[],v=[],b=[],x=[];for(let _=0;_<=r;_++){const S=[],w=_/r;let E=0;_===0&&a===0?E=.5/n:_===r&&l===Math.PI&&(E=-.5/n);for(let T=0;T<=n;T++){const P=T/n;f.x=-e*Math.cos(i+P*o)*Math.sin(a+w*s),f.y=e*Math.cos(a+w*s),f.z=e*Math.sin(i+P*o)*Math.sin(a+w*s),v.push(f.x,f.y,f.z),h.copy(f).normalize(),b.push(h.x,h.y,h.z),x.push(P+E,1-w),S.push(u++)}c.push(S)}for(let _=0;_<r;_++)for(let S=0;S<n;S++){const w=c[_][S+1],E=c[_][S],T=c[_+1][S],P=c[_+1][S+1];(_!==0||a>0)&&g.push(w,E,P),(_!==r-1||l<Math.PI)&&g.push(E,T,P)}this.setIndex(g),this.setAttribute("position",new kt(v,3)),this.setAttribute("normal",new kt(b,3)),this.setAttribute("uv",new kt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new X_(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class rA extends zf{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new rA(e.radius,e.detail)}}class iA extends vn{constructor(e=1,n=.4,r=12,i=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:o},r=Math.floor(r),i=Math.floor(i);const a=[],s=[],l=[],u=[],c=new ae,f=new ae,h=new ae;for(let g=0;g<=r;g++)for(let v=0;v<=i;v++){const b=v/i*o,x=g/r*Math.PI*2;f.x=(e+n*Math.cos(x))*Math.cos(b),f.y=(e+n*Math.cos(x))*Math.sin(b),f.z=n*Math.sin(x),s.push(f.x,f.y,f.z),c.x=e*Math.cos(b),c.y=e*Math.sin(b),h.subVectors(f,c).normalize(),l.push(h.x,h.y,h.z),u.push(v/i),u.push(g/r)}for(let g=1;g<=r;g++)for(let v=1;v<=i;v++){const b=(i+1)*g+v-1,x=(i+1)*(g-1)+v-1,_=(i+1)*(g-1)+v,S=(i+1)*g+v;a.push(b,x,S),a.push(x,_,S)}this.setIndex(a),this.setAttribute("position",new kt(s,3)),this.setAttribute("normal",new kt(l,3)),this.setAttribute("uv",new kt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new iA(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class oA extends vn{constructor(e=1,n=.4,r=64,i=8,o=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:o,q:a},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],u=[],c=[],f=new ae,h=new ae,g=new ae,v=new ae,b=new ae,x=new ae,_=new ae;for(let w=0;w<=r;++w){const E=w/r*o*Math.PI*2;S(E,o,a,e,g),S(E+.01,o,a,e,v),x.subVectors(v,g),_.addVectors(v,g),b.crossVectors(x,_),_.crossVectors(b,x),b.normalize(),_.normalize();for(let T=0;T<=i;++T){const P=T/i*Math.PI*2,I=-n*Math.cos(P),O=n*Math.sin(P);f.x=g.x+(I*_.x+O*b.x),f.y=g.y+(I*_.y+O*b.y),f.z=g.z+(I*_.z+O*b.z),l.push(f.x,f.y,f.z),h.subVectors(f,g).normalize(),u.push(h.x,h.y,h.z),c.push(w/r),c.push(T/i)}}for(let w=1;w<=r;w++)for(let E=1;E<=i;E++){const T=(i+1)*(w-1)+(E-1),P=(i+1)*w+(E-1),I=(i+1)*w+E,O=(i+1)*(w-1)+E;s.push(T,P,O),s.push(P,I,O)}this.setIndex(s),this.setAttribute("position",new kt(l,3)),this.setAttribute("normal",new kt(u,3)),this.setAttribute("uv",new kt(c,2));function S(w,E,T,P,I){const O=Math.cos(w),C=Math.sin(w),L=T/E*w,N=Math.cos(L);I.x=P*(2+N)*.5*O,I.y=P*(2+N)*C*.5,I.z=P*Math.sin(L)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new oA(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class aA extends vn{constructor(e=new A3(new ae(-1,-1,0),new ae(-1,1,0),new ae(1,1,0)),n=64,r=1,i=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:o};const a=e.computeFrenetFrames(n,o);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const s=new ae,l=new ae,u=new tt;let c=new ae;const f=[],h=[],g=[],v=[];b(),this.setIndex(v),this.setAttribute("position",new kt(f,3)),this.setAttribute("normal",new kt(h,3)),this.setAttribute("uv",new kt(g,2));function b(){for(let w=0;w<n;w++)x(w);x(o===!1?n:0),S(),_()}function x(w){c=e.getPointAt(w/n,c);const E=a.normals[w],T=a.binormals[w];for(let P=0;P<=i;P++){const I=P/i*Math.PI*2,O=Math.sin(I),C=-Math.cos(I);l.x=C*E.x+O*T.x,l.y=C*E.y+O*T.y,l.z=C*E.z+O*T.z,l.normalize(),h.push(l.x,l.y,l.z),s.x=c.x+r*l.x,s.y=c.y+r*l.y,s.z=c.z+r*l.z,f.push(s.x,s.y,s.z)}}function _(){for(let w=1;w<=n;w++)for(let E=1;E<=i;E++){const T=(i+1)*(w-1)+(E-1),P=(i+1)*w+(E-1),I=(i+1)*w+E,O=(i+1)*(w-1)+E;v.push(T,P,O),v.push(P,I,O)}}function S(){for(let w=0;w<=n;w++)for(let E=0;E<=i;E++)u.x=w/n,u.y=E/i,g.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new aA(new hM[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class $W extends vn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new ae,o=new ae;if(e.index!==null){const a=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],h=f.start,g=f.count;for(let v=h,b=h+g;v<b;v+=3)for(let x=0;x<3;x++){const _=s.getX(v+x),S=s.getX(v+(x+1)%3);i.fromBufferAttribute(a,_),o.fromBufferAttribute(a,S),M4(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}}else{const a=e.attributes.position;for(let s=0,l=a.count/3;s<l;s++)for(let u=0;u<3;u++){const c=3*s+u,f=3*s+(u+1)%3;i.fromBufferAttribute(a,c),o.fromBufferAttribute(a,f),M4(i,o,r)===!0&&(n.push(i.x,i.y,i.z),n.push(o.x,o.y,o.z))}}this.setAttribute("position",new kt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function M4(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var E4=Object.freeze({__proto__:null,BoxGeometry:Yd,CapsuleGeometry:qE,CircleGeometry:YE,ConeGeometry:KE,CylinderGeometry:Xg,DodecahedronGeometry:ZE,EdgesGeometry:FW,ExtrudeGeometry:QE,IcosahedronGeometry:eA,LatheGeometry:W_,OctahedronGeometry:V_,PlaneGeometry:gc,PolyhedronGeometry:zf,RingGeometry:tA,ShapeGeometry:nA,SphereGeometry:X_,TetrahedronGeometry:rA,TorusGeometry:iA,TorusKnotGeometry:oA,TubeGeometry:aA,WireframeGeometry:$W});class HW extends uo{static get type(){return"ShadowMaterial"}constructor(e){super(),this.isShadowMaterial=!0,this.color=new St(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class GW extends ml{static get type(){return"RawShaderMaterial"}constructor(e){super(e),this.isRawShaderMaterial=!0}}class P3 extends uo{static get type(){return"MeshStandardMaterial"}constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.color=new St(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new St(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bf,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Za,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class WW extends P3{static get type(){return"MeshPhysicalMaterial"}constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new tt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Vr(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new St(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new St(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new St(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class VW extends uo{static get type(){return"MeshPhongMaterial"}constructor(e){super(),this.isMeshPhongMaterial=!0,this.color=new St(16777215),this.specular=new St(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new St(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bf,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Za,this.combine=B_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class XW extends uo{static get type(){return"MeshToonMaterial"}constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.color=new St(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new St(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bf,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class qW extends uo{static get type(){return"MeshNormalMaterial"}constructor(e){super(),this.isMeshNormalMaterial=!0,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bf,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class YW extends uo{static get type(){return"MeshLambertMaterial"}constructor(e){super(),this.isMeshLambertMaterial=!0,this.color=new St(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new St(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bf,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Za,this.combine=B_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class KW extends uo{static get type(){return"MeshMatcapMaterial"}constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.color=new St(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Bf,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class ZW extends ea{static get type(){return"LineDashedMaterial"}constructor(e){super(),this.isLineDashedMaterial=!0,this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function fd(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function JW(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function QW(t){function e(i,o){return t[i]-t[o]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function DO(t,e,n){const r=t.length,i=new t.constructor(r);for(let o=0,a=0;a!==r;++o){const s=n[o]*e;for(let l=0;l!==e;++l)i[a++]=t[s+l]}return i}function C3(t,e,n,r){let i=1,o=t[0];for(;o!==void 0&&o[r]===void 0;)o=t[i++];if(o===void 0)return;let a=o[r];if(a!==void 0)if(Array.isArray(a))do a=o[r],a!==void 0&&(e.push(o.time),n.push.apply(n,a)),o=t[i++];while(o!==void 0);else if(a.toArray!==void 0)do a=o[r],a!==void 0&&(e.push(o.time),a.toArray(n,n.length)),o=t[i++];while(o!==void 0);else do a=o[r],a!==void 0&&(e.push(o.time),n.push(a)),o=t[i++];while(o!==void 0)}function A3e(t,e,n,r,i=30){const o=t.clone();o.name=e;const a=[];for(let l=0;l<o.tracks.length;++l){const u=o.tracks[l],c=u.getValueSize(),f=[],h=[];for(let g=0;g<u.times.length;++g){const v=u.times[g]*i;if(!(v<n||v>=r)){f.push(u.times[g]);for(let b=0;b<c;++b)h.push(u.values[g*c+b])}}f.length!==0&&(u.times=fd(f,u.times.constructor),u.values=fd(h,u.values.constructor),a.push(u))}o.tracks=a;let s=1/0;for(let l=0;l<o.tracks.length;++l)s>o.tracks[l].times[0]&&(s=o.tracks[l].times[0]);for(let l=0;l<o.tracks.length;++l)o.tracks[l].shift(-1*s);return o.resetDuration(),o}function T3e(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,o=e/r;for(let a=0;a<i;++a){const s=n.tracks[a],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(_){return _.name===s.name&&_.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let h=0;const g=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=g/3);const v=s.times.length-1;let b;if(o<=s.times[0]){const _=c,S=f-c;b=s.values.slice(_,S)}else if(o>=s.times[v]){const _=v*f+c,S=_+f-c;b=s.values.slice(_,S)}else{const _=s.createInterpolant(),S=c,w=f-c;_.evaluate(o),b=_.resultBuffer.slice(S,w)}l==="quaternion"&&new Eo().fromArray(b).normalize().conjugate().toArray(b);const x=u.times.length;for(let _=0;_<x;++_){const S=_*g+h;if(l==="quaternion")Eo.multiplyQuaternionsFlat(u.values,S,b,0,u.values,S);else{const w=g-h*2;for(let E=0;E<w;++E)u.values[S+E]-=b[E]}}}return t.blendMode=u3,t}const P3e={convertArray:fd,isTypedArray:JW,getKeyframeOrder:QW,sortedArray:DO,flattenJSON:C3,subclip:A3e,makeClipAdditive:T3e};class q_{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],o=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<o)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(o=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=o)){const s=n[1];e<s&&(r=2,o=s);for(let l=r-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=o,o=n[--r-1],e>=o)break t}a=r,r=0;break n}break e}for(;r<a;){const s=r+a>>>1;e<n[s]?a=s:r=s+1}if(i=n[r],o=n[r-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,o,i)}return this.interpolate_(r,o,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,o=e*i;for(let a=0;a!==i;++a)n[a]=r[o+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class eV extends q_{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ld,endingEnd:ld}}intervalChanged_(e,n,r){const i=this.parameterPositions;let o=e-2,a=e+1,s=i[o],l=i[a];if(s===void 0)switch(this.getSettings_().endingStart){case ud:o=e,s=2*n-r;break;case s_:o=i.length-2,s=n+i[o]-i[o+1];break;default:o=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case ud:a=e,l=2*r-n;break;case s_:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-s),this._weightNext=u/(l-r),this._offsetPrev=o*c,this._offsetNext=a*c}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,g=this._weightNext,v=(r-n)/(i-n),b=v*v,x=b*v,_=-h*x+2*h*b-h*v,S=(1+h)*x+(-1.5-2*h)*b+(-.5+h)*v+1,w=(-1-g)*x+(1.5+g)*b+.5*v,E=g*x-g*b;for(let T=0;T!==s;++T)o[T]=_*a[c+T]+S*a[u+T]+w*a[l+T]+E*a[f+T];return o}}class O3 extends q_{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=(r-n)/(i-n),f=1-c;for(let h=0;h!==s;++h)o[h]=a[u+h]*f+a[l+h]*c;return o}}class tV extends q_{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class _l{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=fd(n,this.TimeBufferType),this.values=fd(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:fd(e.times,Array),values:fd(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new tV(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new O3(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new eV(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case a_:n=this.InterpolantFactoryMethodDiscrete;break;case lM:n=this.InterpolantFactoryMethodLinear;break;case zb:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return a_;case this.InterpolantFactoryMethodLinear:return lM;case this.InterpolantFactoryMethodSmooth:return zb}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let o=0,a=i-1;for(;o!==i&&r[o]<e;)++o;for(;a!==-1&&r[a]>n;)--a;if(++a,o!==0||a!==i){o>=a&&(a=Math.max(a,1),o=a-1);const s=this.getValueSize();this.times=r.slice(o,a),this.values=this.values.slice(o*s,a*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,o=r.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let s=0;s!==o;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,a),e=!1;break}a=l}if(i!==void 0&&JW(i))for(let s=0,l=i.length;s!==l;++s){const u=i[s];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===zb,o=e.length-1;let a=1;for(let s=1;s<o;++s){let l=!1;const u=e[s],c=e[s+1];if(u!==c&&(s!==1||u!==e[0]))if(i)l=!0;else{const f=s*r,h=f-r,g=f+r;for(let v=0;v!==r;++v){const b=n[f+v];if(b!==n[h+v]||b!==n[g+v]){l=!0;break}}}if(l){if(s!==a){e[a]=e[s];const f=s*r,h=a*r;for(let g=0;g!==r;++g)n[h+g]=n[f+g]}++a}}if(o>0){e[a]=e[o];for(let s=o*r,l=a*r,u=0;u!==r;++u)n[l+u]=n[s+u];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}_l.prototype.TimeBufferType=Float32Array;_l.prototype.ValueBufferType=Float32Array;_l.prototype.DefaultInterpolation=lM;class Kd extends _l{constructor(e,n,r){super(e,n,r)}}Kd.prototype.ValueTypeName="bool";Kd.prototype.ValueBufferType=Array;Kd.prototype.DefaultInterpolation=a_;Kd.prototype.InterpolantFactoryMethodLinear=void 0;Kd.prototype.InterpolantFactoryMethodSmooth=void 0;class R3 extends _l{}R3.prototype.ValueTypeName="color";class m_ extends _l{}m_.prototype.ValueTypeName="number";class nV extends q_{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const o=this.resultBuffer,a=this.sampleValues,s=this.valueSize,l=(r-n)/(i-n);let u=e*s;for(let c=u+s;u!==c;u+=4)Eo.slerpFlat(o,0,a,u-s,a,u,l);return o}}class Y_ extends _l{InterpolantFactoryMethodLinear(e){return new nV(this.times,this.values,this.getValueSize(),e)}}Y_.prototype.ValueTypeName="quaternion";Y_.prototype.InterpolantFactoryMethodSmooth=void 0;class Zd extends _l{constructor(e,n,r){super(e,n,r)}}Zd.prototype.ValueTypeName="string";Zd.prototype.ValueBufferType=Array;Zd.prototype.DefaultInterpolation=a_;Zd.prototype.InterpolantFactoryMethodLinear=void 0;Zd.prototype.InterpolantFactoryMethodSmooth=void 0;class g_ extends _l{}g_.prototype.ValueTypeName="vector";class v_{constructor(e="",n=-1,r=[],i=UE){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Ya(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,s=r.length;a!==s;++a)n.push(O3e(r[a]).scale(i));const o=new this(e.name,e.duration,n,e.blendMode);return o.uuid=e.uuid,o}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let o=0,a=r.length;o!==a;++o)n.push(_l.toJSON(r[o]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const o=n.length,a=[];for(let s=0;s<o;s++){let l=[],u=[];l.push((s+o-1)%o,s,(s+1)%o),u.push(0,1,0);const c=QW(l);l=DO(l,1,c),u=DO(u,1,c),!i&&l[0]===0&&(l.push(o),u.push(u[0])),a.push(new m_(".morphTargetInfluences["+n[s].name+"]",l,u).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},o=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const u=e[s],c=u.name.match(o);if(c&&c.length>1){const f=c[1];let h=i[f];h||(i[f]=h=[]),h.push(u)}}const a=[];for(const s in i)a.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,g,v,b){if(g.length!==0){const x=[],_=[];C3(g,x,_,v),x.length!==0&&b.push(new f(h,x,_))}},i=[],o=e.name||"default",a=e.fps||30,s=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const g={};let v;for(v=0;v<h.length;v++)if(h[v].morphTargets)for(let b=0;b<h[v].morphTargets.length;b++)g[h[v].morphTargets[b]]=-1;for(const b in g){const x=[],_=[];for(let S=0;S!==h[v].morphTargets.length;++S){const w=h[v];x.push(w.time),_.push(w.morphTarget===b?1:0)}i.push(new m_(".morphTargetInfluence["+b+"]",x,_))}l=g.length*a}else{const g=".bones["+n[f].name+"]";r(g_,g+".position",h,"pos",i),r(Y_,g+".quaternion",h,"rot",i),r(g_,g+".scale",h,"scl",i)}}return i.length===0?null:new this(o,l,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const o=this.tracks[r];n=Math.max(n,o.times[o.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function C3e(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return m_;case"vector":case"vector2":case"vector3":case"vector4":return g_;case"color":return R3;case"quaternion":return Y_;case"bool":case"boolean":return Kd;case"string":return Zd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function O3e(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=C3e(t.type);if(t.times===void 0){const n=[],r=[];C3(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Vu={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class I3{constructor(e,n,r){const i=this;let o=!1,a=0,s=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){s++,o===!1&&i.onStart!==void 0&&i.onStart(c,a,s),o=!0},this.itemEnd=function(c){a++,i.onProgress!==void 0&&i.onProgress(c,a,s),a===s&&(o=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,h=u.length;f<h;f+=2){const g=u[f],v=u[f+1];if(g.global&&(g.lastIndex=0),g.test(c))return v}return null}}}const rV=new I3;class ba{constructor(e){this.manager=e!==void 0?e:rV,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,o){r.load(e,i,n,o)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}ba.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ru={};class R3e extends Error{constructor(e,n){super(e),this.response=n}}class cc extends ba{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=Vu.get(e);if(o!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(o),this.manager.itemEnd(e)},0),o;if(Ru[e]!==void 0){Ru[e].push({onLoad:n,onProgress:r,onError:i});return}Ru[e]=[],Ru[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(a).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=Ru[e],f=u.body.getReader(),h=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),g=h?parseInt(h):0,v=g!==0;let b=0;const x=new ReadableStream({start(_){S();function S(){f.read().then(({done:w,value:E})=>{if(w)_.close();else{b+=E.byteLength;const T=new ProgressEvent("progress",{lengthComputable:v,loaded:b,total:g});for(let P=0,I=c.length;P<I;P++){const O=c[P];O.onProgress&&O.onProgress(T)}_.enqueue(E),S()}},w=>{_.error(w)})}}});return new Response(x)}else throw new R3e(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,s));case"json":return u.json();default:if(s===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(s),h=f&&f[1]?f[1].toLowerCase():void 0,g=new TextDecoder(h);return u.arrayBuffer().then(v=>g.decode(v))}}}).then(u=>{Vu.add(e,u);const c=Ru[e];delete Ru[e];for(let f=0,h=c.length;f<h;f++){const g=c[f];g.onLoad&&g.onLoad(u)}}).catch(u=>{const c=Ru[e];if(c===void 0)throw this.manager.itemError(e),u;delete Ru[e];for(let f=0,h=c.length;f<h;f++){const g=c[f];g.onError&&g.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class I3e extends ba{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new cc(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=v_.parse(e[r]);n.push(i)}return n}}class L3e extends ba{constructor(e){super(e)}load(e,n,r,i){const o=this,a=[],s=new VE,l=new cc(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(o.withCredentials);let u=0;function c(f){l.load(e[f],function(h){const g=o.parse(h,!0);a[f]={width:g.width,height:g.height,format:g.format,mipmaps:g.mipmaps},u+=1,u===6&&(g.mipmapCount===1&&(s.minFilter=ai),s.image=a,s.format=g.format,s.needsUpdate=!0,n&&n(s))},r,i)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)c(f);else l.load(e,function(f){const h=o.parse(f,!0);if(h.isCubemap){const g=h.mipmaps.length/h.mipmapCount;for(let v=0;v<g;v++){a[v]={mipmaps:[]};for(let b=0;b<h.mipmapCount;b++)a[v].mipmaps.push(h.mipmaps[v*h.mipmapCount+b]),a[v].format=h.format,a[v].width=h.width,a[v].height=h.height}s.image=a}else s.image.width=h.width,s.image.height=h.height,s.mipmaps=h.mipmaps;h.mipmapCount===1&&(s.minFilter=ai),s.format=h.format,s.needsUpdate=!0,n&&n(s)},r,i);return s}}class y_ extends ba{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Vu.get(e);if(a!==void 0)return o.manager.itemStart(e),setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a;const s=c_("img");function l(){c(),Vu.add(e,this),n&&n(this),o.manager.itemEnd(e)}function u(f){c(),i&&i(f),o.manager.itemError(e),o.manager.itemEnd(e)}function c(){s.removeEventListener("load",l,!1),s.removeEventListener("error",u,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),o.manager.itemStart(e),s.src=e,s}}class D3e extends ba{constructor(e){super(e)}load(e,n,r,i){const o=new H_;o.colorSpace=fa;const a=new y_(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let s=0;function l(u){a.load(e[u],function(c){o.images[u]=c,s++,s===6&&(o.needsUpdate=!0,n&&n(o))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return o}}class N3e extends ba{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new Jl,s=new cc(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(o.withCredentials),s.load(e,function(l){let u;try{u=o.parse(l)}catch(c){if(i!==void 0)i(c);else{console.error(c);return}}u.image!==void 0?a.image=u.image:u.data!==void 0&&(a.image.width=u.width,a.image.height=u.height,a.image.data=u.data),a.wrapS=u.wrapS!==void 0?u.wrapS:Es,a.wrapT=u.wrapT!==void 0?u.wrapT:Es,a.magFilter=u.magFilter!==void 0?u.magFilter:ai,a.minFilter=u.minFilter!==void 0?u.minFilter:ai,a.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(a.colorSpace=u.colorSpace),u.flipY!==void 0&&(a.flipY=u.flipY),u.format!==void 0&&(a.format=u.format),u.type!==void 0&&(a.type=u.type),u.mipmaps!==void 0&&(a.mipmaps=u.mipmaps,a.minFilter=Wl),u.mipmapCount===1&&(a.minFilter=ai),u.generateMipmaps!==void 0&&(a.generateMipmaps=u.generateMipmaps),a.needsUpdate=!0,n&&n(a,u)},r,i),a}}class k3e extends ba{constructor(e){super(e)}load(e,n,r,i){const o=new Er,a=new y_(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(s){o.image=s,o.needsUpdate=!0,n!==void 0&&n(o)},r,i),o}}class jf extends Bn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new St(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class iV extends jf{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Bn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new St(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const P2=new Jt,A4=new ae,T4=new ae;class L3{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new tt(512,512),this.map=null,this.mapPass=null,this.matrix=new Jt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new G_,this._frameExtents=new tt(1,1),this._viewportCount=1,this._viewports=[new Dn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;A4.setFromMatrixPosition(e.matrixWorld),n.position.copy(A4),T4.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(T4),n.updateMatrixWorld(),P2.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(P2),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(P2)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class U3e extends L3{constructor(){super(new oi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=bg*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,o=e.distance||n.far;(r!==n.fov||i!==n.aspect||o!==n.far)&&(n.fov=r,n.aspect=i,n.far=o,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class oV extends jf{constructor(e,n,r=0,i=Math.PI/3,o=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Bn.DEFAULT_UP),this.updateMatrix(),this.target=new Bn,this.distance=r,this.angle=i,this.penumbra=o,this.decay=a,this.map=null,this.shadow=new U3e}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const P4=new Jt,fy=new ae,C2=new ae;class F3e extends L3{constructor(){super(new oi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new tt(4,2),this._viewportCount=6,this._viewports=[new Dn(2,1,1,1),new Dn(0,1,1,1),new Dn(3,1,1,1),new Dn(1,1,1,1),new Dn(3,0,1,1),new Dn(1,0,1,1)],this._cubeDirections=[new ae(1,0,0),new ae(-1,0,0),new ae(0,0,1),new ae(0,0,-1),new ae(0,1,0),new ae(0,-1,0)],this._cubeUps=[new ae(0,1,0),new ae(0,1,0),new ae(0,1,0),new ae(0,1,0),new ae(0,0,1),new ae(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,o=e.distance||r.far;o!==r.far&&(r.far=o,r.updateProjectionMatrix()),fy.setFromMatrixPosition(e.matrixWorld),r.position.copy(fy),C2.copy(r.position),C2.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(C2),r.updateMatrixWorld(),i.makeTranslation(-fy.x,-fy.y,-fy.z),P4.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(P4)}}class aV extends jf{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new F3e}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class B3e extends L3{constructor(){super(new Ef(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class sV extends jf{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Bn.DEFAULT_UP),this.updateMatrix(),this.target=new Bn,this.shadow=new B3e}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class lV extends jf{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class uV extends jf{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class cV{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ae)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*o),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*o)),n.addScaledVector(a[6],.315392*(3*o*o-1)),n.addScaledVector(a[7],1.092548*(r*o)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,o=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*o),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*o),n.addScaledVector(a[6],.743125*o*o-.247708),n.addScaledVector(a[7],2*.429043*r*o),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,o=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*o,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*o,n[6]=.315392*(3*o*o-1),n[7]=1.092548*r*o,n[8]=.546274*(r*r-i*i)}}class fV extends jf{constructor(e=new cV,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class sA extends ba{constructor(e){super(e),this.textures={}}load(e,n,r,i){const o=this,a=new cc(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(o){return n[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),n[o]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new St().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const o in e.uniforms){const a=e.uniforms[o];switch(i.uniforms[o]={},a.type){case"t":i.uniforms[o].value=r(a.value);break;case"c":i.uniforms[o].value=new St().setHex(a.value);break;case"v2":i.uniforms[o].value=new tt().fromArray(a.value);break;case"v3":i.uniforms[o].value=new ae().fromArray(a.value);break;case"v4":i.uniforms[o].value=new Dn().fromArray(a.value);break;case"m3":i.uniforms[o].value=new un().fromArray(a.value);break;case"m4":i.uniforms[o].value=new Jt().fromArray(a.value);break;default:i.uniforms[o].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const o in e.extensions)i.extensions[o]=e.extensions[o];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let o=e.normalScale;Array.isArray(o)===!1&&(o=[o,o]),i.normalScale=new tt().fromArray(o)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new tt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return sA.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:HW,SpriteMaterial:_3,RawShaderMaterial:GW,ShaderMaterial:ml,PointsMaterial:b3,MeshPhysicalMaterial:WW,MeshStandardMaterial:P3,MeshPhongMaterial:VW,MeshToonMaterial:XW,MeshNormalMaterial:qW,MeshLambertMaterial:YW,MeshDepthMaterial:zE,MeshDistanceMaterial:jE,MeshBasicMaterial:mc,MeshMatcapMaterial:KW,LineDashedMaterial:ZW,LineBasicMaterial:ea,Material:uo};return new n[e]}}class NO{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class D3 extends vn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class hV extends ba{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new cc(o.manager);a.setPath(o.path),a.setRequestHeader(o.requestHeader),a.setWithCredentials(o.withCredentials),a.load(e,function(s){try{n(o.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),o.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(g,v){if(n[v]!==void 0)return n[v];const x=g.interleavedBuffers[v],_=o(g,x.buffer),S=Sm(x.type,_),w=new GE(S,x.stride);return w.uuid=x.uuid,n[v]=w,w}function o(g,v){if(r[v]!==void 0)return r[v];const x=g.arrayBuffers[v],_=new Uint32Array(x).buffer;return r[v]=_,_}const a=e.isInstancedBufferGeometry?new D3:new vn,s=e.data.index;if(s!==void 0){const g=Sm(s.type,s.array);a.setIndex(new tr(g,1))}const l=e.data.attributes;for(const g in l){const v=l[g];let b;if(v.isInterleavedBufferAttribute){const x=i(e.data,v.data);b=new Dd(x,v.itemSize,v.offset,v.normalized)}else{const x=Sm(v.type,v.array),_=v.isInstancedBufferAttribute?Nd:tr;b=new _(x,v.itemSize,v.normalized)}v.name!==void 0&&(b.name=v.name),v.usage!==void 0&&b.setUsage(v.usage),a.setAttribute(g,b)}const u=e.data.morphAttributes;if(u)for(const g in u){const v=u[g],b=[];for(let x=0,_=v.length;x<_;x++){const S=v[x];let w;if(S.isInterleavedBufferAttribute){const E=i(e.data,S.data);w=new Dd(E,S.itemSize,S.offset,S.normalized)}else{const E=Sm(S.type,S.array);w=new tr(E,S.itemSize,S.normalized)}S.name!==void 0&&(w.name=S.name),b.push(w)}a.morphAttributes[g]=b}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let g=0,v=f.length;g!==v;++g){const b=f[g];a.addGroup(b.start,b.count,b.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const g=new ae;h.center!==void 0&&g.fromArray(h.center),a.boundingSphere=new so(g,h.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class z3e extends ba{constructor(e){super(e)}load(e,n,r,i){const o=this,a=this.path===""?NO.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const s=new cc(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}o.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?NO.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const o=new cc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const a=await o.loadAsync(e,n),s=JSON.parse(a),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),o=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(u)}),s=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,o,l,s,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),this.bindLightTargets(u),n!==void 0){let f=!1;for(const h in a)if(a[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),o=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,o),s=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,s,a,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const o=new xd().fromJSON(e[r]);n[o.uuid]=o}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(o){o.isBone&&(i[o.uuid]=o)}),e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=new WE().fromJSON(e[o],i);r[s.uuid]=s}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new hV;for(let o=0,a=e.length;o<a;o++){let s;const l=e[o];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in E4?s=E4[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const o=new sA;o.setTextures(n);for(let a=0,s=e.length;a<s;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=o.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],o=v_.parse(i);n[o.uuid]=o}return n}parseImages(e,n){const r=this,i={};let o;function a(l){return r.manager.itemStart(l),o.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return a(c)}else return l.data?{data:Sm(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new I3(n);o=new y_(l),o.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],h=f.url;if(Array.isArray(h)){const g=[];for(let v=0,b=h.length;v<b;v++){const x=h[v],_=s(x);_!==null&&(_ instanceof HTMLImageElement?g.push(_):g.push(new Jl(_.data,_.width,_.height)))}i[f.uuid]=new cd(g)}else{const g=s(f.url);i[f.uuid]=new cd(g)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function o(a){if(typeof a=="string"){const s=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await i.loadAsync(l)}else return a.data?{data:Sm(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new y_(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,s=e.length;a<s;a++){const l=e[a],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,h=u.length;f<h;f++){const g=u[f],v=await o(g);v!==null&&(v instanceof HTMLImageElement?c.push(v):c.push(new Jl(v.data,v.width,v.height)))}r[l.uuid]=new cd(c)}else{const c=await o(l.url);r[l.uuid]=new cd(c)}}}return r}parseTextures(e,n){function r(o,a){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),a[o])}const i={};if(e!==void 0)for(let o=0,a=e.length;o<a;o++){const s=e[o];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=n[s.image],u=l.data;let c;Array.isArray(u)?(c=new H_,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new Jl:c=new Er,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=s.uuid,s.name!==void 0&&(c.name=s.name),s.mapping!==void 0&&(c.mapping=r(s.mapping,j3e)),s.channel!==void 0&&(c.channel=s.channel),s.offset!==void 0&&c.offset.fromArray(s.offset),s.repeat!==void 0&&c.repeat.fromArray(s.repeat),s.center!==void 0&&c.center.fromArray(s.center),s.rotation!==void 0&&(c.rotation=s.rotation),s.wrap!==void 0&&(c.wrapS=r(s.wrap[0],C4),c.wrapT=r(s.wrap[1],C4)),s.format!==void 0&&(c.format=s.format),s.internalFormat!==void 0&&(c.internalFormat=s.internalFormat),s.type!==void 0&&(c.type=s.type),s.colorSpace!==void 0&&(c.colorSpace=s.colorSpace),s.minFilter!==void 0&&(c.minFilter=r(s.minFilter,O4)),s.magFilter!==void 0&&(c.magFilter=r(s.magFilter,O4)),s.anisotropy!==void 0&&(c.anisotropy=s.anisotropy),s.flipY!==void 0&&(c.flipY=s.flipY),s.generateMipmaps!==void 0&&(c.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(c.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(c.compareFunction=s.compareFunction),s.userData!==void 0&&(c.userData=s.userData),i[s.uuid]=c}return i}parseObject(e,n,r,i,o){let a;function s(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const g=[];for(let v=0,b=h.length;v<b;v++){const x=h[v];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),g.push(r[x])}return g}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function u(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let c,f;switch(e.type){case"Scene":a=new uM,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new St(e.background):a.background=u(e.background)),e.environment!==void 0&&(a.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new HE(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new $E(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new oi(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new Ef(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new lV(e.color,e.intensity);break;case"DirectionalLight":a=new sV(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new aV(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new uV(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new oV(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new iV(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new fV().fromJSON(e);break;case"SkinnedMesh":c=s(e.geometry),f=l(e.material),a=new PW(c,f),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":c=s(e.geometry),f=l(e.material),a=new Dr(c,f);break;case"InstancedMesh":c=s(e.geometry),f=l(e.material);const h=e.count,g=e.instanceMatrix,v=e.instanceColor;a=new CW(c,f,h),a.instanceMatrix=new Nd(new Float32Array(g.array),16),v!==void 0&&(a.instanceColor=new Nd(new Float32Array(v.array),v.itemSize));break;case"BatchedMesh":c=s(e.geometry),f=l(e.material),a=new OW(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,f),a.geometry=c,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(b=>{const x=new ao;x.min.fromArray(b.boxMin),x.max.fromArray(b.boxMax);const _=new so;return _.radius=b.sphereRadius,_.center.fromArray(b.sphereCenter),{boxInitialized:b.boxInitialized,box:x,sphereInitialized:b.sphereInitialized,sphere:_}}),a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=u(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=u(e.colorsTexture.uuid));break;case"LOD":a=new TW;break;case"Line":a=new Of(s(e.geometry),l(e.material));break;case"LineLoop":a=new RW(s(e.geometry),l(e.material));break;case"LineSegments":a=new ru(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new IW(s(e.geometry),l(e.material));break;case"Sprite":a=new AW(l(e.material));break;case"Group":a=new Mm;break;case"Bone":a=new x3;break;default:a=new Bn}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let g=0;g<h.length;g++)a.add(this.parseObject(h[g],n,r,i,o))}if(e.animations!==void 0){const h=e.animations;for(let g=0;g<h.length;g++){const v=h[g];a.animations.push(o[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const h=e.levels;for(let g=0;g<h.length;g++){const v=h[g],b=a.getObjectByProperty("uuid",v.object);b!==void 0&&a.addLevel(b,v.distance,v.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new Bn}})}}const j3e={UVMapping:OE,CubeReflectionMapping:lc,CubeRefractionMapping:Cf,EquirectangularReflectionMapping:n_,EquirectangularRefractionMapping:r_,CubeUVReflectionMapping:Gg},C4={RepeatWrapping:i_,ClampToEdgeWrapping:Es,MirroredRepeatWrapping:o_},O4={NearestFilter:oo,NearestMipmapNearestFilter:QI,NearestMipmapLinearFilter:bm,LinearFilter:ai,LinearMipmapNearestFilter:$y,LinearMipmapLinearFilter:Wl};class $3e extends ba{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const o=this,a=Vu.get(e);if(a!==void 0){if(o.manager.itemStart(e),a.then){a.then(u=>{n&&n(u),o.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){n&&n(a),o.manager.itemEnd(e)},0),a}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const l=fetch(e,s).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(u){return Vu.add(e,u),n&&n(u),o.manager.itemEnd(e),u}).catch(function(u){i&&i(u),Vu.remove(e),o.manager.itemError(e),o.manager.itemEnd(e)});Vu.add(e,l),o.manager.itemStart(e)}}let pb;class N3{static getContext(){return pb===void 0&&(pb=new(window.AudioContext||window.webkitAudioContext)),pb}static setContext(e){pb=e}}class H3e extends ba{constructor(e){super(e)}load(e,n,r,i){const o=this,a=new cc(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const u=l.slice(0);N3.getContext().decodeAudioData(u,function(f){n(f)}).catch(s)}catch(u){s(u)}},r,i);function s(l){i?i(l):console.error(l),o.manager.itemError(e)}}}const R4=new Jt,I4=new Jt,Fh=new Jt;class G3e{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new oi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new oi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,Fh.copy(e.projectionMatrix);const i=n.eyeSep/2,o=i*n.near/n.focus,a=n.near*Math.tan(yd*n.fov*.5)/n.zoom;let s,l;I4.elements[12]=-i,R4.elements[12]=i,s=-a*n.aspect+o,l=a*n.aspect+o,Fh.elements[0]=2*n.near/(l-s),Fh.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(Fh),s=-a*n.aspect-o,l=a*n.aspect-o,Fh.elements[0]=2*n.near/(l-s),Fh.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(Fh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(I4),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(R4)}}class k3{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=L4(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=L4();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function L4(){return performance.now()}const Bh=new ae,D4=new Eo,W3e=new ae,zh=new ae;class V3e extends Bn{constructor(){super(),this.type="AudioListener",this.context=N3.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new k3}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Bh,D4,W3e),zh.set(0,0,-1).applyQuaternion(D4),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(Bh.x,i),n.positionY.linearRampToValueAtTime(Bh.y,i),n.positionZ.linearRampToValueAtTime(Bh.z,i),n.forwardX.linearRampToValueAtTime(zh.x,i),n.forwardY.linearRampToValueAtTime(zh.y,i),n.forwardZ.linearRampToValueAtTime(zh.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(Bh.x,Bh.y,Bh.z),n.setOrientation(zh.x,zh.y,zh.z,r.x,r.y,r.z)}}class dV extends Bn{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const jh=new ae,N4=new Eo,X3e=new ae,$h=new ae;class q3e extends dV{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(jh,N4,X3e),$h.set(0,0,1).applyQuaternion(N4);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(jh.x,r),n.positionY.linearRampToValueAtTime(jh.y,r),n.positionZ.linearRampToValueAtTime(jh.z,r),n.orientationX.linearRampToValueAtTime($h.x,r),n.orientationY.linearRampToValueAtTime($h.y,r),n.orientationZ.linearRampToValueAtTime($h.z,r)}else n.setPosition(jh.x,jh.y,jh.z),n.setOrientation($h.x,$h.y,$h.z)}}class Y3e{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class pV{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,o,a;switch(n){case"quaternion":i=this._slerp,o=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,o=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,o=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=o,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,o=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let s=0;s!==i;++s)r[o+s]=r[s];a=n}else{a+=n;const s=n/a;this._mixBufferRegion(r,o,0,s,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,o=this.cumulativeWeight,a=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-o,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let o=r,a=i;o!==a;++o)n[o]=n[i+o%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,o){if(i>=.5)for(let a=0;a!==o;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){Eo.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,o){const a=this._workIndex*o;Eo.multiplyQuaternionsFlat(e,a,e,n,e,r),Eo.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,o){const a=1-i;for(let s=0;s!==o;++s){const l=n+s;e[l]=e[l]*a+e[r+s]*i}}_lerpAdditive(e,n,r,i,o){for(let a=0;a!==o;++a){const s=n+a;e[s]=e[s]+e[r+a]*i}}}const U3="\\[\\]\\.:\\/",K3e=new RegExp("["+U3+"]","g"),F3="[^"+U3+"]",Z3e="[^"+U3.replace("\\.","")+"]",J3e=/((?:WC+[\/:])*)/.source.replace("WC",F3),Q3e=/(WCOD+)?/.source.replace("WCOD",Z3e),eLe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",F3),tLe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",F3),nLe=new RegExp("^"+J3e+Q3e+eLe+tLe+"$"),rLe=["material","materials","bones","map"];class iLe{constructor(e,n,r){const i=r||Un.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,o=r.length;i!==o;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Un{constructor(e,n,r){this.path=n,this.parsedPath=r||Un.parseTrackName(n),this.node=Un.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Un.Composite(e,n,r):new Un(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(K3e,"")}static parseTrackName(e){const n=nLe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const o=r.nodeName.substring(i+1);rLe.indexOf(o)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=o)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(o){for(let a=0;a<o.length;a++){const s=o[a];if(s.name===n||s.uuid===n)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,o=r.length;i!==o;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let o=n.propertyIndex;if(e||(e=Un.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const a=e[i];if(a===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(o!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[o]!==void 0&&(o=e.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Un.Composite=iLe;Un.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Un.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Un.prototype.GetterByBindingType=[Un.prototype._getValue_direct,Un.prototype._getValue_array,Un.prototype._getValue_arrayElement,Un.prototype._getValue_toArray];Un.prototype.SetterByBindingTypeAndVersioning=[[Un.prototype._setValue_direct,Un.prototype._setValue_direct_setNeedsUpdate,Un.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Un.prototype._setValue_array,Un.prototype._setValue_array_setNeedsUpdate,Un.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Un.prototype._setValue_arrayElement,Un.prototype._setValue_arrayElement_setNeedsUpdate,Un.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Un.prototype._setValue_fromArray,Un.prototype._setValue_fromArray_setNeedsUpdate,Un.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class oLe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ya(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,o=this._bindings,a=o.length;let s,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const h=arguments[c],g=h.uuid;let v=n[g];if(v===void 0){v=l++,n[g]=v,e.push(h);for(let b=0,x=a;b!==x;++b)o[b].push(new Un(h,r[b],i[b]))}else if(v<u){s=e[v];const b=--u,x=e[b];n[x.uuid]=v,e[v]=x,n[g]=b,e[b]=h;for(let _=0,S=a;_!==S;++_){const w=o[_],E=w[b];let T=w[v];w[v]=E,T===void 0&&(T=new Un(h,r[_],i[_])),w[b]=T}}else e[v]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_;for(let a=0,s=arguments.length;a!==s;++a){const l=arguments[a],u=l.uuid,c=n[u];if(c!==void 0&&c>=o){const f=o++,h=e[f];n[h.uuid]=c,e[c]=h,n[u]=f,e[f]=l;for(let g=0,v=i;g!==v;++g){const b=r[g],x=b[f],_=b[c];b[c]=x,b[f]=_}}}this.nCachedObjects_=o}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let o=this.nCachedObjects_,a=e.length;for(let s=0,l=arguments.length;s!==l;++s){const u=arguments[s],c=u.uuid,f=n[c];if(f!==void 0)if(delete n[c],f<o){const h=--o,g=e[h],v=--a,b=e[v];n[g.uuid]=f,e[f]=g,n[b.uuid]=h,e[h]=b,e.pop();for(let x=0,_=i;x!==_;++x){const S=r[x],w=S[h],E=S[v];S[f]=w,S[h]=E,S.pop()}}else{const h=--a,g=e[h];h>0&&(n[g.uuid]=f),e[f]=g,e.pop();for(let v=0,b=i;v!==b;++v){const x=r[v];x[f]=x[h],x.pop()}}}this.nCachedObjects_=o}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const o=this._bindings;if(i!==void 0)return o[i];const a=this._paths,s=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=o.length,r[e]=i,a.push(e),s.push(n),o.push(f);for(let h=c,g=l.length;h!==g;++h){const v=l[h];f[h]=new Un(v,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length-1,l=a[s],u=e[s];n[u]=r,a[r]=l,a.pop(),o[r]=o[s],o.pop(),i[r]=i[s],i.pop()}}}class mV{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const o=n.tracks,a=o.length,s=new Array(a),l={endingStart:ld,endingEnd:ld};for(let u=0;u!==a;++u){const c=o[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=JG,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,o=e._clip.duration,a=o/i,s=i/o;e.warp(1,a,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,o=i.time,a=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=o,l[1]=o+r,u[0]=e/a,u[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const o=this._startTime;if(o!==null){const l=(e-o)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case u3:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(a),u[c].accumulateAdditive(s);break;case UE:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(a),u[c].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,o=this._loopCount;const a=r===QG;if(e===0)return o===-1?i:a&&(o&1)===1?n-i:i;if(r===ZG){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,o+=Math.abs(s);const l=this.repetitions-o;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(a&&(o&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=ud,i.endingEnd=ud):(e?i.endingStart=this.zeroSlopeAtStart?ud:ld:i.endingStart=s_,n?i.endingEnd=this.zeroSlopeAtEnd?ud:ld:i.endingEnd=s_)}_scheduleFading(e,n,r){const i=this._mixer,o=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const s=a.parameterPositions,l=a.sampleValues;return s[0]=o,l[0]=n,s[1]=o+e,l[1]=r,this}}const aLe=new Float32Array(1);class sLe extends vl{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,o=i.length,a=e._propertyBindings,s=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==o;++f){const h=i[f],g=h.name;let v=c[g];if(v!==void 0)++v.referenceCount,a[f]=v;else{if(v=a[f],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,g));continue}const b=n&&n._propertyBindings[f].binding.parsedPath;v=new pV(Un.create(r,g,b),h.ValueTypeName,h.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,g),a[f]=v}s[f].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,o=this._actionsByClip[i];this._bindAction(e,o&&o.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,o=this._actionsByClip;let a=o[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,o[n]=a;else{const s=a.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const o=e._clip.uuid,a=this._actionsByClip,s=a[o],l=s.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=s.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete a[o],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const o=n[r];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,o=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=o.length,o.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,o=r.path,a=this._bindingsByRootAndName,s=a[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete s[o],Object.keys(s).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,o=n[i];e._cacheIndex=i,n[i]=e,o._cacheIndex=r,n[r]=o}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new O3(new Float32Array(2),new Float32Array(2),1,aLe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,o=n[i];e.__cacheIndex=i,n[i]=e,o.__cacheIndex=r,n[r]=o}clipAction(e,n,r){const i=n||this._root,o=i.uuid;let a=typeof e=="string"?v_.findByName(i,e):e;const s=a!==null?a.uuid:e,l=this._actionsByClip[s];let u=null;if(r===void 0&&(a!==null?r=a.blendMode:r=UE),l!==void 0){const f=l.actionByRoot[o];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],a===null&&(a=u._clip)}if(a===null)return null;const c=new mV(this,a,n,r);return this._bindAction(c,u),this._addInactiveAction(c,s,o),c}existingAction(e,n){const r=n||this._root,i=r.uuid,o=typeof e=="string"?v_.findByName(r,e):e,a=o?o.uuid:e,s=this._actionsByClip[a];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,o=Math.sign(e),a=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,o,a);const s=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)s[u].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,o=i[r];if(o!==void 0){const a=o.knownActions;for(let s=0,l=a.length;s!==l;++s){const u=a[s];this._deactivateAction(u);const c=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,n[c]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const s=r[a].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,o=i[n];if(o!==void 0)for(const a in o){const s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class B3{constructor(e){this.value=e}clone(){return new B3(this.value.clone===void 0?this.value:this.value.clone())}}let lLe=0;class uLe extends vl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:lLe++}),this.name="",this.usage=l_,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const o=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<o.length;a++)this.uniforms.push(o[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class cLe extends GE{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class fLe{constructor(e,n,r,i,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=o,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const k4=new Jt;class gV{constructor(e,n,r=0,i=1/0){this.ray=new qd(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new _d,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return k4.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(k4),this}intersectObject(e,n=!0,r=[]){return kO(e,this,r,n),r.sort(U4),r}intersectObjects(e,n=!0,r=[]){for(let i=0,o=e.length;i<o;i++)kO(e[i],this,r,n);return r.sort(U4),r}}function U4(t,e){return t.distance-e.distance}function kO(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const o=t.children;for(let a=0,s=o.length;a<s;a++)kO(o[a],e,n,!0)}}class UO{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Vr(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class hLe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class z3{constructor(e,n,r,i){z3.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const o=this.elements;return o[0]=e,o[2]=n,o[1]=r,o[3]=i,this}}const F4=new tt;class dLe{constructor(e=new tt(1/0,1/0),n=new tt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=F4.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,F4).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const B4=new ae,mb=new ae;class pLe{constructor(e=new ae,n=new ae){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){B4.subVectors(e,this.start),mb.subVectors(this.end,this.start);const r=mb.dot(mb);let o=mb.dot(B4)/r;return n&&(o=Vr(o,0,1)),o}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const z4=new ae;class mLe extends Bn{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new vn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,s=1,l=32;a<l;a++,s++){const u=a/l*Math.PI*2,c=s/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new kt(i,3));const o=new ea({fog:!1,toneMapped:!1});this.cone=new ru(r,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),z4.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(z4),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const tf=new ae,gb=new Jt,O2=new Jt;class gLe extends ru{constructor(e){const n=vV(e),r=new vn,i=[],o=[],a=new St(0,0,1),s=new St(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),o.push(a.r,a.g,a.b),o.push(s.r,s.g,s.b))}r.setAttribute("position",new kt(i,3)),r.setAttribute("color",new kt(o,3));const l=new ea({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");O2.copy(this.root.matrixWorld).invert();for(let o=0,a=0;o<n.length;o++){const s=n[o];s.parent&&s.parent.isBone&&(gb.multiplyMatrices(O2,s.matrixWorld),tf.setFromMatrixPosition(gb),i.setXYZ(a,tf.x,tf.y,tf.z),gb.multiplyMatrices(O2,s.parent.matrixWorld),tf.setFromMatrixPosition(gb),i.setXYZ(a+1,tf.x,tf.y,tf.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function vV(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,vV(t.children[n]));return e}class vLe extends Dr{constructor(e,n,r){const i=new X_(n,4,2),o=new mc({wireframe:!0,fog:!1,toneMapped:!1});super(i,o),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const yLe=new ae,j4=new St,$4=new St;class _Le extends Bn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new V_(n);i.rotateY(Math.PI*.5),this.material=new mc({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=i.getAttribute("position"),a=new Float32Array(o.count*3);i.setAttribute("color",new tr(a,3)),this.add(new Dr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");j4.copy(this.light.color),$4.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const o=r<i/2?j4:$4;n.setXYZ(r,o.r,o.g,o.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(yLe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class xLe extends ru{constructor(e=10,n=10,r=4473924,i=8947848){r=new St(r),i=new St(i);const o=n/2,a=e/n,s=e/2,l=[],u=[];for(let h=0,g=0,v=-s;h<=n;h++,v+=a){l.push(-s,0,v,s,0,v),l.push(v,0,-s,v,0,s);const b=h===o?r:i;b.toArray(u,g),g+=3,b.toArray(u,g),g+=3,b.toArray(u,g),g+=3,b.toArray(u,g),g+=3}const c=new vn;c.setAttribute("position",new kt(l,3)),c.setAttribute("color",new kt(u,3));const f=new ea({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class bLe extends ru{constructor(e=10,n=16,r=8,i=64,o=4473924,a=8947848){o=new St(o),a=new St(a);const s=[],l=[];if(n>1)for(let f=0;f<n;f++){const h=f/n*(Math.PI*2),g=Math.sin(h)*e,v=Math.cos(h)*e;s.push(0,0,0),s.push(g,0,v);const b=f&1?o:a;l.push(b.r,b.g,b.b),l.push(b.r,b.g,b.b)}for(let f=0;f<r;f++){const h=f&1?o:a,g=e-e/r*f;for(let v=0;v<i;v++){let b=v/i*(Math.PI*2),x=Math.sin(b)*g,_=Math.cos(b)*g;s.push(x,0,_),l.push(h.r,h.g,h.b),b=(v+1)/i*(Math.PI*2),x=Math.sin(b)*g,_=Math.cos(b)*g,s.push(x,0,_),l.push(h.r,h.g,h.b)}}const u=new vn;u.setAttribute("position",new kt(s,3)),u.setAttribute("color",new kt(l,3));const c=new ea({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const H4=new ae,vb=new ae,G4=new ae;class SLe extends Bn{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new vn;i.setAttribute("position",new kt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const o=new ea({fog:!1,toneMapped:!1});this.lightPlane=new Of(i,o),this.add(this.lightPlane),i=new vn,i.setAttribute("position",new kt([0,0,0,0,0,1],3)),this.targetLine=new Of(i,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),H4.setFromMatrixPosition(this.light.matrixWorld),vb.setFromMatrixPosition(this.light.target.matrixWorld),G4.subVectors(vb,H4),this.lightPlane.lookAt(vb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(vb),this.targetLine.scale.z=G4.length()}}const yb=new ae,Hr=new $_;class wLe extends ru{constructor(e){const n=new vn,r=new ea({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],o=[],a={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(v,b){l(v),l(b)}function l(v){i.push(0,0,0),o.push(0,0,0),a[v]===void 0&&(a[v]=[]),a[v].push(i.length/3-1)}n.setAttribute("position",new kt(i,3)),n.setAttribute("color",new kt(o,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const u=new St(16755200),c=new St(16711680),f=new St(43775),h=new St(16777215),g=new St(3355443);this.setColors(u,c,f,h,g)}setColors(e,n,r,i,o){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,o.r,o.g,o.b),s.setXYZ(41,o.r,o.g,o.b),s.setXYZ(42,o.r,o.g,o.b),s.setXYZ(43,o.r,o.g,o.b),s.setXYZ(44,o.r,o.g,o.b),s.setXYZ(45,o.r,o.g,o.b),s.setXYZ(46,o.r,o.g,o.b),s.setXYZ(47,o.r,o.g,o.b),s.setXYZ(48,o.r,o.g,o.b),s.setXYZ(49,o.r,o.g,o.b),s.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Hr.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ni("c",n,e,Hr,0,0,-1),ni("t",n,e,Hr,0,0,1),ni("n1",n,e,Hr,-r,-i,-1),ni("n2",n,e,Hr,r,-i,-1),ni("n3",n,e,Hr,-r,i,-1),ni("n4",n,e,Hr,r,i,-1),ni("f1",n,e,Hr,-r,-i,1),ni("f2",n,e,Hr,r,-i,1),ni("f3",n,e,Hr,-r,i,1),ni("f4",n,e,Hr,r,i,1),ni("u1",n,e,Hr,r*.7,i*1.1,-1),ni("u2",n,e,Hr,-r*.7,i*1.1,-1),ni("u3",n,e,Hr,0,i*2,-1),ni("cf1",n,e,Hr,-r,0,1),ni("cf2",n,e,Hr,r,0,1),ni("cf3",n,e,Hr,0,-i,1),ni("cf4",n,e,Hr,0,i,1),ni("cn1",n,e,Hr,-r,0,-1),ni("cn2",n,e,Hr,r,0,-1),ni("cn3",n,e,Hr,0,-i,-1),ni("cn4",n,e,Hr,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ni(t,e,n,r,i,o,a){yb.set(i,o,a).unproject(r);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let u=0,c=s.length;u<c;u++)l.setXYZ(s[u],yb.x,yb.y,yb.z)}}const _b=new ao;class MLe extends ru{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),o=new vn;o.setIndex(new tr(r,1)),o.setAttribute("position",new tr(i,3)),super(o,new ea({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_b.setFromObject(this.object),_b.isEmpty())return;const n=_b.min,r=_b.max,i=this.geometry.attributes.position,o=i.array;o[0]=r.x,o[1]=r.y,o[2]=r.z,o[3]=n.x,o[4]=r.y,o[5]=r.z,o[6]=n.x,o[7]=n.y,o[8]=r.z,o[9]=r.x,o[10]=n.y,o[11]=r.z,o[12]=r.x,o[13]=r.y,o[14]=n.z,o[15]=n.x,o[16]=r.y,o[17]=n.z,o[18]=n.x,o[19]=n.y,o[20]=n.z,o[21]=r.x,o[22]=n.y,o[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ELe extends ru{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new vn;o.setIndex(new tr(r,1)),o.setAttribute("position",new kt(i,3)),super(o,new ea({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class ALe extends Of{constructor(e,n=1,r=16776960){const i=r,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new vn;a.setAttribute("position",new kt(o,3)),a.computeBoundingSphere(),super(a,new ea({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new vn;l.setAttribute("position",new kt(s,3)),l.computeBoundingSphere(),this.add(new Dr(l,new mc({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const W4=new ae;let xb,R2;class TLe extends Bn{constructor(e=new ae(0,0,1),n=new ae(0,0,0),r=1,i=16776960,o=r*.2,a=o*.2){super(),this.type="ArrowHelper",xb===void 0&&(xb=new vn,xb.setAttribute("position",new kt([0,0,0,0,1,0],3)),R2=new Xg(0,.5,1,5,1),R2.translate(0,-.5,0)),this.position.copy(n),this.line=new Of(xb,new ea({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Dr(R2,new mc({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,o,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{W4.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(W4,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class PLe extends ru{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new vn;i.setAttribute("position",new kt(n,3)),i.setAttribute("color",new kt(r,3));const o=new ea({vertexColors:!0,toneMapped:!1});super(i,o),this.type="AxesHelper"}setColors(e,n,r){const i=new St,o=this.geometry.attributes.color.array;return i.set(e),i.toArray(o,0),i.toArray(o,3),i.set(n),i.toArray(o,6),i.toArray(o,9),i.set(r),i.toArray(o,12),i.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class CLe{constructor(){this.type="ShapePath",this.color=new St,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new f_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,o,a){return this.currentPath.bezierCurveTo(e,n,r,i,o,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(_){const S=[];for(let w=0,E=_.length;w<E;w++){const T=_[w],P=new xd;P.curves=T.curves,S.push(P)}return S}function r(_,S){const w=S.length;let E=!1;for(let T=w-1,P=0;P<w;T=P++){let I=S[T],O=S[P],C=O.x-I.x,L=O.y-I.y;if(Math.abs(L)>Number.EPSILON){if(L<0&&(I=S[P],C=-C,O=S[T],L=-L),_.y<I.y||_.y>O.y)continue;if(_.y===I.y){if(_.x===I.x)return!0}else{const N=L*(_.x-I.x)-C*(_.y-I.y);if(N===0)return!0;if(N<0)continue;E=!E}}else{if(_.y!==I.y)continue;if(O.x<=_.x&&_.x<=I.x||I.x<=_.x&&_.x<=O.x)return!0}}return E}const i=Ql.isClockWise,o=this.subPaths;if(o.length===0)return[];let a,s,l;const u=[];if(o.length===1)return s=o[0],l=new xd,l.curves=s.curves,u.push(l),u;let c=!i(o[0].getPoints());c=e?!c:c;const f=[],h=[];let g=[],v=0,b;h[v]=void 0,g[v]=[];for(let _=0,S=o.length;_<S;_++)s=o[_],b=s.getPoints(),a=i(b),a=e?!a:a,a?(!c&&h[v]&&v++,h[v]={s:new xd,p:b},h[v].s.curves=s.curves,c&&v++,g[v]=[]):g[v].push({h:s,p:b[0]});if(!h[0])return n(o);if(h.length>1){let _=!1,S=0;for(let w=0,E=h.length;w<E;w++)f[w]=[];for(let w=0,E=h.length;w<E;w++){const T=g[w];for(let P=0;P<T.length;P++){const I=T[P];let O=!0;for(let C=0;C<h.length;C++)r(I.p,h[C].p)&&(w!==C&&S++,O?(O=!1,f[C].push(I)):_=!0);O&&f[w].push(I)}}S>0&&_===!1&&(g=f)}let x;for(let _=0,S=h.length;_<S;_++){l=h[_].s,u.push(l),x=g[_];for(let w=0,E=x.length;w<E;w++)l.holes.push(x[w].h)}return u}}class OLe extends vl{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}class RLe extends pl{constructor(e=1,n=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:PE}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=PE);const ILe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:JI,AddEquation:uf,AddOperation:HG,AdditiveAnimationBlendMode:u3,AdditiveBlending:SO,AgXToneMapping:qG,AlphaFormat:r3,AlwaysCompare:lW,AlwaysDepth:Ow,AlwaysStencilFunc:AO,AmbientLight:lV,AnimationAction:mV,AnimationClip:v_,AnimationLoader:I3e,AnimationMixer:sLe,AnimationObjectGroup:oLe,AnimationUtils:P3e,ArcCurve:LW,ArrayCamera:wW,ArrowHelper:TLe,AttachedBindMode:EO,Audio:dV,AudioAnalyser:Y3e,AudioContext:N3,AudioListener:V3e,AudioLoader:H3e,AxesHelper:PLe,BackSide:Zo,BasicDepthPacking:eW,BasicShadowMap:wG,BatchedMesh:OW,Bone:x3,BooleanKeyframeTrack:Kd,Box2:dLe,Box3:ao,Box3Helper:ELe,BoxGeometry:Yd,BoxHelper:MLe,BufferAttribute:tr,BufferGeometry:vn,BufferGeometryLoader:hV,ByteType:e3,Cache:Vu,Camera:$_,CameraHelper:wLe,CanvasTexture:JIe,CapsuleGeometry:qE,CatmullRomCurve3:DW,CineonToneMapping:VG,CircleGeometry:YE,ClampToEdgeWrapping:Es,Clock:k3,Color:St,ColorKeyframeTrack:R3,ColorManagement:Ln,CompressedArrayTexture:KIe,CompressedCubeTexture:ZIe,CompressedTexture:VE,CompressedTextureLoader:L3e,ConeGeometry:KE,ConstantAlphaFactor:zG,ConstantColorFactor:FG,Controls:OLe,CubeCamera:mW,CubeReflectionMapping:lc,CubeRefractionMapping:Cf,CubeTexture:H_,CubeTextureLoader:D3e,CubeUVReflectionMapping:Gg,CubicBezierCurve:w3,CubicBezierCurve3:NW,CubicInterpolant:eV,CullFaceBack:bO,CullFaceFront:SG,CullFaceFrontBack:ATe,CullFaceNone:bG,Curve:yl,CurvePath:UW,CustomBlending:MG,CustomToneMapping:XG,CylinderGeometry:Xg,Cylindrical:hLe,Data3DTexture:d3,DataArrayTexture:FE,DataTexture:Jl,DataTextureLoader:N3e,DataUtils:z2e,DecrementStencilOp:zTe,DecrementWrapStencilOp:$Te,DefaultLoadingManager:rV,DepthFormat:vd,DepthStencilFormat:Ld,DepthTexture:y3,DetachedBindMode:KG,DirectionalLight:sV,DirectionalLightHelper:SLe,DiscreteInterpolant:tV,DodecahedronGeometry:ZE,DoubleSide:sl,DstAlphaFactor:LG,DstColorFactor:NG,DynamicCopyUsage:r2e,DynamicDrawUsage:ZTe,DynamicReadUsage:e2e,EdgesGeometry:FW,EllipseCurve:XE,EqualCompare:iW,EqualDepth:Iw,EqualStencilFunc:VTe,EquirectangularReflectionMapping:n_,EquirectangularRefractionMapping:r_,Euler:Za,EventDispatcher:vl,ExtrudeGeometry:QE,FileLoader:cc,Float16BufferAttribute:V2e,Float32BufferAttribute:kt,FloatType:ga,Fog:HE,FogExp2:$E,FramebufferTexture:YIe,FrontSide:sc,Frustum:G_,GLBufferAttribute:fLe,GLSL1:o2e,GLSL3:TO,GreaterCompare:oW,GreaterDepth:Dw,GreaterEqualCompare:sW,GreaterEqualDepth:Lw,GreaterEqualStencilFunc:KTe,GreaterStencilFunc:qTe,GridHelper:xLe,Group:Mm,HalfFloatType:Wg,HemisphereLight:iV,HemisphereLightHelper:_Le,IcosahedronGeometry:eA,ImageBitmapLoader:$3e,ImageLoader:y_,ImageUtils:fW,IncrementStencilOp:BTe,IncrementWrapStencilOp:jTe,InstancedBufferAttribute:Nd,InstancedBufferGeometry:D3,InstancedInterleavedBuffer:cLe,InstancedMesh:CW,Int16BufferAttribute:G2e,Int32BufferAttribute:W2e,Int8BufferAttribute:j2e,IntType:RE,InterleavedBuffer:GE,InterleavedBufferAttribute:Dd,Interpolant:q_,InterpolateDiscrete:a_,InterpolateLinear:lM,InterpolateSmooth:zb,InvertStencilOp:HTe,KeepStencilOp:Zh,KeyframeTrack:_l,LOD:TW,LatheGeometry:W_,Layers:_d,LessCompare:rW,LessDepth:Rw,LessEqualCompare:f3,LessEqualDepth:Rd,LessEqualStencilFunc:XTe,LessStencilFunc:WTe,Light:jf,LightProbe:fV,Line:Of,Line3:pLe,LineBasicMaterial:ea,LineCurve:M3,LineCurve3:kW,LineDashedMaterial:ZW,LineLoop:RW,LineSegments:ru,LinearFilter:ai,LinearInterpolant:O3,LinearMipMapLinearFilter:OTe,LinearMipMapNearestFilter:CTe,LinearMipmapLinearFilter:Wl,LinearMipmapNearestFilter:$y,LinearSRGBColorSpace:Xd,LinearToneMapping:GG,LinearTransfer:j_,Loader:ba,LoaderUtils:NO,LoadingManager:I3,LoopOnce:ZG,LoopPingPong:QG,LoopRepeat:JG,LuminanceAlphaFormat:a3,LuminanceFormat:o3,MOUSE:Yh,Material:uo,MaterialLoader:sA,MathUtils:S2e,Matrix2:z3,Matrix3:un,Matrix4:Jt,MaxEquation:PG,Mesh:Dr,MeshBasicMaterial:mc,MeshDepthMaterial:zE,MeshDistanceMaterial:jE,MeshLambertMaterial:YW,MeshMatcapMaterial:KW,MeshNormalMaterial:qW,MeshPhongMaterial:VW,MeshPhysicalMaterial:WW,MeshStandardMaterial:P3,MeshToonMaterial:XW,MinEquation:TG,MirroredRepeatWrapping:o_,MixOperation:$G,MultiplyBlending:MO,MultiplyOperation:B_,NearestFilter:oo,NearestMipMapLinearFilter:PTe,NearestMipMapNearestFilter:TTe,NearestMipmapLinearFilter:bm,NearestMipmapNearestFilter:QI,NeutralToneMapping:YG,NeverCompare:nW,NeverDepth:Cw,NeverStencilFunc:GTe,NoBlending:Zu,NoColorSpace:Bu,NoToneMapping:Zl,NormalAnimationBlendMode:UE,NormalBlending:gd,NotEqualCompare:aW,NotEqualDepth:Nw,NotEqualStencilFunc:YTe,NumberKeyframeTrack:m_,Object3D:Bn,ObjectLoader:z3e,ObjectSpaceNormalMap:tW,OctahedronGeometry:V_,OneFactor:OG,OneMinusConstantAlphaFactor:jG,OneMinusConstantColorFactor:BG,OneMinusDstAlphaFactor:DG,OneMinusDstColorFactor:kG,OneMinusSrcAlphaFactor:Pw,OneMinusSrcColorFactor:IG,OrthographicCamera:Ef,PCFShadowMap:CE,PCFSoftShadowMap:jy,PMREMGenerator:PO,Path:f_,PerspectiveCamera:oi,Plane:Uu,PlaneGeometry:gc,PlaneHelper:ALe,PointLight:aV,PointLightHelper:vLe,Points:IW,PointsMaterial:b3,PolarGridHelper:bLe,PolyhedronGeometry:zf,PositionalAudio:q3e,PropertyBinding:Un,PropertyMixer:pV,QuadraticBezierCurve:E3,QuadraticBezierCurve3:A3,Quaternion:Eo,QuaternionKeyframeTrack:Y_,QuaternionLinearInterpolant:nV,RED_GREEN_RGTC2_Format:aM,RED_RGTC1_Format:l3,REVISION:PE,RGBADepthPacking:c3,RGBAFormat:Mo,RGBAIntegerFormat:kE,RGBA_ASTC_10x10_Format:eM,RGBA_ASTC_10x5_Format:Zw,RGBA_ASTC_10x6_Format:Jw,RGBA_ASTC_10x8_Format:Qw,RGBA_ASTC_12x10_Format:tM,RGBA_ASTC_12x12_Format:nM,RGBA_ASTC_4x4_Format:Hw,RGBA_ASTC_5x4_Format:Gw,RGBA_ASTC_5x5_Format:Ww,RGBA_ASTC_6x5_Format:Vw,RGBA_ASTC_6x6_Format:Xw,RGBA_ASTC_8x5_Format:qw,RGBA_ASTC_8x6_Format:Yw,RGBA_ASTC_8x8_Format:Kw,RGBA_BPTC_Format:Xy,RGBA_ETC2_EAC_Format:$w,RGBA_PVRTC_2BPPV1_Format:Bw,RGBA_PVRTC_4BPPV1_Format:Fw,RGBA_S3TC_DXT1_Format:Gy,RGBA_S3TC_DXT3_Format:Wy,RGBA_S3TC_DXT5_Format:Vy,RGBDepthPacking:NTe,RGBFormat:i3,RGBIntegerFormat:RTe,RGB_BPTC_SIGNED_Format:rM,RGB_BPTC_UNSIGNED_Format:iM,RGB_ETC1_Format:zw,RGB_ETC2_Format:jw,RGB_PVRTC_2BPPV1_Format:Uw,RGB_PVRTC_4BPPV1_Format:kw,RGB_S3TC_DXT1_Format:Hy,RGDepthPacking:kTe,RGFormat:s3,RGIntegerFormat:NE,RawShaderMaterial:GW,Ray:qd,Raycaster:gV,RectAreaLight:uV,RedFormat:DE,RedIntegerFormat:z_,ReinhardToneMapping:WG,RenderTarget:hW,RepeatWrapping:i_,ReplaceStencilOp:FTe,ReverseSubtractEquation:AG,RingGeometry:tA,SIGNED_RED_GREEN_RGTC2_Format:sM,SIGNED_RED_RGTC1_Format:oM,SRGBColorSpace:fa,SRGBTransfer:qn,Scene:uM,ShaderChunk:mn,ShaderLib:ol,ShaderMaterial:ml,ShadowMaterial:HW,Shape:xd,ShapeGeometry:nA,ShapePath:CLe,ShapeUtils:Ql,ShortType:t3,Skeleton:WE,SkeletonHelper:gLe,SkinnedMesh:PW,Source:cd,Sphere:so,SphereGeometry:X_,Spherical:UO,SphericalHarmonics3:cV,SplineCurve:T3,SpotLight:oV,SpotLightHelper:mLe,Sprite:AW,SpriteMaterial:_3,SrcAlphaFactor:Tw,SrcAlphaSaturateFactor:UG,SrcColorFactor:RG,StaticCopyUsage:n2e,StaticDrawUsage:l_,StaticReadUsage:QTe,StereoCamera:G3e,StreamCopyUsage:i2e,StreamDrawUsage:JTe,StreamReadUsage:t2e,StringKeyframeTrack:Zd,SubtractEquation:EG,SubtractiveBlending:wO,TOUCH:Kh,TangentSpaceNormalMap:Bf,TetrahedronGeometry:rA,Texture:Er,TextureLoader:k3e,TextureUtils:CIe,TorusGeometry:iA,TorusKnotGeometry:oA,Triangle:da,TriangleFanDrawMode:DTe,TriangleStripDrawMode:LTe,TrianglesDrawMode:ITe,TubeGeometry:aA,UVMapping:OE,Uint16BufferAttribute:p3,Uint32BufferAttribute:m3,Uint8BufferAttribute:$2e,Uint8ClampedBufferAttribute:H2e,Uniform:B3,UniformsGroup:uLe,UniformsLib:_t,UniformsUtils:g3,UnsignedByteType:dl,UnsignedInt248Type:Id,UnsignedInt5999Type:n3,UnsignedIntType:uc,UnsignedShort4444Type:IE,UnsignedShort5551Type:LE,UnsignedShortType:xg,VSMShadowMap:el,Vector2:tt,Vector3:ae,Vector4:Dn,VectorKeyframeTrack:g_,VideoTexture:qIe,WebGL3DRenderTarget:O2e,WebGLArrayRenderTarget:C2e,WebGLCoordinateSystem:Vl,WebGLCubeRenderTarget:gW,WebGLMultipleRenderTargets:RLe,WebGLRenderTarget:pl,WebGLRenderer:MW,WebGLUtils:SW,WebGPUCoordinateSystem:u_,WireframeGeometry:$W,WrapAroundEnding:s_,ZeroCurvatureEnding:ld,ZeroFactor:CG,ZeroSlopeEnding:ud,ZeroStencilOp:UTe,createCanvasElement:cW},Symbol.toStringTag,{value:"Module"}));var yV={exports:{}},Jd={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Jd.ConcurrentRoot=1;Jd.ContinuousEventPriority=4;Jd.DefaultEventPriority=16;Jd.DiscreteEventPriority=1;Jd.IdleEventPriority=536870912;Jd.LegacyRoot=0;yV.exports=Jd;var Am=yV.exports;function LLe(t){let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const h=e;e=c?f:Object.assign({},e,f),n.forEach(g=>g(e,h))}},i=()=>e,o=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=c(e);function g(){const v=c(e);if(!f(h,v)){const b=h;u(h=v,b)}}return n.add(g),()=>n.delete(g)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?o(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const DLe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),V4=DLe?oe.useEffect:oe.useLayoutEffect;function NLe(t){const e=typeof t=="function"?LLe(t):t,n=(r=e.getState,i=Object.is)=>{const[,o]=oe.useReducer(x=>x+1,0),a=e.getState(),s=oe.useRef(a),l=oe.useRef(r),u=oe.useRef(i),c=oe.useRef(!1),f=oe.useRef();f.current===void 0&&(f.current=r(a));let h,g=!1;(s.current!==a||l.current!==r||u.current!==i||c.current)&&(h=r(a),g=!i(f.current,h)),V4(()=>{g&&(f.current=h),s.current=a,l.current=r,u.current=i,c.current=!1});const v=oe.useRef(a);V4(()=>{const x=()=>{try{const S=e.getState(),w=l.current(S);u.current(f.current,w)||(s.current=S,f.current=w,o())}catch{c.current=!0,o()}},_=e.subscribe(x);return e.getState()!==v.current&&x(),_},[]);const b=g?h:f.current;return oe.useDebugValue(b),b};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const kLe=t=>typeof t=="object"&&typeof t.then=="function",bb=[];function ULe(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function FLe(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const o of bb)if(ULe(e,o.keys,o.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(o,"error"))throw o.error;if(Object.prototype.hasOwnProperty.call(o,"response"))return r.lifespan&&r.lifespan>0&&(o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(o.remove,r.lifespan)),o.response;if(!n)throw o.promise}const i={keys:e,equal:r.equal,remove:()=>{const o=bb.indexOf(i);o!==-1&&bb.splice(o,1)},promise:(kLe(t)?t:t(...e)).then(o=>{i.response=o,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(o=>i.error=o)};if(bb.push(i),!n)throw i.promise}const BLe=(t,e,n)=>FLe(t,e,!1,n);var _V={exports:{}},I2={exports:{}},L2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X4;function zLe(){return X4||(X4=1,function(t){function e(F,j){var X=F.length;F.push(j);e:for(;0<X;){var H=X-1>>>1,Y=F[H];if(0<i(Y,j))F[H]=j,F[X]=Y,X=H;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var j=F[0],X=F.pop();if(X!==j){F[0]=X;e:for(var H=0,Y=F.length,se=Y>>>1;H<se;){var re=2*(H+1)-1,ie=F[re],ge=re+1,de=F[ge];if(0>i(ie,X))ge<Y&&0>i(de,ie)?(F[H]=de,F[ge]=X,H=ge):(F[H]=ie,F[re]=X,H=re);else if(ge<Y&&0>i(de,X))F[H]=de,F[ge]=X,H=ge;else break e}}return j}function i(F,j){var X=F.sortIndex-j.sortIndex;return X!==0?X:F.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,h=3,g=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=F)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function E(F){if(b=!1,w(F),!v)if(n(l)!==null)v=!0,q(T);else{var j=n(u);j!==null&&Q(E,j.startTime-F)}}function T(F,j){v=!1,b&&(b=!1,_(O),O=-1),g=!0;var X=h;try{for(w(j),f=n(l);f!==null&&(!(f.expirationTime>j)||F&&!N());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var Y=H(f.expirationTime<=j);j=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(l)&&r(l),w(j)}else r(l);f=n(l)}if(f!==null)var se=!0;else{var re=n(u);re!==null&&Q(E,re.startTime-j),se=!1}return se}finally{f=null,h=X,g=!1}}var P=!1,I=null,O=-1,C=5,L=-1;function N(){return!(t.unstable_now()-L<C)}function U(){if(I!==null){var F=t.unstable_now();L=F;var j=!0;try{j=I(!0,F)}finally{j?z():(P=!1,I=null)}}else P=!1}var z;if(typeof S=="function")z=function(){S(U)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,K=$.port2;$.port1.onmessage=U,z=function(){K.postMessage(null)}}else z=function(){x(U,0)};function q(F){I=F,P||(P=!0,z())}function Q(F,j){O=x(function(){F(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,q(T))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var X=h;h=j;try{return F()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,j){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var X=h;h=F;try{return j()}finally{h=X}},t.unstable_scheduleCallback=function(F,j,X){var H=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?H+X:H):X=H,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=X+Y,F={id:c++,callback:j,priorityLevel:F,startTime:X,expirationTime:Y,sortIndex:-1},X>H?(F.sortIndex=X,e(u,F),n(l)===null&&F===n(u)&&(b?(_(O),O=-1):b=!0,Q(E,X-H))):(F.sortIndex=Y,e(l,F),v||g||(v=!0,q(T))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var j=h;return function(){var X=h;h=j;try{return F.apply(this,arguments)}finally{h=X}}}}(L2)),L2}var q4;function jLe(){return q4||(q4=1,I2.exports=zLe()),I2.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $Le=function(e){var n={},r=oe,i=jLe(),o=Object.assign;function a(p){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+p,M=1;M<arguments.length;M++)m+="&args[]="+encodeURIComponent(arguments[M]);return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),T=Symbol.iterator;function P(p){return p===null||typeof p!="object"?null:(p=T&&p[T]||p["@@iterator"],typeof p=="function"?p:null)}function I(p){if(p==null)return null;if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p;switch(p){case c:return"Fragment";case u:return"Portal";case h:return"Profiler";case f:return"StrictMode";case x:return"Suspense";case _:return"SuspenseList"}if(typeof p=="object")switch(p.$$typeof){case v:return(p.displayName||"Context")+".Consumer";case g:return(p._context.displayName||"Context")+".Provider";case b:var m=p.render;return p=p.displayName,p||(p=m.displayName||m.name||"",p=p!==""?"ForwardRef("+p+")":"ForwardRef"),p;case S:return m=p.displayName||null,m!==null?m:I(p.type)||"Memo";case w:m=p._payload,p=p._init;try{return I(p(m))}catch{}}return null}function O(p){var m=p.type;switch(p.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return p=m.render,p=p.displayName||p.name||"",m.displayName||(p!==""?"ForwardRef("+p+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return I(m);case 8:return m===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function C(p){var m=p,M=p;if(p.alternate)for(;m.return;)m=m.return;else{p=m;do m=p,m.flags&4098&&(M=m.return),p=m.return;while(p)}return m.tag===3?M:null}function L(p){if(C(p)!==p)throw Error(a(188))}function N(p){var m=p.alternate;if(!m){if(m=C(p),m===null)throw Error(a(188));return m!==p?null:p}for(var M=p,R=m;;){var D=M.return;if(D===null)break;var B=D.alternate;if(B===null){if(R=D.return,R!==null){M=R;continue}break}if(D.child===B.child){for(B=D.child;B;){if(B===M)return L(D),p;if(B===R)return L(D),m;B=B.sibling}throw Error(a(188))}if(M.return!==R.return)M=D,R=B;else{for(var ue=!1,Ae=D.child;Ae;){if(Ae===M){ue=!0,M=D,R=B;break}if(Ae===R){ue=!0,R=D,M=B;break}Ae=Ae.sibling}if(!ue){for(Ae=B.child;Ae;){if(Ae===M){ue=!0,M=B,R=D;break}if(Ae===R){ue=!0,R=B,M=D;break}Ae=Ae.sibling}if(!ue)throw Error(a(189))}}if(M.alternate!==R)throw Error(a(190))}if(M.tag!==3)throw Error(a(188));return M.stateNode.current===M?p:m}function U(p){return p=N(p),p!==null?z(p):null}function z(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){var m=z(p);if(m!==null)return m;p=p.sibling}return null}function $(p){if(p.tag===5||p.tag===6)return p;for(p=p.child;p!==null;){if(p.tag!==4){var m=$(p);if(m!==null)return m}p=p.sibling}return null}var K=Array.isArray,q=e.getPublicInstance,Q=e.getRootHostContext,F=e.getChildHostContext,j=e.prepareForCommit,X=e.resetAfterCommit,H=e.createInstance,Y=e.appendInitialChild,se=e.finalizeInitialChildren,re=e.prepareUpdate,ie=e.shouldSetTextContent,ge=e.createTextInstance,de=e.scheduleTimeout,be=e.cancelTimeout,fe=e.noTimeout,Te=e.isPrimaryRenderer,Se=e.supportsMutation,ee=e.supportsPersistence,we=e.supportsHydration,Z=e.getInstanceFromNode,Ie=e.preparePortalMount,xe=e.getCurrentEventPriority,Ne=e.detachDeletedInstance,Ee=e.supportsMicrotasks,Ke=e.scheduleMicrotask,Ue=e.supportsTestSelectors,W=e.findFiberRoot,G=e.getBoundingRect,ce=e.getTextContent,Me=e.isHiddenSubtree,ve=e.matchAccessibilityRole,ke=e.setFocusIfFocusable,We=e.setupIntersectionObserver,Be=e.appendChild,Xe=e.appendChildToContainer,ct=e.commitTextUpdate,qe=e.commitMount,ot=e.commitUpdate,ut=e.insertBefore,at=e.insertInContainerBefore,Ze=e.removeChild,me=e.removeChildFromContainer,Fe=e.resetTextContent,pt=e.hideInstance,he=e.hideTextInstance,He=e.unhideInstance,Le=e.unhideTextInstance,Je=e.clearContainer,st=e.cloneInstance,nt=e.createContainerChildSet,vt=e.appendChildToContainerChildSet,It=e.finalizeContainerChildren,Et=e.replaceContainerChildren,Rt=e.cloneHiddenInstance,Mn=e.cloneHiddenTextInstance,Cn=e.canHydrateInstance,Zn=e.canHydrateTextInstance,Ti=e.canHydrateSuspenseInstance,Ar=e.isSuspenseInstancePending,gi=e.isSuspenseInstanceFallback,To=e.registerSuspenseInstanceRetry,Pi=e.getNextHydratableSibling,Ci=e.getFirstHydratableChild,Ur=e.getFirstHydratableChildWithinContainer,co=e.getFirstHydratableChildWithinSuspenseInstance,iu=e.hydrateInstance,xl=e.hydrateTextInstance,vc=e.hydrateSuspenseInstance,yc=e.getNextHydratableInstanceAfterSuspenseInstance,Ds=e.commitHydratedContainer,te=e.commitHydratedSuspenseInstance,Ce=e.clearSuspenseBoundary,je=e.clearSuspenseBoundaryFromContainer,ze=e.shouldDeleteUnhydratedTailInstances,Pe=e.didNotMatchHydratedContainerTextInstance,ft=e.didNotMatchHydratedTextInstance,Ve;function wt(p){if(Ve===void 0)try{throw Error()}catch(M){var m=M.stack.trim().match(/\n( *(at )?)/);Ve=m&&m[1]||""}return`
`+Ve+p}var Pt=!1;function Bt(p,m){if(!p||Pt)return"";Pt=!0;var M=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(ht){var R=ht}Reflect.construct(p,[],m)}else{try{m.call()}catch(ht){R=ht}p.call(m.prototype)}else{try{throw Error()}catch(ht){R=ht}p()}}catch(ht){if(ht&&R&&typeof ht.stack=="string"){for(var D=ht.stack.split(`
`),B=R.stack.split(`
`),ue=D.length-1,Ae=B.length-1;1<=ue&&0<=Ae&&D[ue]!==B[Ae];)Ae--;for(;1<=ue&&0<=Ae;ue--,Ae--)if(D[ue]!==B[Ae]){if(ue!==1||Ae!==1)do if(ue--,Ae--,0>Ae||D[ue]!==B[Ae]){var Ye=`
`+D[ue].replace(" at new "," at ");return p.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",p.displayName)),Ye}while(1<=ue&&0<=Ae);break}}}finally{Pt=!1,Error.prepareStackTrace=M}return(p=p?p.displayName||p.name:"")?wt(p):""}var Gt=Object.prototype.hasOwnProperty,At=[],en=-1;function fn(p){return{current:p}}function Ft(p){0>en||(p.current=At[en],At[en]=null,en--)}function tn(p,m){en++,At[en]=p.current,p.current=m}var nn={},gt=fn(nn),jn=fn(!1),sn=nn;function Jn(p,m){var M=p.type.contextTypes;if(!M)return nn;var R=p.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===m)return R.__reactInternalMemoizedMaskedChildContext;var D={},B;for(B in M)D[B]=m[B];return R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=m,p.__reactInternalMemoizedMaskedChildContext=D),D}function nr(p){return p=p.childContextTypes,p!=null}function Qn(){Ft(jn),Ft(gt)}function qi(p,m,M){if(gt.current!==nn)throw Error(a(168));tn(gt,m),tn(jn,M)}function On(p,m,M){var R=p.stateNode;if(m=m.childContextTypes,typeof R.getChildContext!="function")return M;R=R.getChildContext();for(var D in R)if(!(D in m))throw Error(a(108,O(p)||"Unknown",D));return o({},M,R)}function Xr(p){return p=(p=p.stateNode)&&p.__reactInternalMemoizedMergedChildContext||nn,sn=gt.current,tn(gt,p),tn(jn,jn.current),!0}function Fr(p,m,M){var R=p.stateNode;if(!R)throw Error(a(169));M?(p=On(p,m,sn),R.__reactInternalMemoizedMergedChildContext=p,Ft(jn),Ft(gt),tn(gt,p)):Ft(jn),tn(jn,M)}var Xn=Math.clz32?Math.clz32:bl,vi=Math.log,Oi=Math.LN2;function bl(p){return p>>>=0,p===0?32:31-(vi(p)/Oi|0)|0}var Sa=64,wa=4194304;function fo(p){switch(p&-p){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return p&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return p}}function Sl(p,m){var M=p.pendingLanes;if(M===0)return 0;var R=0,D=p.suspendedLanes,B=p.pingedLanes,ue=M&268435455;if(ue!==0){var Ae=ue&~D;Ae!==0?R=fo(Ae):(B&=ue,B!==0&&(R=fo(B)))}else ue=M&~D,ue!==0?R=fo(ue):B!==0&&(R=fo(B));if(R===0)return 0;if(m!==0&&m!==R&&!(m&D)&&(D=R&-R,B=m&-m,D>=B||D===16&&(B&4194240)!==0))return m;if(R&4&&(R|=M&16),m=p.entangledLanes,m!==0)for(p=p.entanglements,m&=R;0<m;)M=31-Xn(m),D=1<<M,R|=p[M],m&=~D;return R}function $f(p,m){switch(p){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hf(p,m){for(var M=p.suspendedLanes,R=p.pingedLanes,D=p.expirationTimes,B=p.pendingLanes;0<B;){var ue=31-Xn(B),Ae=1<<ue,Ye=D[ue];Ye===-1?(!(Ae&M)||Ae&R)&&(D[ue]=$f(Ae,m)):Ye<=m&&(p.expiredLanes|=Ae),B&=~Ae}}function es(p){return p=p.pendingLanes&-1073741825,p!==0?p:p&1073741824?1073741824:0}function ou(p){for(var m=[],M=0;31>M;M++)m.push(p);return m}function Ma(p,m,M){p.pendingLanes|=m,m!==536870912&&(p.suspendedLanes=0,p.pingedLanes=0),p=p.eventTimes,m=31-Xn(m),p[m]=M}function Ns(p,m){var M=p.pendingLanes&~m;p.pendingLanes=m,p.suspendedLanes=0,p.pingedLanes=0,p.expiredLanes&=m,p.mutableReadLanes&=m,p.entangledLanes&=m,m=p.entanglements;var R=p.eventTimes;for(p=p.expirationTimes;0<M;){var D=31-Xn(M),B=1<<D;m[D]=0,R[D]=-1,p[D]=-1,M&=~B}}function ts(p,m){var M=p.entangledLanes|=m;for(p=p.entanglements;M;){var R=31-Xn(M),D=1<<R;D&m|p[R]&m&&(p[R]|=m),M&=~D}}var bn=0;function Gf(p){return p&=-p,1<p?4<p?p&268435455?16:536870912:4:1}var ns=i.unstable_scheduleCallback,_c=i.unstable_cancelCallback,Wf=i.unstable_shouldYield,Qd=i.unstable_requestPaint,fr=i.unstable_now,ks=i.unstable_ImmediatePriority,ep=i.unstable_UserBlockingPriority,Yi=i.unstable_NormalPriority,Vf=i.unstable_IdlePriority,au=null,Po=null;function $n(p){if(Po&&typeof Po.onCommitFiberRoot=="function")try{Po.onCommitFiberRoot(au,p,void 0,(p.current.flags&128)===128)}catch{}}function Hn(p,m){return p===m&&(p!==0||1/p===1/m)||p!==p&&m!==m}var Co=typeof Object.is=="function"?Object.is:Hn,Ki=null,rs=!1,ta=!1;function Xf(p){Ki===null?Ki=[p]:Ki.push(p)}function qf(p){rs=!0,Xf(p)}function Zi(){if(!ta&&Ki!==null){ta=!0;var p=0,m=bn;try{var M=Ki;for(bn=1;p<M.length;p++){var R=M[p];do R=R(!0);while(R!==null)}Ki=null,rs=!1}catch(D){throw Ki!==null&&(Ki=Ki.slice(p+1)),ns(ks,Zi),D}finally{bn=m,ta=!1}}return null}var su=s.ReactCurrentBatchConfig;function hr(p,m){if(Co(p,m))return!0;if(typeof p!="object"||p===null||typeof m!="object"||m===null)return!1;var M=Object.keys(p),R=Object.keys(m);if(M.length!==R.length)return!1;for(R=0;R<M.length;R++){var D=M[R];if(!Gt.call(m,D)||!Co(p[D],m[D]))return!1}return!0}function Us(p){switch(p.tag){case 5:return wt(p.type);case 16:return wt("Lazy");case 13:return wt("Suspense");case 19:return wt("SuspenseList");case 0:case 2:case 15:return p=Bt(p.type,!1),p;case 11:return p=Bt(p.type.render,!1),p;case 1:return p=Bt(p.type,!0),p;default:return""}}function Tr(p,m){if(p&&p.defaultProps){m=o({},m),p=p.defaultProps;for(var M in p)m[M]===void 0&&(m[M]=p[M]);return m}return m}var qr=fn(null),wl=null,xr=null,Fs=null;function lu(){Fs=xr=wl=null}function Yf(p,m,M){Te?(tn(qr,m._currentValue),m._currentValue=M):(tn(qr,m._currentValue2),m._currentValue2=M)}function Yr(p){var m=qr.current;Ft(qr),Te?p._currentValue=m:p._currentValue2=m}function Ri(p,m,M){for(;p!==null;){var R=p.alternate;if((p.childLanes&m)!==m?(p.childLanes|=m,R!==null&&(R.childLanes|=m)):R!==null&&(R.childLanes&m)!==m&&(R.childLanes|=m),p===M)break;p=p.return}}function br(p,m){wl=p,Fs=xr=null,p=p.dependencies,p!==null&&p.firstContext!==null&&(p.lanes&m&&(Io=!0),p.firstContext=null)}function Rn(p){var m=Te?p._currentValue:p._currentValue2;if(Fs!==p)if(p={context:p,memoizedValue:m,next:null},xr===null){if(wl===null)throw Error(a(308));xr=p,wl.dependencies={lanes:0,firstContext:p}}else xr=xr.next=p;return m}var Oo=null,Kr=!1;function Yg(p){p.updateQueue={baseState:p.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kg(p,m){p=p.updateQueue,m.updateQueue===p&&(m.updateQueue={baseState:p.baseState,firstBaseUpdate:p.firstBaseUpdate,lastBaseUpdate:p.lastBaseUpdate,shared:p.shared,effects:p.effects})}function Ii(p,m){return{eventTime:p,lane:m,tag:0,payload:null,callback:null,next:null}}function Ea(p,m){var M=p.updateQueue;M!==null&&(M=M.shared,Br!==null&&p.mode&1&&!(hn&2)?(p=M.interleaved,p===null?(m.next=m,Oo===null?Oo=[M]:Oo.push(M)):(m.next=p.next,p.next=m),M.interleaved=m):(p=M.pending,p===null?m.next=m:(m.next=p.next,p.next=m),M.pending=m))}function xc(p,m,M){if(m=m.updateQueue,m!==null&&(m=m.shared,(M&4194240)!==0)){var R=m.lanes;R&=p.pendingLanes,M|=R,m.lanes=M,ts(p,M)}}function rr(p,m){var M=p.updateQueue,R=p.alternate;if(R!==null&&(R=R.updateQueue,M===R)){var D=null,B=null;if(M=M.firstBaseUpdate,M!==null){do{var ue={eventTime:M.eventTime,lane:M.lane,tag:M.tag,payload:M.payload,callback:M.callback,next:null};B===null?D=B=ue:B=B.next=ue,M=M.next}while(M!==null);B===null?D=B=m:B=B.next=m}else D=B=m;M={baseState:R.baseState,firstBaseUpdate:D,lastBaseUpdate:B,shared:R.shared,effects:R.effects},p.updateQueue=M;return}p=M.lastBaseUpdate,p===null?M.firstBaseUpdate=m:p.next=m,M.lastBaseUpdate=m}function Aa(p,m,M,R){var D=p.updateQueue;Kr=!1;var B=D.firstBaseUpdate,ue=D.lastBaseUpdate,Ae=D.shared.pending;if(Ae!==null){D.shared.pending=null;var Ye=Ae,ht=Ye.next;Ye.next=null,ue===null?B=ht:ue.next=ht,ue=Ye;var Tt=p.alternate;Tt!==null&&(Tt=Tt.updateQueue,Ae=Tt.lastBaseUpdate,Ae!==ue&&(Ae===null?Tt.firstBaseUpdate=ht:Ae.next=ht,Tt.lastBaseUpdate=Ye))}if(B!==null){var rn=D.baseState;ue=0,Tt=ht=Ye=null,Ae=B;do{var zt=Ae.lane,Wn=Ae.eventTime;if((R&zt)===zt){Tt!==null&&(Tt=Tt.next={eventTime:Wn,lane:0,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null});e:{var Lt=p,zi=Ae;switch(zt=m,Wn=M,zi.tag){case 1:if(Lt=zi.payload,typeof Lt=="function"){rn=Lt.call(Wn,rn,zt);break e}rn=Lt;break e;case 3:Lt.flags=Lt.flags&-65537|128;case 0:if(Lt=zi.payload,zt=typeof Lt=="function"?Lt.call(Wn,rn,zt):Lt,zt==null)break e;rn=o({},rn,zt);break e;case 2:Kr=!0}}Ae.callback!==null&&Ae.lane!==0&&(p.flags|=64,zt=D.effects,zt===null?D.effects=[Ae]:zt.push(Ae))}else Wn={eventTime:Wn,lane:zt,tag:Ae.tag,payload:Ae.payload,callback:Ae.callback,next:null},Tt===null?(ht=Tt=Wn,Ye=rn):Tt=Tt.next=Wn,ue|=zt;if(Ae=Ae.next,Ae===null){if(Ae=D.shared.pending,Ae===null)break;zt=Ae,Ae=zt.next,zt.next=null,D.lastBaseUpdate=zt,D.shared.pending=null}}while(!0);if(Tt===null&&(Ye=rn),D.baseState=Ye,D.firstBaseUpdate=ht,D.lastBaseUpdate=Tt,m=D.shared.interleaved,m!==null){D=m;do ue|=D.lane,D=D.next;while(D!==m)}else B===null&&(D.shared.lanes=0);jc|=ue,p.lanes=ue,p.memoizedState=rn}}function tp(p,m,M){if(p=m.effects,m.effects=null,p!==null)for(m=0;m<p.length;m++){var R=p[m],D=R.callback;if(D!==null){if(R.callback=null,R=M,typeof D!="function")throw Error(a(191,D));D.call(R)}}}var Z_=new r.Component().refs;function Kf(p,m,M,R){m=p.memoizedState,M=M(R,m),M=M==null?m:o({},m,M),p.memoizedState=M,p.lanes===0&&(p.updateQueue.baseState=M)}var np={isMounted:function(p){return(p=p._reactInternals)?C(p)===p:!1},enqueueSetState:function(p,m,M){p=p._reactInternals;var R=ki(),D=cs(p),B=Ii(R,D);B.payload=m,M!=null&&(B.callback=M),Ea(p,B),m=ra(p,D,R),m!==null&&xc(m,p,D)},enqueueReplaceState:function(p,m,M){p=p._reactInternals;var R=ki(),D=cs(p),B=Ii(R,D);B.tag=1,B.payload=m,M!=null&&(B.callback=M),Ea(p,B),m=ra(p,D,R),m!==null&&xc(m,p,D)},enqueueForceUpdate:function(p,m){p=p._reactInternals;var M=ki(),R=cs(p),D=Ii(M,R);D.tag=2,m!=null&&(D.callback=m),Ea(p,D),m=ra(p,R,M),m!==null&&xc(m,p,R)}};function J_(p,m,M,R,D,B,ue){return p=p.stateNode,typeof p.shouldComponentUpdate=="function"?p.shouldComponentUpdate(R,B,ue):m.prototype&&m.prototype.isPureReactComponent?!hr(M,R)||!hr(D,B):!0}function Q_(p,m,M){var R=!1,D=nn,B=m.contextType;return typeof B=="object"&&B!==null?B=Rn(B):(D=nr(m)?sn:gt.current,R=m.contextTypes,B=(R=R!=null)?Jn(p,D):nn),m=new m(M,B),p.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=np,p.stateNode=m,m._reactInternals=p,R&&(p=p.stateNode,p.__reactInternalMemoizedUnmaskedChildContext=D,p.__reactInternalMemoizedMaskedChildContext=B),m}function Zg(p,m,M,R){p=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(M,R),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(M,R),m.state!==p&&np.enqueueReplaceState(m,m.state,null)}function bc(p,m,M,R){var D=p.stateNode;D.props=M,D.state=p.memoizedState,D.refs=Z_,Yg(p);var B=m.contextType;typeof B=="object"&&B!==null?D.context=Rn(B):(B=nr(m)?sn:gt.current,D.context=Jn(p,B)),D.state=p.memoizedState,B=m.getDerivedStateFromProps,typeof B=="function"&&(Kf(p,m,B,M),D.state=p.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(m=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),m!==D.state&&np.enqueueReplaceState(D,D.state,null),Aa(p,M,D,R),D.state=p.memoizedState),typeof D.componentDidMount=="function"&&(p.flags|=4194308)}var Ta=[],Sc=0,Zf=null,Jf=0,ho=[],po=0,Ml=null,Bs=1,Pa="";function zs(p,m){Ta[Sc++]=Jf,Ta[Sc++]=Zf,Zf=p,Jf=m}function ex(p,m,M){ho[po++]=Bs,ho[po++]=Pa,ho[po++]=Ml,Ml=p;var R=Bs;p=Pa;var D=32-Xn(R)-1;R&=~(1<<D),M+=1;var B=32-Xn(m)+D;if(30<B){var ue=D-D%5;B=(R&(1<<ue)-1).toString(32),R>>=ue,D-=ue,Bs=1<<32-Xn(m)+D|M<<D|R,Pa=B+p}else Bs=1<<B|M<<D|R,Pa=p}function rp(p){p.return!==null&&(zs(p,1),ex(p,1,0))}function Ji(p){for(;p===Zf;)Zf=Ta[--Sc],Ta[Sc]=null,Jf=Ta[--Sc],Ta[Sc]=null;for(;p===Ml;)Ml=ho[--po],ho[po]=null,Pa=ho[--po],ho[po]=null,Bs=ho[--po],ho[po]=null}var Qi=null,yi=null,ir=!1,wc=!1,Ca=null;function tx(p,m){var M=ia(5,null,null,0);M.elementType="DELETED",M.stateNode=m,M.return=p,m=p.deletions,m===null?(p.deletions=[M],p.flags|=16):m.push(M)}function nx(p,m){switch(p.tag){case 5:return m=Cn(m,p.type,p.pendingProps),m!==null?(p.stateNode=m,Qi=p,yi=Ci(m),!0):!1;case 6:return m=Zn(m,p.pendingProps),m!==null?(p.stateNode=m,Qi=p,yi=null,!0):!1;case 13:if(m=Ti(m),m!==null){var M=Ml!==null?{id:Bs,overflow:Pa}:null;return p.memoizedState={dehydrated:m,treeContext:M,retryLane:1073741824},M=ia(18,null,null,0),M.stateNode=m,M.return=p,p.child=M,Qi=p,yi=null,!0}return!1;default:return!1}}function Jg(p){return(p.mode&1)!==0&&(p.flags&128)===0}function Qg(p){if(ir){var m=yi;if(m){var M=m;if(!nx(p,m)){if(Jg(p))throw Error(a(418));m=Pi(M);var R=Qi;m&&nx(p,m)?tx(R,M):(p.flags=p.flags&-4097|2,ir=!1,Qi=p)}}else{if(Jg(p))throw Error(a(418));p.flags=p.flags&-4097|2,ir=!1,Qi=p}}}function uu(p){for(p=p.return;p!==null&&p.tag!==5&&p.tag!==3&&p.tag!==13;)p=p.return;Qi=p}function Qf(p){if(!we||p!==Qi)return!1;if(!ir)return uu(p),ir=!0,!1;if(p.tag!==3&&(p.tag!==5||ze(p.type)&&!ie(p.type,p.memoizedProps))){var m=yi;if(m){if(Jg(p)){for(p=yi;p;)p=Pi(p);throw Error(a(418))}for(;m;)tx(p,m),m=Pi(m)}}if(uu(p),p.tag===13){if(!we)throw Error(a(316));if(p=p.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));yi=yc(p)}else yi=Qi?Pi(p.stateNode):null;return!0}function Mc(){we&&(yi=Qi=null,wc=ir=!1)}function eh(p){Ca===null?Ca=[p]:Ca.push(p)}function Ec(p,m,M){if(p=M.ref,p!==null&&typeof p!="function"&&typeof p!="object"){if(M._owner){if(M=M._owner,M){if(M.tag!==1)throw Error(a(309));var R=M.stateNode}if(!R)throw Error(a(147,p));var D=R,B=""+p;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===B?m.ref:(m=function(ue){var Ae=D.refs;Ae===Z_&&(Ae=D.refs={}),ue===null?delete Ae[B]:Ae[B]=ue},m._stringRef=B,m)}if(typeof p!="string")throw Error(a(284));if(!M._owner)throw Error(a(290,p))}return p}function Oa(p,m){throw p=Object.prototype.toString.call(m),Error(a(31,p==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":p))}function th(p){var m=p._init;return m(p._payload)}function rx(p){function m(De,Oe){if(p){var Ge=De.deletions;Ge===null?(De.deletions=[Oe],De.flags|=16):Ge.push(Oe)}}function M(De,Oe){if(!p)return null;for(;Oe!==null;)m(De,Oe),Oe=Oe.sibling;return null}function R(De,Oe){for(De=new Map;Oe!==null;)Oe.key!==null?De.set(Oe.key,Oe):De.set(Oe.index,Oe),Oe=Oe.sibling;return De}function D(De,Oe){return De=Ws(De,Oe),De.index=0,De.sibling=null,De}function B(De,Oe,Ge){return De.index=Ge,p?(Ge=De.alternate,Ge!==null?(Ge=Ge.index,Ge<Oe?(De.flags|=2,Oe):Ge):(De.flags|=2,Oe)):(De.flags|=1048576,Oe)}function ue(De){return p&&De.alternate===null&&(De.flags|=2),De}function Ae(De,Oe,Ge,bt){return Oe===null||Oe.tag!==6?(Oe=Bi(Ge,De.mode,bt),Oe.return=De,Oe):(Oe=D(Oe,Ge),Oe.return=De,Oe)}function Ye(De,Oe,Ge,bt){var Dt=Ge.type;return Dt===c?Tt(De,Oe,Ge.props.children,bt,Ge.key):Oe!==null&&(Oe.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===w&&th(Dt)===Oe.type)?(bt=D(Oe,Ge.props),bt.ref=Ec(De,Oe,Ge),bt.return=De,bt):(bt=wp(Ge.type,Ge.key,Ge.props,null,De.mode,bt),bt.ref=Ec(De,Oe,Ge),bt.return=De,bt)}function ht(De,Oe,Ge,bt){return Oe===null||Oe.tag!==4||Oe.stateNode.containerInfo!==Ge.containerInfo||Oe.stateNode.implementation!==Ge.implementation?(Oe=oa(Ge,De.mode,bt),Oe.return=De,Oe):(Oe=D(Oe,Ge.children||[]),Oe.return=De,Oe)}function Tt(De,Oe,Ge,bt,Dt){return Oe===null||Oe.tag!==7?(Oe=Fl(Ge,De.mode,bt,Dt),Oe.return=De,Oe):(Oe=D(Oe,Ge),Oe.return=De,Oe)}function rn(De,Oe,Ge){if(typeof Oe=="string"&&Oe!==""||typeof Oe=="number")return Oe=Bi(""+Oe,De.mode,Ge),Oe.return=De,Oe;if(typeof Oe=="object"&&Oe!==null){switch(Oe.$$typeof){case l:return Ge=wp(Oe.type,Oe.key,Oe.props,null,De.mode,Ge),Ge.ref=Ec(De,null,Oe),Ge.return=De,Ge;case u:return Oe=oa(Oe,De.mode,Ge),Oe.return=De,Oe;case w:var bt=Oe._init;return rn(De,bt(Oe._payload),Ge)}if(K(Oe)||P(Oe))return Oe=Fl(Oe,De.mode,Ge,null),Oe.return=De,Oe;Oa(De,Oe)}return null}function zt(De,Oe,Ge,bt){var Dt=Oe!==null?Oe.key:null;if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return Dt!==null?null:Ae(De,Oe,""+Ge,bt);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case l:return Ge.key===Dt?Ye(De,Oe,Ge,bt):null;case u:return Ge.key===Dt?ht(De,Oe,Ge,bt):null;case w:return Dt=Ge._init,zt(De,Oe,Dt(Ge._payload),bt)}if(K(Ge)||P(Ge))return Dt!==null?null:Tt(De,Oe,Ge,bt,null);Oa(De,Ge)}return null}function Wn(De,Oe,Ge,bt,Dt){if(typeof bt=="string"&&bt!==""||typeof bt=="number")return De=De.get(Ge)||null,Ae(Oe,De,""+bt,Dt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case l:return De=De.get(bt.key===null?Ge:bt.key)||null,Ye(Oe,De,bt,Dt);case u:return De=De.get(bt.key===null?Ge:bt.key)||null,ht(Oe,De,bt,Dt);case w:var dn=bt._init;return Wn(De,Oe,Ge,dn(bt._payload),Dt)}if(K(bt)||P(bt))return De=De.get(Ge)||null,Tt(Oe,De,bt,Dt,null);Oa(Oe,bt)}return null}function Lt(De,Oe,Ge,bt){for(var Dt=null,dn=null,on=Oe,pn=Oe=0,jr=null;on!==null&&pn<Ge.length;pn++){on.index>pn?(jr=on,on=null):jr=on.sibling;var Pn=zt(De,on,Ge[pn],bt);if(Pn===null){on===null&&(on=jr);break}p&&on&&Pn.alternate===null&&m(De,on),Oe=B(Pn,Oe,pn),dn===null?Dt=Pn:dn.sibling=Pn,dn=Pn,on=jr}if(pn===Ge.length)return M(De,on),ir&&zs(De,pn),Dt;if(on===null){for(;pn<Ge.length;pn++)on=rn(De,Ge[pn],bt),on!==null&&(Oe=B(on,Oe,pn),dn===null?Dt=on:dn.sibling=on,dn=on);return ir&&zs(De,pn),Dt}for(on=R(De,on);pn<Ge.length;pn++)jr=Wn(on,De,pn,Ge[pn],bt),jr!==null&&(p&&jr.alternate!==null&&on.delete(jr.key===null?pn:jr.key),Oe=B(jr,Oe,pn),dn===null?Dt=jr:dn.sibling=jr,dn=jr);return p&&on.forEach(function(hs){return m(De,hs)}),ir&&zs(De,pn),Dt}function zi(De,Oe,Ge,bt){var Dt=P(Ge);if(typeof Dt!="function")throw Error(a(150));if(Ge=Dt.call(Ge),Ge==null)throw Error(a(151));for(var dn=Dt=null,on=Oe,pn=Oe=0,jr=null,Pn=Ge.next();on!==null&&!Pn.done;pn++,Pn=Ge.next()){on.index>pn?(jr=on,on=null):jr=on.sibling;var hs=zt(De,on,Pn.value,bt);if(hs===null){on===null&&(on=jr);break}p&&on&&hs.alternate===null&&m(De,on),Oe=B(hs,Oe,pn),dn===null?Dt=hs:dn.sibling=hs,dn=hs,on=jr}if(Pn.done)return M(De,on),ir&&zs(De,pn),Dt;if(on===null){for(;!Pn.done;pn++,Pn=Ge.next())Pn=rn(De,Pn.value,bt),Pn!==null&&(Oe=B(Pn,Oe,pn),dn===null?Dt=Pn:dn.sibling=Pn,dn=Pn);return ir&&zs(De,pn),Dt}for(on=R(De,on);!Pn.done;pn++,Pn=Ge.next())Pn=Wn(on,De,pn,Pn.value,bt),Pn!==null&&(p&&Pn.alternate!==null&&on.delete(Pn.key===null?pn:Pn.key),Oe=B(Pn,Oe,pn),dn===null?Dt=Pn:dn.sibling=Pn,dn=Pn);return p&&on.forEach(function(Ep){return m(De,Ep)}),ir&&zs(De,pn),Dt}function Uo(De,Oe,Ge,bt){if(typeof Ge=="object"&&Ge!==null&&Ge.type===c&&Ge.key===null&&(Ge=Ge.props.children),typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case l:e:{for(var Dt=Ge.key,dn=Oe;dn!==null;){if(dn.key===Dt){if(Dt=Ge.type,Dt===c){if(dn.tag===7){M(De,dn.sibling),Oe=D(dn,Ge.props.children),Oe.return=De,De=Oe;break e}}else if(dn.elementType===Dt||typeof Dt=="object"&&Dt!==null&&Dt.$$typeof===w&&th(Dt)===dn.type){M(De,dn.sibling),Oe=D(dn,Ge.props),Oe.ref=Ec(De,dn,Ge),Oe.return=De,De=Oe;break e}M(De,dn);break}else m(De,dn);dn=dn.sibling}Ge.type===c?(Oe=Fl(Ge.props.children,De.mode,bt,Ge.key),Oe.return=De,De=Oe):(bt=wp(Ge.type,Ge.key,Ge.props,null,De.mode,bt),bt.ref=Ec(De,Oe,Ge),bt.return=De,De=bt)}return ue(De);case u:e:{for(dn=Ge.key;Oe!==null;){if(Oe.key===dn)if(Oe.tag===4&&Oe.stateNode.containerInfo===Ge.containerInfo&&Oe.stateNode.implementation===Ge.implementation){M(De,Oe.sibling),Oe=D(Oe,Ge.children||[]),Oe.return=De,De=Oe;break e}else{M(De,Oe);break}else m(De,Oe);Oe=Oe.sibling}Oe=oa(Ge,De.mode,bt),Oe.return=De,De=Oe}return ue(De);case w:return dn=Ge._init,Uo(De,Oe,dn(Ge._payload),bt)}if(K(Ge))return Lt(De,Oe,Ge,bt);if(P(Ge))return zi(De,Oe,Ge,bt);Oa(De,Ge)}return typeof Ge=="string"&&Ge!==""||typeof Ge=="number"?(Ge=""+Ge,Oe!==null&&Oe.tag===6?(M(De,Oe.sibling),Oe=D(Oe,Ge),Oe.return=De,De=Oe):(M(De,Oe),Oe=Bi(Ge,De.mode,bt),Oe.return=De,De=Oe),ue(De)):M(De,Oe)}return Uo}var Ac=rx(!0),ix=rx(!1),is={},Sr=fn(is),Tc=fn(is),Pc=fn(is);function os(p){if(p===is)throw Error(a(174));return p}function ev(p,m){tn(Pc,m),tn(Tc,p),tn(Sr,is),p=Q(m),Ft(Sr),tn(Sr,p)}function Cc(){Ft(Sr),Ft(Tc),Ft(Pc)}function ox(p){var m=os(Pc.current),M=os(Sr.current);m=F(M,p.type,m),M!==m&&(tn(Tc,p),tn(Sr,m))}function El(p){Tc.current===p&&(Ft(Sr),Ft(Tc))}var _e=fn(0);function Qe(p){for(var m=p;m!==null;){if(m.tag===13){var M=m.memoizedState;if(M!==null&&(M=M.dehydrated,M===null||Ar(M)||gi(M)))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if(m.flags&128)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var $e=[];function Mt(){for(var p=0;p<$e.length;p++){var m=$e[p];Te?m._workInProgressVersionPrimary=null:m._workInProgressVersionSecondary=null}$e.length=0}var Zt=s.ReactCurrentDispatcher,ln=s.ReactCurrentBatchConfig,sr=0,Xt=null,li=null,ui=null,eo=!1,Al=!1,nh=0,Oc=0;function Zr(){throw Error(a(321))}function Rc(p,m){if(m===null)return!1;for(var M=0;M<m.length&&M<p.length;M++)if(!Co(p[M],m[M]))return!1;return!0}function kn(p,m,M,R,D,B){if(sr=B,Xt=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Zt.current=p===null||p.memoizedState===null?ch:sv,p=M(R,D),Al){B=0;do{if(Al=!1,nh=0,25<=B)throw Error(a(301));B+=1,ui=li=null,m.updateQueue=null,Zt.current=Dc,p=M(R,D)}while(Al)}if(Zt.current=Lc,m=li!==null&&li.next!==null,sr=0,ui=li=Xt=null,eo=!1,m)throw Error(a(300));return p}function tv(){var p=nh!==0;return nh=0,p}function as(){var p={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ui===null?Xt.memoizedState=ui=p:ui=ui.next=p,ui}function Ro(){if(li===null){var p=Xt.alternate;p=p!==null?p.memoizedState:null}else p=li.next;var m=ui===null?Xt.memoizedState:ui.next;if(m!==null)ui=m,li=p;else{if(p===null)throw Error(a(310));li=p,p={memoizedState:li.memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},ui===null?Xt.memoizedState=ui=p:ui=ui.next=p}return ui}function cu(p,m){return typeof m=="function"?m(p):m}function ip(p){var m=Ro(),M=m.queue;if(M===null)throw Error(a(311));M.lastRenderedReducer=p;var R=li,D=R.baseQueue,B=M.pending;if(B!==null){if(D!==null){var ue=D.next;D.next=B.next,B.next=ue}R.baseQueue=D=B,M.pending=null}if(D!==null){B=D.next,R=R.baseState;var Ae=ue=null,Ye=null,ht=B;do{var Tt=ht.lane;if((sr&Tt)===Tt)Ye!==null&&(Ye=Ye.next={lane:0,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null}),R=ht.hasEagerState?ht.eagerState:p(R,ht.action);else{var rn={lane:Tt,action:ht.action,hasEagerState:ht.hasEagerState,eagerState:ht.eagerState,next:null};Ye===null?(Ae=Ye=rn,ue=R):Ye=Ye.next=rn,Xt.lanes|=Tt,jc|=Tt}ht=ht.next}while(ht!==null&&ht!==B);Ye===null?ue=R:Ye.next=Ae,Co(R,m.memoizedState)||(Io=!0),m.memoizedState=R,m.baseState=ue,m.baseQueue=Ye,M.lastRenderedState=R}if(p=M.interleaved,p!==null){D=p;do B=D.lane,Xt.lanes|=B,jc|=B,D=D.next;while(D!==p)}else D===null&&(M.lanes=0);return[m.memoizedState,M.dispatch]}function op(p){var m=Ro(),M=m.queue;if(M===null)throw Error(a(311));M.lastRenderedReducer=p;var R=M.dispatch,D=M.pending,B=m.memoizedState;if(D!==null){M.pending=null;var ue=D=D.next;do B=p(B,ue.action),ue=ue.next;while(ue!==D);Co(B,m.memoizedState)||(Io=!0),m.memoizedState=B,m.baseQueue===null&&(m.baseState=B),M.lastRenderedState=B}return[B,R]}function rh(){}function js(p,m){var M=Xt,R=Ro(),D=m(),B=!Co(R.memoizedState,D);if(B&&(R.memoizedState=D,Io=!0),R=R.queue,ah(oh.bind(null,M,R,p),[p]),R.getSnapshot!==m||B||ui!==null&&ui.memoizedState.tag&1){if(M.flags|=2048,Tl(9,nv.bind(null,M,R,D,m),void 0,null),Br===null)throw Error(a(349));sr&30||ih(M,m,D)}return D}function ih(p,m,M){p.flags|=16384,p={getSnapshot:m,value:M},m=Xt.updateQueue,m===null?(m={lastEffect:null,stores:null},Xt.updateQueue=m,m.stores=[p]):(M=m.stores,M===null?m.stores=[p]:M.push(p))}function nv(p,m,M,R){m.value=M,m.getSnapshot=R,rv(m)&&ra(p,1,-1)}function oh(p,m,M){return M(function(){rv(m)&&ra(p,1,-1)})}function rv(p){var m=p.getSnapshot;p=p.value;try{var M=m();return!Co(p,M)}catch{return!0}}function ap(p){var m=as();return typeof p=="function"&&(p=p()),m.memoizedState=m.baseState=p,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cu,lastRenderedState:p},m.queue=p,p=p.dispatch=Li.bind(null,Xt,p),[m.memoizedState,p]}function Tl(p,m,M,R){return p={tag:p,create:m,destroy:M,deps:R,next:null},m=Xt.updateQueue,m===null?(m={lastEffect:null,stores:null},Xt.updateQueue=m,m.lastEffect=p.next=p):(M=m.lastEffect,M===null?m.lastEffect=p.next=p:(R=M.next,M.next=p,p.next=R,m.lastEffect=p)),p}function iv(){return Ro().memoizedState}function Pl(p,m,M,R){var D=as();Xt.flags|=p,D.memoizedState=Tl(1|m,M,void 0,R===void 0?null:R)}function ss(p,m,M,R){var D=Ro();R=R===void 0?null:R;var B=void 0;if(li!==null){var ue=li.memoizedState;if(B=ue.destroy,R!==null&&Rc(R,ue.deps)){D.memoizedState=Tl(m,M,B,R);return}}Xt.flags|=p,D.memoizedState=Tl(1|m,M,B,R)}function Ic(p,m){return Pl(8390656,8,p,m)}function ah(p,m){return ss(2048,8,p,m)}function ax(p,m){return ss(4,2,p,m)}function sx(p,m){return ss(4,4,p,m)}function sh(p,m){if(typeof m=="function")return p=p(),m(p),function(){m(null)};if(m!=null)return p=p(),m.current=p,function(){m.current=null}}function lh(p,m,M){return M=M!=null?M.concat([p]):null,ss(4,4,sh.bind(null,m,p),M)}function uh(){}function lx(p,m){var M=Ro();m=m===void 0?null:m;var R=M.memoizedState;return R!==null&&m!==null&&Rc(m,R[1])?R[0]:(M.memoizedState=[p,m],p)}function ov(p,m){var M=Ro();m=m===void 0?null:m;var R=M.memoizedState;return R!==null&&m!==null&&Rc(m,R[1])?R[0]:(p=p(),M.memoizedState=[p,m],p)}function uA(p,m){var M=bn;bn=M!==0&&4>M?M:4,p(!0);var R=ln.transition;ln.transition={};try{p(!1),m()}finally{bn=M,ln.transition=R}}function ux(){return Ro().memoizedState}function Jr(p,m,M){var R=cs(p);M={lane:R,action:M,hasEagerState:!1,eagerState:null,next:null},cx(p)?fx(m,M):(av(p,m,M),M=ki(),p=ra(p,R,M),p!==null&&hx(p,m,R))}function Li(p,m,M){var R=cs(p),D={lane:R,action:M,hasEagerState:!1,eagerState:null,next:null};if(cx(p))fx(m,D);else{av(p,m,D);var B=p.alternate;if(p.lanes===0&&(B===null||B.lanes===0)&&(B=m.lastRenderedReducer,B!==null))try{var ue=m.lastRenderedState,Ae=B(ue,M);if(D.hasEagerState=!0,D.eagerState=Ae,Co(Ae,ue))return}catch{}finally{}M=ki(),p=ra(p,R,M),p!==null&&hx(p,m,R)}}function cx(p){var m=p.alternate;return p===Xt||m!==null&&m===Xt}function fx(p,m){Al=eo=!0;var M=p.pending;M===null?m.next=m:(m.next=M.next,M.next=m),p.pending=m}function av(p,m,M){Br!==null&&p.mode&1&&!(hn&2)?(p=m.interleaved,p===null?(M.next=M,Oo===null?Oo=[m]:Oo.push(m)):(M.next=p.next,p.next=M),m.interleaved=M):(p=m.pending,p===null?M.next=M:(M.next=p.next,p.next=M),m.pending=M)}function hx(p,m,M){if(M&4194240){var R=m.lanes;R&=p.pendingLanes,M|=R,m.lanes=M,ts(p,M)}}var Lc={readContext:Rn,useCallback:Zr,useContext:Zr,useEffect:Zr,useImperativeHandle:Zr,useInsertionEffect:Zr,useLayoutEffect:Zr,useMemo:Zr,useReducer:Zr,useRef:Zr,useState:Zr,useDebugValue:Zr,useDeferredValue:Zr,useTransition:Zr,useMutableSource:Zr,useSyncExternalStore:Zr,useId:Zr,unstable_isNewReconciler:!1},ch={readContext:Rn,useCallback:function(p,m){return as().memoizedState=[p,m===void 0?null:m],p},useContext:Rn,useEffect:Ic,useImperativeHandle:function(p,m,M){return M=M!=null?M.concat([p]):null,Pl(4194308,4,sh.bind(null,m,p),M)},useLayoutEffect:function(p,m){return Pl(4194308,4,p,m)},useInsertionEffect:function(p,m){return Pl(4,2,p,m)},useMemo:function(p,m){var M=as();return m=m===void 0?null:m,p=p(),M.memoizedState=[p,m],p},useReducer:function(p,m,M){var R=as();return m=M!==void 0?M(m):m,R.memoizedState=R.baseState=m,p={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:p,lastRenderedState:m},R.queue=p,p=p.dispatch=Jr.bind(null,Xt,p),[R.memoizedState,p]},useRef:function(p){var m=as();return p={current:p},m.memoizedState=p},useState:ap,useDebugValue:uh,useDeferredValue:function(p){var m=ap(p),M=m[0],R=m[1];return Ic(function(){var D=ln.transition;ln.transition={};try{R(p)}finally{ln.transition=D}},[p]),M},useTransition:function(){var p=ap(!1),m=p[0];return p=uA.bind(null,p[1]),as().memoizedState=p,[m,p]},useMutableSource:function(){},useSyncExternalStore:function(p,m,M){var R=Xt,D=as();if(ir){if(M===void 0)throw Error(a(407));M=M()}else{if(M=m(),Br===null)throw Error(a(349));sr&30||ih(R,m,M)}D.memoizedState=M;var B={value:M,getSnapshot:m};return D.queue=B,Ic(oh.bind(null,R,B,p),[p]),R.flags|=2048,Tl(9,nv.bind(null,R,B,M,m),void 0,null),M},useId:function(){var p=as(),m=Br.identifierPrefix;if(ir){var M=Pa,R=Bs;M=(R&~(1<<32-Xn(R)-1)).toString(32)+M,m=":"+m+"R"+M,M=nh++,0<M&&(m+="H"+M.toString(32)),m+=":"}else M=Oc++,m=":"+m+"r"+M.toString(32)+":";return p.memoizedState=m},unstable_isNewReconciler:!1},sv={readContext:Rn,useCallback:lx,useContext:Rn,useEffect:ah,useImperativeHandle:lh,useInsertionEffect:ax,useLayoutEffect:sx,useMemo:ov,useReducer:ip,useRef:iv,useState:function(){return ip(cu)},useDebugValue:uh,useDeferredValue:function(p){var m=ip(cu),M=m[0],R=m[1];return ah(function(){var D=ln.transition;ln.transition={};try{R(p)}finally{ln.transition=D}},[p]),M},useTransition:function(){var p=ip(cu)[0],m=Ro().memoizedState;return[p,m]},useMutableSource:rh,useSyncExternalStore:js,useId:ux,unstable_isNewReconciler:!1},Dc={readContext:Rn,useCallback:lx,useContext:Rn,useEffect:ah,useImperativeHandle:lh,useInsertionEffect:ax,useLayoutEffect:sx,useMemo:ov,useReducer:op,useRef:iv,useState:function(){return op(cu)},useDebugValue:uh,useDeferredValue:function(p){var m=op(cu),M=m[0],R=m[1];return ah(function(){var D=ln.transition;ln.transition={};try{R(p)}finally{ln.transition=D}},[p]),M},useTransition:function(){var p=op(cu)[0],m=Ro().memoizedState;return[p,m]},useMutableSource:rh,useSyncExternalStore:js,useId:ux,unstable_isNewReconciler:!1};function fu(p,m){try{var M="",R=m;do M+=Us(R),R=R.return;while(R);var D=M}catch(B){D=`
Error generating stack: `+B.message+`
`+B.stack}return{value:p,source:m,stack:D}}function hu(p,m){try{console.error(m.value)}catch(M){setTimeout(function(){throw M})}}var sp=typeof WeakMap=="function"?WeakMap:Map;function du(p,m,M){M=Ii(-1,M),M.tag=3,M.payload={element:null};var R=m.value;return M.callback=function(){yh||(yh=!0,mp=R),hu(p,m)},M}function dx(p,m,M){M=Ii(-1,M),M.tag=3;var R=p.type.getDerivedStateFromError;if(typeof R=="function"){var D=m.value;M.payload=function(){return R(D)},M.callback=function(){hu(p,m)}}var B=p.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(M.callback=function(){hu(p,m),typeof R!="function"&&(Na===null?Na=new Set([this]):Na.add(this));var ue=m.stack;this.componentDidCatch(m.value,{componentStack:ue!==null?ue:""})}),M}function px(p,m,M){var R=p.pingCache;if(R===null){R=p.pingCache=new sp;var D=new Set;R.set(m,D)}else D=R.get(m),D===void 0&&(D=new Set,R.set(m,D));D.has(M)||(D.add(M),p=kl.bind(null,p,m,M),m.then(p,p))}function mx(p){do{var m;if((m=p.tag===13)&&(m=p.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return p;p=p.return}while(p!==null);return null}function gx(p,m,M,R,D){return p.mode&1?(p.flags|=65536,p.lanes=D,p):(p===m?p.flags|=65536:(p.flags|=128,M.flags|=131072,M.flags&=-52805,M.tag===1&&(M.alternate===null?M.tag=17:(m=Ii(-1,1),m.tag=2,Ea(M,m))),M.lanes|=1),p)}function ls(p){p.flags|=4}function fh(p,m){if(p!==null&&p.child===m.child)return!0;if(m.flags&16)return!1;for(p=m.child;p!==null;){if(p.flags&12854||p.subtreeFlags&12854)return!1;p=p.sibling}return!0}var $s,Nc,J,Hs;if(Se)$s=function(p,m){for(var M=m.child;M!==null;){if(M.tag===5||M.tag===6)Y(p,M.stateNode);else if(M.tag!==4&&M.child!==null){M.child.return=M,M=M.child;continue}if(M===m)break;for(;M.sibling===null;){if(M.return===null||M.return===m)return;M=M.return}M.sibling.return=M.return,M=M.sibling}},Nc=function(){},J=function(p,m,M,R,D){if(p=p.memoizedProps,p!==R){var B=m.stateNode,ue=os(Sr.current);M=re(B,M,p,R,D,ue),(m.updateQueue=M)&&ls(m)}},Hs=function(p,m,M,R){M!==R&&ls(m)};else if(ee){$s=function(p,m,M,R){for(var D=m.child;D!==null;){if(D.tag===5){var B=D.stateNode;M&&R&&(B=Rt(B,D.type,D.memoizedProps,D)),Y(p,B)}else if(D.tag===6)B=D.stateNode,M&&R&&(B=Mn(B,D.memoizedProps,D)),Y(p,B);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)B=D.child,B!==null&&(B.return=D),$s(p,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===m)break;for(;D.sibling===null;){if(D.return===null||D.return===m)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};var hh=function(p,m,M,R){for(var D=m.child;D!==null;){if(D.tag===5){var B=D.stateNode;M&&R&&(B=Rt(B,D.type,D.memoizedProps,D)),vt(p,B)}else if(D.tag===6)B=D.stateNode,M&&R&&(B=Mn(B,D.memoizedProps,D)),vt(p,B);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)B=D.child,B!==null&&(B.return=D),hh(p,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===m)break;for(;D.sibling===null;){if(D.return===null||D.return===m)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};Nc=function(p,m){var M=m.stateNode;if(!fh(p,m)){p=M.containerInfo;var R=nt(p);hh(R,m,!1,!1),M.pendingChildren=R,ls(m),It(p,R)}},J=function(p,m,M,R,D){var B=p.stateNode,ue=p.memoizedProps;if((p=fh(p,m))&&ue===R)m.stateNode=B;else{var Ae=m.stateNode,Ye=os(Sr.current),ht=null;ue!==R&&(ht=re(Ae,M,ue,R,D,Ye)),p&&ht===null?m.stateNode=B:(B=st(B,ht,M,ue,R,m,p,Ae),se(B,M,R,D,Ye)&&ls(m),m.stateNode=B,p?ls(m):$s(B,m,!1,!1))}},Hs=function(p,m,M,R){M!==R?(p=os(Pc.current),M=os(Sr.current),m.stateNode=ge(R,p,M,m),ls(m)):m.stateNode=p.stateNode}}else Nc=function(){},J=function(){},Hs=function(){};function Di(p,m){if(!ir)switch(p.tailMode){case"hidden":m=p.tail;for(var M=null;m!==null;)m.alternate!==null&&(M=m),m=m.sibling;M===null?p.tail=null:M.sibling=null;break;case"collapsed":M=p.tail;for(var R=null;M!==null;)M.alternate!==null&&(R=M),M=M.sibling;R===null?m||p.tail===null?p.tail=null:p.tail.sibling=null:R.sibling=null}}function $t(p){var m=p.alternate!==null&&p.alternate.child===p.child,M=0,R=0;if(m)for(var D=p.child;D!==null;)M|=D.lanes|D.childLanes,R|=D.subtreeFlags&14680064,R|=D.flags&14680064,D.return=p,D=D.sibling;else for(D=p.child;D!==null;)M|=D.lanes|D.childLanes,R|=D.subtreeFlags,R|=D.flags,D.return=p,D=D.sibling;return p.subtreeFlags|=R,p.childLanes=M,m}function cA(p,m,M){var R=m.pendingProps;switch(Ji(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(m),null;case 1:return nr(m.type)&&Qn(),$t(m),null;case 3:return R=m.stateNode,Cc(),Ft(jn),Ft(gt),Mt(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(p===null||p.child===null)&&(Qf(m)?ls(m):p===null||p.memoizedState.isDehydrated&&!(m.flags&256)||(m.flags|=1024,Ca!==null&&(yu(Ca),Ca=null))),Nc(p,m),$t(m),null;case 5:El(m),M=os(Pc.current);var D=m.type;if(p!==null&&m.stateNode!=null)J(p,m,D,R,M),p.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!R){if(m.stateNode===null)throw Error(a(166));return $t(m),null}if(p=os(Sr.current),Qf(m)){if(!we)throw Error(a(175));p=iu(m.stateNode,m.type,m.memoizedProps,M,p,m,!wc),m.updateQueue=p,p!==null&&ls(m)}else{var B=H(D,R,M,p,m);$s(B,m,!1,!1),m.stateNode=B,se(B,D,R,M,p)&&ls(m)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return $t(m),null;case 6:if(p&&m.stateNode!=null)Hs(p,m,p.memoizedProps,R);else{if(typeof R!="string"&&m.stateNode===null)throw Error(a(166));if(p=os(Pc.current),M=os(Sr.current),Qf(m)){if(!we)throw Error(a(176));if(p=m.stateNode,R=m.memoizedProps,(M=xl(p,R,m,!wc))&&(D=Qi,D!==null))switch(B=(D.mode&1)!==0,D.tag){case 3:Pe(D.stateNode.containerInfo,p,R,B);break;case 5:ft(D.type,D.memoizedProps,D.stateNode,p,R,B)}M&&ls(m)}else m.stateNode=ge(R,p,M,m)}return $t(m),null;case 13:if(Ft(_e),R=m.memoizedState,ir&&yi!==null&&m.mode&1&&!(m.flags&128)){for(p=yi;p;)p=Pi(p);return Mc(),m.flags|=98560,m}if(R!==null&&R.dehydrated!==null){if(R=Qf(m),p===null){if(!R)throw Error(a(318));if(!we)throw Error(a(344));if(p=m.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));vc(p,m)}else Mc(),!(m.flags&128)&&(m.memoizedState=null),m.flags|=4;return $t(m),null}return Ca!==null&&(yu(Ca),Ca=null),m.flags&128?(m.lanes=M,m):(R=R!==null,M=!1,p===null?Qf(m):M=p.memoizedState!==null,R&&!M&&(m.child.flags|=8192,m.mode&1&&(p===null||_e.current&1?Or===0&&(Or=3):xp())),m.updateQueue!==null&&(m.flags|=4),$t(m),null);case 4:return Cc(),Nc(p,m),p===null&&Ie(m.stateNode.containerInfo),$t(m),null;case 10:return Yr(m.type._context),$t(m),null;case 17:return nr(m.type)&&Qn(),$t(m),null;case 19:if(Ft(_e),D=m.memoizedState,D===null)return $t(m),null;if(R=(m.flags&128)!==0,B=D.rendering,B===null)if(R)Di(D,!1);else{if(Or!==0||p!==null&&p.flags&128)for(p=m.child;p!==null;){if(B=Qe(p),B!==null){for(m.flags|=128,Di(D,!1),p=B.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),m.subtreeFlags=0,p=M,R=m.child;R!==null;)M=R,D=p,M.flags&=14680066,B=M.alternate,B===null?(M.childLanes=0,M.lanes=D,M.child=null,M.subtreeFlags=0,M.memoizedProps=null,M.memoizedState=null,M.updateQueue=null,M.dependencies=null,M.stateNode=null):(M.childLanes=B.childLanes,M.lanes=B.lanes,M.child=B.child,M.subtreeFlags=0,M.deletions=null,M.memoizedProps=B.memoizedProps,M.memoizedState=B.memoizedState,M.updateQueue=B.updateQueue,M.type=B.type,D=B.dependencies,M.dependencies=D===null?null:{lanes:D.lanes,firstContext:D.firstContext}),R=R.sibling;return tn(_e,_e.current&1|2),m.child}p=p.sibling}D.tail!==null&&fr()>vh&&(m.flags|=128,R=!0,Di(D,!1),m.lanes=4194304)}else{if(!R)if(p=Qe(B),p!==null){if(m.flags|=128,R=!0,p=p.updateQueue,p!==null&&(m.updateQueue=p,m.flags|=4),Di(D,!0),D.tail===null&&D.tailMode==="hidden"&&!B.alternate&&!ir)return $t(m),null}else 2*fr()-D.renderingStartTime>vh&&M!==1073741824&&(m.flags|=128,R=!0,Di(D,!1),m.lanes=4194304);D.isBackwards?(B.sibling=m.child,m.child=B):(p=D.last,p!==null?p.sibling=B:m.child=B,D.last=B)}return D.tail!==null?(m=D.tail,D.rendering=m,D.tail=m.sibling,D.renderingStartTime=fr(),m.sibling=null,p=_e.current,tn(_e,R?p&1|2:p&1),m):($t(m),null);case 22:case 23:return wv(),R=m.memoizedState!==null,p!==null&&p.memoizedState!==null!==R&&(m.flags|=8192),R&&m.mode&1?No&1073741824&&($t(m),Se&&m.subtreeFlags&6&&(m.flags|=8192)):$t(m),null;case 24:return null;case 25:return null}throw Error(a(156,m.tag))}var fA=s.ReactCurrentOwner,Io=!1;function Pr(p,m,M,R){m.child=p===null?ix(m,null,M,R):Ac(m,p.child,M,R)}function vx(p,m,M,R,D){M=M.render;var B=m.ref;return br(m,D),R=kn(p,m,M,R,B,D),M=tv(),p!==null&&!Io?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~D,Qr(p,m,D)):(ir&&M&&rp(m),m.flags|=1,Pr(p,m,R,D),m.child)}function yx(p,m,M,R,D){if(p===null){var B=M.type;return typeof B=="function"&&!Cv(B)&&B.defaultProps===void 0&&M.compare===null&&M.defaultProps===void 0?(m.tag=15,m.type=B,_x(p,m,B,R,D)):(p=wp(M.type,null,R,m,m.mode,D),p.ref=m.ref,p.return=m,m.child=p)}if(B=p.child,!(p.lanes&D)){var ue=B.memoizedProps;if(M=M.compare,M=M!==null?M:hr,M(ue,R)&&p.ref===m.ref)return Qr(p,m,D)}return m.flags|=1,p=Ws(B,R),p.ref=m.ref,p.return=m,m.child=p}function _x(p,m,M,R,D){if(p!==null&&hr(p.memoizedProps,R)&&p.ref===m.ref)if(Io=!1,(p.lanes&D)!==0)p.flags&131072&&(Io=!0);else return m.lanes=p.lanes,Qr(p,m,D);return Ra(p,m,M,R,D)}function xx(p,m,M){var R=m.pendingProps,D=R.children,B=p!==null?p.memoizedState:null;if(R.mode==="hidden")if(!(m.mode&1))m.memoizedState={baseLanes:0,cachePool:null},tn(Bc,No),No|=M;else if(M&1073741824)m.memoizedState={baseLanes:0,cachePool:null},R=B!==null?B.baseLanes:M,tn(Bc,No),No|=R;else return p=B!==null?B.baseLanes|M:M,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:p,cachePool:null},m.updateQueue=null,tn(Bc,No),No|=p,null;else B!==null?(R=B.baseLanes|M,m.memoizedState=null):R=M,tn(Bc,No),No|=R;return Pr(p,m,D,M),m.child}function bx(p,m){var M=m.ref;(p===null&&M!==null||p!==null&&p.ref!==M)&&(m.flags|=512,m.flags|=2097152)}function Ra(p,m,M,R,D){var B=nr(M)?sn:gt.current;return B=Jn(m,B),br(m,D),M=kn(p,m,M,R,B,D),R=tv(),p!==null&&!Io?(m.updateQueue=p.updateQueue,m.flags&=-2053,p.lanes&=~D,Qr(p,m,D)):(ir&&R&&rp(m),m.flags|=1,Pr(p,m,M,D),m.child)}function Sx(p,m,M,R,D){if(nr(M)){var B=!0;Xr(m)}else B=!1;if(br(m,D),m.stateNode===null)p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),Q_(m,M,R),bc(m,M,R,D),R=!0;else if(p===null){var ue=m.stateNode,Ae=m.memoizedProps;ue.props=Ae;var Ye=ue.context,ht=M.contextType;typeof ht=="object"&&ht!==null?ht=Rn(ht):(ht=nr(M)?sn:gt.current,ht=Jn(m,ht));var Tt=M.getDerivedStateFromProps,rn=typeof Tt=="function"||typeof ue.getSnapshotBeforeUpdate=="function";rn||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(Ae!==R||Ye!==ht)&&Zg(m,ue,R,ht),Kr=!1;var zt=m.memoizedState;ue.state=zt,Aa(m,R,ue,D),Ye=m.memoizedState,Ae!==R||zt!==Ye||jn.current||Kr?(typeof Tt=="function"&&(Kf(m,M,Tt,R),Ye=m.memoizedState),(Ae=Kr||J_(m,M,Ae,R,zt,Ye,ht))?(rn||typeof ue.UNSAFE_componentWillMount!="function"&&typeof ue.componentWillMount!="function"||(typeof ue.componentWillMount=="function"&&ue.componentWillMount(),typeof ue.UNSAFE_componentWillMount=="function"&&ue.UNSAFE_componentWillMount()),typeof ue.componentDidMount=="function"&&(m.flags|=4194308)):(typeof ue.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=R,m.memoizedState=Ye),ue.props=R,ue.state=Ye,ue.context=ht,R=Ae):(typeof ue.componentDidMount=="function"&&(m.flags|=4194308),R=!1)}else{ue=m.stateNode,Kg(p,m),Ae=m.memoizedProps,ht=m.type===m.elementType?Ae:Tr(m.type,Ae),ue.props=ht,rn=m.pendingProps,zt=ue.context,Ye=M.contextType,typeof Ye=="object"&&Ye!==null?Ye=Rn(Ye):(Ye=nr(M)?sn:gt.current,Ye=Jn(m,Ye));var Wn=M.getDerivedStateFromProps;(Tt=typeof Wn=="function"||typeof ue.getSnapshotBeforeUpdate=="function")||typeof ue.UNSAFE_componentWillReceiveProps!="function"&&typeof ue.componentWillReceiveProps!="function"||(Ae!==rn||zt!==Ye)&&Zg(m,ue,R,Ye),Kr=!1,zt=m.memoizedState,ue.state=zt,Aa(m,R,ue,D);var Lt=m.memoizedState;Ae!==rn||zt!==Lt||jn.current||Kr?(typeof Wn=="function"&&(Kf(m,M,Wn,R),Lt=m.memoizedState),(ht=Kr||J_(m,M,ht,R,zt,Lt,Ye)||!1)?(Tt||typeof ue.UNSAFE_componentWillUpdate!="function"&&typeof ue.componentWillUpdate!="function"||(typeof ue.componentWillUpdate=="function"&&ue.componentWillUpdate(R,Lt,Ye),typeof ue.UNSAFE_componentWillUpdate=="function"&&ue.UNSAFE_componentWillUpdate(R,Lt,Ye)),typeof ue.componentDidUpdate=="function"&&(m.flags|=4),typeof ue.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof ue.componentDidUpdate!="function"||Ae===p.memoizedProps&&zt===p.memoizedState||(m.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||Ae===p.memoizedProps&&zt===p.memoizedState||(m.flags|=1024),m.memoizedProps=R,m.memoizedState=Lt),ue.props=R,ue.state=Lt,ue.context=Ye,R=ht):(typeof ue.componentDidUpdate!="function"||Ae===p.memoizedProps&&zt===p.memoizedState||(m.flags|=4),typeof ue.getSnapshotBeforeUpdate!="function"||Ae===p.memoizedProps&&zt===p.memoizedState||(m.flags|=1024),R=!1)}return lv(p,m,M,R,B,D)}function lv(p,m,M,R,D,B){bx(p,m);var ue=(m.flags&128)!==0;if(!R&&!ue)return D&&Fr(m,M,!1),Qr(p,m,B);R=m.stateNode,fA.current=m;var Ae=ue&&typeof M.getDerivedStateFromError!="function"?null:R.render();return m.flags|=1,p!==null&&ue?(m.child=Ac(m,p.child,null,B),m.child=Ac(m,null,Ae,B)):Pr(p,m,Ae,B),m.memoizedState=R.state,D&&Fr(m,M,!0),m.child}function wx(p){var m=p.stateNode;m.pendingContext?qi(p,m.pendingContext,m.pendingContext!==m.context):m.context&&qi(p,m.context,!1),ev(p,m.containerInfo)}function Mx(p,m,M,R,D){return Mc(),eh(D),m.flags|=256,Pr(p,m,M,R),m.child}var lp={dehydrated:null,treeContext:null,retryLane:0};function na(p){return{baseLanes:p,cachePool:null}}function Ex(p,m,M){var R=m.pendingProps,D=_e.current,B=!1,ue=(m.flags&128)!==0,Ae;if((Ae=ue)||(Ae=p!==null&&p.memoizedState===null?!1:(D&2)!==0),Ae?(B=!0,m.flags&=-129):(p===null||p.memoizedState!==null)&&(D|=1),tn(_e,D&1),p===null)return Qg(m),p=m.memoizedState,p!==null&&(p=p.dehydrated,p!==null)?(m.mode&1?gi(p)?m.lanes=8:m.lanes=1073741824:m.lanes=1,null):(D=R.children,p=R.fallback,B?(R=m.mode,B=m.child,D={mode:"hidden",children:D},!(R&1)&&B!==null?(B.childLanes=0,B.pendingProps=D):B=Sh(D,R,0,null),p=Fl(p,R,M,null),B.return=m,p.return=m,B.sibling=p,m.child=B,m.child.memoizedState=na(M),m.memoizedState=lp,p):uv(m,D));if(D=p.memoizedState,D!==null){if(Ae=D.dehydrated,Ae!==null){if(ue)return m.flags&256?(m.flags&=-257,up(p,m,M,Error(a(422)))):m.memoizedState!==null?(m.child=p.child,m.flags|=128,null):(B=R.fallback,D=m.mode,R=Sh({mode:"visible",children:R.children},D,0,null),B=Fl(B,D,M,null),B.flags|=2,R.return=m,B.return=m,R.sibling=B,m.child=R,m.mode&1&&Ac(m,p.child,null,M),m.child.memoizedState=na(M),m.memoizedState=lp,B);if(!(m.mode&1))m=up(p,m,M,null);else if(gi(Ae))m=up(p,m,M,Error(a(419)));else if(R=(M&p.childLanes)!==0,Io||R){if(R=Br,R!==null){switch(M&-M){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}R=B&(R.suspendedLanes|M)?0:B,R!==0&&R!==D.retryLane&&(D.retryLane=R,ra(p,R,-1))}xp(),m=up(p,m,M,Error(a(421)))}else Ar(Ae)?(m.flags|=128,m.child=p.child,m=Ul.bind(null,p),To(Ae,m),m=null):(M=D.treeContext,we&&(yi=co(Ae),Qi=m,ir=!0,Ca=null,wc=!1,M!==null&&(ho[po++]=Bs,ho[po++]=Pa,ho[po++]=Ml,Bs=M.id,Pa=M.overflow,Ml=m)),m=uv(m,m.pendingProps.children),m.flags|=4096);return m}return B?(R=Tx(p,m,R.children,R.fallback,M),B=m.child,D=p.child.memoizedState,B.memoizedState=D===null?na(M):{baseLanes:D.baseLanes|M,cachePool:null},B.childLanes=p.childLanes&~M,m.memoizedState=lp,R):(M=Ax(p,m,R.children,M),m.memoizedState=null,M)}return B?(R=Tx(p,m,R.children,R.fallback,M),B=m.child,D=p.child.memoizedState,B.memoizedState=D===null?na(M):{baseLanes:D.baseLanes|M,cachePool:null},B.childLanes=p.childLanes&~M,m.memoizedState=lp,R):(M=Ax(p,m,R.children,M),m.memoizedState=null,M)}function uv(p,m){return m=Sh({mode:"visible",children:m},p.mode,0,null),m.return=p,p.child=m}function Ax(p,m,M,R){var D=p.child;return p=D.sibling,M=Ws(D,{mode:"visible",children:M}),!(m.mode&1)&&(M.lanes=R),M.return=m,M.sibling=null,p!==null&&(R=m.deletions,R===null?(m.deletions=[p],m.flags|=16):R.push(p)),m.child=M}function Tx(p,m,M,R,D){var B=m.mode;p=p.child;var ue=p.sibling,Ae={mode:"hidden",children:M};return!(B&1)&&m.child!==p?(M=m.child,M.childLanes=0,M.pendingProps=Ae,m.deletions=null):(M=Ws(p,Ae),M.subtreeFlags=p.subtreeFlags&14680064),ue!==null?R=Ws(ue,R):(R=Fl(R,B,D,null),R.flags|=2),R.return=m,M.return=m,M.sibling=R,m.child=M,R}function up(p,m,M,R){return R!==null&&eh(R),Ac(m,p.child,null,M),p=uv(m,m.pendingProps.children),p.flags|=2,m.memoizedState=null,p}function Cl(p,m,M){p.lanes|=m;var R=p.alternate;R!==null&&(R.lanes|=m),Ri(p.return,m,M)}function cv(p,m,M,R,D){var B=p.memoizedState;B===null?p.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:R,tail:M,tailMode:D}:(B.isBackwards=m,B.rendering=null,B.renderingStartTime=0,B.last=R,B.tail=M,B.tailMode=D)}function Px(p,m,M){var R=m.pendingProps,D=R.revealOrder,B=R.tail;if(Pr(p,m,R.children,M),R=_e.current,R&2)R=R&1|2,m.flags|=128;else{if(p!==null&&p.flags&128)e:for(p=m.child;p!==null;){if(p.tag===13)p.memoizedState!==null&&Cl(p,M,m);else if(p.tag===19)Cl(p,M,m);else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===m)break e;for(;p.sibling===null;){if(p.return===null||p.return===m)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}R&=1}if(tn(_e,R),!(m.mode&1))m.memoizedState=null;else switch(D){case"forwards":for(M=m.child,D=null;M!==null;)p=M.alternate,p!==null&&Qe(p)===null&&(D=M),M=M.sibling;M=D,M===null?(D=m.child,m.child=null):(D=M.sibling,M.sibling=null),cv(m,!1,D,M,B);break;case"backwards":for(M=null,D=m.child,m.child=null;D!==null;){if(p=D.alternate,p!==null&&Qe(p)===null){m.child=D;break}p=D.sibling,D.sibling=M,M=D,D=p}cv(m,!0,M,null,B);break;case"together":cv(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Qr(p,m,M){if(p!==null&&(m.dependencies=p.dependencies),jc|=m.lanes,!(M&m.childLanes))return null;if(p!==null&&m.child!==p.child)throw Error(a(153));if(m.child!==null){for(p=m.child,M=Ws(p,p.pendingProps),m.child=M,M.return=m;p.sibling!==null;)p=p.sibling,M=M.sibling=Ws(p,p.pendingProps),M.return=m;M.sibling=null}return m.child}function hA(p,m,M){switch(m.tag){case 3:wx(m),Mc();break;case 5:ox(m);break;case 1:nr(m.type)&&Xr(m);break;case 4:ev(m,m.stateNode.containerInfo);break;case 10:Yf(m,m.type._context,m.memoizedProps.value);break;case 13:var R=m.memoizedState;if(R!==null)return R.dehydrated!==null?(tn(_e,_e.current&1),m.flags|=128,null):M&m.child.childLanes?Ex(p,m,M):(tn(_e,_e.current&1),p=Qr(p,m,M),p!==null?p.sibling:null);tn(_e,_e.current&1);break;case 19:if(R=(M&m.childLanes)!==0,p.flags&128){if(R)return Px(p,m,M);m.flags|=128}var D=m.memoizedState;if(D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),tn(_e,_e.current),R)break;return null;case 22:case 23:return m.lanes=0,xx(p,m,M)}return Qr(p,m,M)}function dA(p,m){switch(Ji(m),m.tag){case 1:return nr(m.type)&&Qn(),p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 3:return Cc(),Ft(jn),Ft(gt),Mt(),p=m.flags,p&65536&&!(p&128)?(m.flags=p&-65537|128,m):null;case 5:return El(m),null;case 13:if(Ft(_e),p=m.memoizedState,p!==null&&p.dehydrated!==null){if(m.alternate===null)throw Error(a(340));Mc()}return p=m.flags,p&65536?(m.flags=p&-65537|128,m):null;case 19:return Ft(_e),null;case 4:return Cc(),null;case 10:return Yr(m.type._context),null;case 22:case 23:return wv(),null;case 24:return null;default:return null}}var cp=!1,pu=!1,pA=typeof WeakSet=="function"?WeakSet:Set,yt=null;function dh(p,m){var M=p.ref;if(M!==null)if(typeof M=="function")try{M(null)}catch(R){Fi(p,m,R)}else M.current=null}function fv(p,m,M){try{M()}catch(R){Fi(p,m,R)}}var Cx=!1;function hv(p,m){for(j(p.containerInfo),yt=m;yt!==null;)if(p=yt,m=p.child,(p.subtreeFlags&1028)!==0&&m!==null)m.return=p,yt=m;else for(;yt!==null;){p=yt;try{var M=p.alternate;if(p.flags&1024)switch(p.tag){case 0:case 11:case 15:break;case 1:if(M!==null){var R=M.memoizedProps,D=M.memoizedState,B=p.stateNode,ue=B.getSnapshotBeforeUpdate(p.elementType===p.type?R:Tr(p.type,R),D);B.__reactInternalSnapshotBeforeUpdate=ue}break;case 3:Se&&Je(p.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Ae){Fi(p,p.return,Ae)}if(m=p.sibling,m!==null){m.return=p.return,yt=m;break}yt=p.return}return M=Cx,Cx=!1,M}function Ia(p,m,M){var R=m.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var D=R=R.next;do{if((D.tag&p)===p){var B=D.destroy;D.destroy=void 0,B!==void 0&&fv(m,M,B)}D=D.next}while(D!==R)}}function Ol(p,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var M=m=m.next;do{if((M.tag&p)===p){var R=M.create;M.destroy=R()}M=M.next}while(M!==m)}}function dv(p){var m=p.ref;if(m!==null){var M=p.stateNode;switch(p.tag){case 5:p=q(M);break;default:p=M}typeof m=="function"?m(p):m.current=p}}function pv(p,m,M){if(Po&&typeof Po.onCommitFiberUnmount=="function")try{Po.onCommitFiberUnmount(au,m)}catch{}switch(m.tag){case 0:case 11:case 14:case 15:if(p=m.updateQueue,p!==null&&(p=p.lastEffect,p!==null)){var R=p=p.next;do{var D=R,B=D.destroy;D=D.tag,B!==void 0&&(D&2||D&4)&&fv(m,M,B),R=R.next}while(R!==p)}break;case 1:if(dh(m,M),p=m.stateNode,typeof p.componentWillUnmount=="function")try{p.props=m.memoizedProps,p.state=m.memoizedState,p.componentWillUnmount()}catch(ue){Fi(m,M,ue)}break;case 5:dh(m,M);break;case 4:Se?gv(p,m,M):ee&&ee&&(m=m.stateNode.containerInfo,M=nt(m),Et(m,M))}}function Ox(p,m,M){for(var R=m;;)if(pv(p,R,M),R.child===null||Se&&R.tag===4){if(R===m)break;for(;R.sibling===null;){if(R.return===null||R.return===m)return;R=R.return}R.sibling.return=R.return,R=R.sibling}else R.child.return=R,R=R.child}function us(p){var m=p.alternate;m!==null&&(p.alternate=null,us(m)),p.child=null,p.deletions=null,p.sibling=null,p.tag===5&&(m=p.stateNode,m!==null&&Ne(m)),p.stateNode=null,p.return=null,p.dependencies=null,p.memoizedProps=null,p.memoizedState=null,p.pendingProps=null,p.stateNode=null,p.updateQueue=null}function fp(p){return p.tag===5||p.tag===3||p.tag===4}function Rl(p){e:for(;;){for(;p.sibling===null;){if(p.return===null||fp(p.return))return null;p=p.return}for(p.sibling.return=p.return,p=p.sibling;p.tag!==5&&p.tag!==6&&p.tag!==18;){if(p.flags&2||p.child===null||p.tag===4)continue e;p.child.return=p,p=p.child}if(!(p.flags&2))return p.stateNode}}function Lo(p){if(Se){e:{for(var m=p.return;m!==null;){if(fp(m))break e;m=m.return}throw Error(a(160))}var M=m;switch(M.tag){case 5:m=M.stateNode,M.flags&32&&(Fe(m),M.flags&=-33),M=Rl(p),hp(p,M,m);break;case 3:case 4:m=M.stateNode.containerInfo,M=Rl(p),mv(p,M,m);break;default:throw Error(a(161))}}}function mv(p,m,M){var R=p.tag;if(R===5||R===6)p=p.stateNode,m?at(M,p,m):Xe(M,p);else if(R!==4&&(p=p.child,p!==null))for(mv(p,m,M),p=p.sibling;p!==null;)mv(p,m,M),p=p.sibling}function hp(p,m,M){var R=p.tag;if(R===5||R===6)p=p.stateNode,m?ut(M,p,m):Be(M,p);else if(R!==4&&(p=p.child,p!==null))for(hp(p,m,M),p=p.sibling;p!==null;)hp(p,m,M),p=p.sibling}function gv(p,m,M){for(var R=m,D=!1,B,ue;;){if(!D){D=R.return;e:for(;;){if(D===null)throw Error(a(160));switch(B=D.stateNode,D.tag){case 5:ue=!1;break e;case 3:B=B.containerInfo,ue=!0;break e;case 4:B=B.containerInfo,ue=!0;break e}D=D.return}D=!0}if(R.tag===5||R.tag===6)Ox(p,R,M),ue?me(B,R.stateNode):Ze(B,R.stateNode);else if(R.tag===18)ue?je(B,R.stateNode):Ce(B,R.stateNode);else if(R.tag===4){if(R.child!==null){B=R.stateNode.containerInfo,ue=!0,R.child.return=R,R=R.child;continue}}else if(pv(p,R,M),R.child!==null){R.child.return=R,R=R.child;continue}if(R===m)break;for(;R.sibling===null;){if(R.return===null||R.return===m)return;R=R.return,R.tag===4&&(D=!1)}R.sibling.return=R.return,R=R.sibling}}function mu(p,m){if(Se){switch(m.tag){case 0:case 11:case 14:case 15:Ia(3,m,m.return),Ol(3,m),Ia(5,m,m.return);return;case 1:return;case 5:var M=m.stateNode;if(M!=null){var R=m.memoizedProps;p=p!==null?p.memoizedProps:R;var D=m.type,B=m.updateQueue;m.updateQueue=null,B!==null&&ot(M,B,D,p,R,m)}return;case 6:if(m.stateNode===null)throw Error(a(162));M=m.memoizedProps,ct(m.stateNode,p!==null?p.memoizedProps:M,M);return;case 3:we&&p!==null&&p.memoizedState.isDehydrated&&Ds(m.stateNode.containerInfo);return;case 12:return;case 13:La(m);return;case 19:La(m);return;case 17:return}throw Error(a(163))}switch(m.tag){case 0:case 11:case 14:case 15:Ia(3,m,m.return),Ol(3,m),Ia(5,m,m.return);return;case 12:return;case 13:La(m);return;case 19:La(m);return;case 3:we&&p!==null&&p.memoizedState.isDehydrated&&Ds(m.stateNode.containerInfo);break;case 22:case 23:return}e:if(ee){switch(m.tag){case 1:case 5:case 6:break e;case 3:case 4:m=m.stateNode,Et(m.containerInfo,m.pendingChildren);break e}throw Error(a(163))}}function La(p){var m=p.updateQueue;if(m!==null){p.updateQueue=null;var M=p.stateNode;M===null&&(M=p.stateNode=new pA),m.forEach(function(R){var D=Fx.bind(null,p,R);M.has(R)||(M.add(R),R.then(D,D))})}}function Rx(p,m){for(yt=m;yt!==null;){m=yt;var M=m.deletions;if(M!==null)for(var R=0;R<M.length;R++){var D=M[R];try{var B=p;Se?gv(B,D,m):Ox(B,D,m);var ue=D.alternate;ue!==null&&(ue.return=null),D.return=null}catch(Dt){Fi(D,m,Dt)}}if(M=m.child,m.subtreeFlags&12854&&M!==null)M.return=m,yt=M;else for(;yt!==null;){m=yt;try{var Ae=m.flags;if(Ae&32&&Se&&Fe(m.stateNode),Ae&512){var Ye=m.alternate;if(Ye!==null){var ht=Ye.ref;ht!==null&&(typeof ht=="function"?ht(null):ht.current=null)}}if(Ae&8192)switch(m.tag){case 13:if(m.memoizedState!==null){var Tt=m.alternate;(Tt===null||Tt.memoizedState===null)&&(bv=fr())}break;case 22:var rn=m.memoizedState!==null,zt=m.alternate,Wn=zt!==null&&zt.memoizedState!==null;if(M=m,Se){e:if(R=M,D=rn,B=null,Se)for(var Lt=R;;){if(Lt.tag===5){if(B===null){B=Lt;var zi=Lt.stateNode;D?pt(zi):He(Lt.stateNode,Lt.memoizedProps)}}else if(Lt.tag===6){if(B===null){var Uo=Lt.stateNode;D?he(Uo):Le(Uo,Lt.memoizedProps)}}else if((Lt.tag!==22&&Lt.tag!==23||Lt.memoizedState===null||Lt===R)&&Lt.child!==null){Lt.child.return=Lt,Lt=Lt.child;continue}if(Lt===R)break;for(;Lt.sibling===null;){if(Lt.return===null||Lt.return===R)break e;B===Lt&&(B=null),Lt=Lt.return}B===Lt&&(B=null),Lt.sibling.return=Lt.return,Lt=Lt.sibling}}if(rn&&!Wn&&M.mode&1){yt=M;for(var De=M.child;De!==null;){for(M=yt=De;yt!==null;){R=yt;var Oe=R.child;switch(R.tag){case 0:case 11:case 14:case 15:Ia(4,R,R.return);break;case 1:dh(R,R.return);var Ge=R.stateNode;if(typeof Ge.componentWillUnmount=="function"){var bt=R.return;try{Ge.props=R.memoizedProps,Ge.state=R.memoizedState,Ge.componentWillUnmount()}catch(Dt){Fi(R,bt,Dt)}}break;case 5:dh(R,R.return);break;case 22:if(R.memoizedState!==null){vv(M);continue}}Oe!==null?(Oe.return=R,yt=Oe):vv(M)}De=De.sibling}}}switch(Ae&4102){case 2:Lo(m),m.flags&=-3;break;case 6:Lo(m),m.flags&=-3,mu(m.alternate,m);break;case 4096:m.flags&=-4097;break;case 4100:m.flags&=-4097,mu(m.alternate,m);break;case 4:mu(m.alternate,m)}}catch(Dt){Fi(m,m.return,Dt)}if(M=m.sibling,M!==null){M.return=m.return,yt=M;break}yt=m.return}}}function mA(p,m,M){yt=p,ph(p)}function ph(p,m,M){for(var R=(p.mode&1)!==0;yt!==null;){var D=yt,B=D.child;if(D.tag===22&&R){var ue=D.memoizedState!==null||cp;if(!ue){var Ae=D.alternate,Ye=Ae!==null&&Ae.memoizedState!==null||pu;Ae=cp;var ht=pu;if(cp=ue,(pu=Ye)&&!ht)for(yt=D;yt!==null;)ue=yt,Ye=ue.child,ue.tag===22&&ue.memoizedState!==null?ci(D):Ye!==null?(Ye.return=ue,yt=Ye):ci(D);for(;B!==null;)yt=B,ph(B),B=B.sibling;yt=D,cp=Ae,pu=ht}Ix(p)}else D.subtreeFlags&8772&&B!==null?(B.return=D,yt=B):Ix(p)}}function Ix(p){for(;yt!==null;){var m=yt;if(m.flags&8772){var M=m.alternate;try{if(m.flags&8772)switch(m.tag){case 0:case 11:case 15:pu||Ol(5,m);break;case 1:var R=m.stateNode;if(m.flags&4&&!pu)if(M===null)R.componentDidMount();else{var D=m.elementType===m.type?M.memoizedProps:Tr(m.type,M.memoizedProps);R.componentDidUpdate(D,M.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var B=m.updateQueue;B!==null&&tp(m,B,R);break;case 3:var ue=m.updateQueue;if(ue!==null){if(M=null,m.child!==null)switch(m.child.tag){case 5:M=q(m.child.stateNode);break;case 1:M=m.child.stateNode}tp(m,ue,M)}break;case 5:var Ae=m.stateNode;M===null&&m.flags&4&&qe(Ae,m.type,m.memoizedProps,m);break;case 6:break;case 4:break;case 12:break;case 13:if(we&&m.memoizedState===null){var Ye=m.alternate;if(Ye!==null){var ht=Ye.memoizedState;if(ht!==null){var Tt=ht.dehydrated;Tt!==null&&te(Tt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}pu||m.flags&512&&dv(m)}catch(rn){Fi(m,m.return,rn)}}if(m===p){yt=null;break}if(M=m.sibling,M!==null){M.return=m.return,yt=M;break}yt=m.return}}function vv(p){for(;yt!==null;){var m=yt;if(m===p){yt=null;break}var M=m.sibling;if(M!==null){M.return=m.return,yt=M;break}yt=m.return}}function ci(p){for(;yt!==null;){var m=yt;try{switch(m.tag){case 0:case 11:case 15:var M=m.return;try{Ol(4,m)}catch(Ye){Fi(m,M,Ye)}break;case 1:var R=m.stateNode;if(typeof R.componentDidMount=="function"){var D=m.return;try{R.componentDidMount()}catch(Ye){Fi(m,D,Ye)}}var B=m.return;try{dv(m)}catch(Ye){Fi(m,B,Ye)}break;case 5:var ue=m.return;try{dv(m)}catch(Ye){Fi(m,ue,Ye)}}}catch(Ye){Fi(m,m.return,Ye)}if(m===p){yt=null;break}var Ae=m.sibling;if(Ae!==null){Ae.return=m.return,yt=Ae;break}yt=m.return}}var kc=0,mh=1,Do=2,Uc=3,gu=4;if(typeof Symbol=="function"&&Symbol.for){var Da=Symbol.for;kc=Da("selector.component"),mh=Da("selector.has_pseudo_class"),Do=Da("selector.role"),Uc=Da("selector.test_id"),gu=Da("selector.text")}function dp(p){var m=Z(p);if(m!=null){if(typeof m.memoizedProps["data-testname"]!="string")throw Error(a(364));return m}if(p=W(p),p===null)throw Error(a(362));return p.stateNode.current}function _i(p,m){switch(m.$$typeof){case kc:if(p.type===m.value)return!0;break;case mh:e:{m=m.value,p=[p,0];for(var M=0;M<p.length;){var R=p[M++],D=p[M++],B=m[D];if(R.tag!==5||!Me(R)){for(;B!=null&&_i(R,B);)D++,B=m[D];if(D===m.length){m=!0;break e}else for(R=R.child;R!==null;)p.push(R,D),R=R.sibling}}m=!1}return m;case Do:if(p.tag===5&&ve(p.stateNode,m.value))return!0;break;case gu:if((p.tag===5||p.tag===6)&&(p=ce(p),p!==null&&0<=p.indexOf(m.value)))return!0;break;case Uc:if(p.tag===5&&(p=p.memoizedProps["data-testname"],typeof p=="string"&&p.toLowerCase()===m.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function gh(p){switch(p.$$typeof){case kc:return"<"+(I(p.value)||"Unknown")+">";case mh:return":has("+(gh(p)||"")+")";case Do:return'[role="'+p.value+'"]';case gu:return'"'+p.value+'"';case Uc:return'[data-testname="'+p.value+'"]';default:throw Error(a(365))}}function Lx(p,m){var M=[];p=[p,0];for(var R=0;R<p.length;){var D=p[R++],B=p[R++],ue=m[B];if(D.tag!==5||!Me(D)){for(;ue!=null&&_i(D,ue);)B++,ue=m[B];if(B===m.length)M.push(D);else for(D=D.child;D!==null;)p.push(D,B),D=D.sibling}}return M}function yv(p,m){if(!Ue)throw Error(a(363));p=dp(p),p=Lx(p,m),m=[],p=Array.from(p);for(var M=0;M<p.length;){var R=p[M++];if(R.tag===5)Me(R)||m.push(R.stateNode);else for(R=R.child;R!==null;)p.push(R),R=R.sibling}return m}var gA=Math.ceil,Fc=s.ReactCurrentDispatcher,_v=s.ReactCurrentOwner,or=s.ReactCurrentBatchConfig,hn=0,Br=null,zr=null,Cr=0,No=0,Bc=fn(0),Or=0,zc=null,jc=0,pp=0,xv=0,$c=null,Ni=null,bv=0,vh=1/0;function vu(){vh=fr()+500}var yh=!1,mp=null,Na=null,gp=!1,Gs=null,_h=0,xh=0,vp=null,yp=-1,Hc=0;function ki(){return hn&6?fr():yp!==-1?yp:yp=fr()}function cs(p){return p.mode&1?hn&2&&Cr!==0?Cr&-Cr:su.transition!==null?(Hc===0&&(p=Sa,Sa<<=1,!(Sa&4194240)&&(Sa=64),Hc=p),Hc):(p=bn,p!==0?p:xe()):1}function ra(p,m,M){if(50<xh)throw xh=0,vp=null,Error(a(185));var R=Gc(p,m);return R===null?null:(Ma(R,m,M),(!(hn&2)||R!==Br)&&(R===Br&&(!(hn&2)&&(pp|=m),Or===4&&Il(R,Cr)),jt(R,M),m===1&&hn===0&&!(p.mode&1)&&(vu(),rs&&Zi())),R)}function Gc(p,m){p.lanes|=m;var M=p.alternate;for(M!==null&&(M.lanes|=m),M=p,p=p.return;p!==null;)p.childLanes|=m,M=p.alternate,M!==null&&(M.childLanes|=m),M=p,p=p.return;return M.tag===3?M.stateNode:null}function jt(p,m){var M=p.callbackNode;Hf(p,m);var R=Sl(p,p===Br?Cr:0);if(R===0)M!==null&&_c(M),p.callbackNode=null,p.callbackPriority=0;else if(m=R&-R,p.callbackPriority!==m){if(M!=null&&_c(M),m===1)p.tag===0?qf(kx.bind(null,p)):Xf(kx.bind(null,p)),Ee?Ke(function(){hn===0&&Zi()}):ns(ks,Zi),M=null;else{switch(Gf(R)){case 1:M=ks;break;case 4:M=ep;break;case 16:M=Yi;break;case 536870912:M=Vf;break;default:M=Yi}M=Sp(M,Dx.bind(null,p))}p.callbackPriority=m,p.callbackNode=M}}function Dx(p,m){if(yp=-1,Hc=0,hn&6)throw Error(a(327));var M=p.callbackNode;if(Nl()&&p.callbackNode!==M)return null;var R=Sl(p,p===Br?Cr:0);if(R===0)return null;if(R&30||R&p.expiredLanes||m)m=Ui(p,R);else{m=R;var D=hn;hn|=2;var B=Mv();(Br!==p||Cr!==m)&&(vu(),fs(p,m));do try{Ev();break}catch(Ae){_p(p,Ae)}while(!0);lu(),Fc.current=B,hn=D,zr!==null?m=0:(Br=null,Cr=0,m=Or)}if(m!==0){if(m===2&&(D=es(p),D!==0&&(R=D,m=Sv(p,D))),m===1)throw M=zc,fs(p,0),Il(p,R),jt(p,fr()),M;if(m===6)Il(p,R);else{if(D=p.current.alternate,!(R&30)&&!Nx(D)&&(m=Ui(p,R),m===2&&(B=es(p),B!==0&&(R=B,m=Sv(p,B))),m===1))throw M=zc,fs(p,0),Il(p,R),jt(p,fr()),M;switch(p.finishedWork=D,p.finishedLanes=R,m){case 0:case 1:throw Error(a(345));case 2:Dl(p,Ni);break;case 3:if(Il(p,R),(R&130023424)===R&&(m=bv+500-fr(),10<m)){if(Sl(p,0)!==0)break;if(D=p.suspendedLanes,(D&R)!==R){ki(),p.pingedLanes|=p.suspendedLanes&D;break}p.timeoutHandle=de(Dl.bind(null,p,Ni),m);break}Dl(p,Ni);break;case 4:if(Il(p,R),(R&4194240)===R)break;for(m=p.eventTimes,D=-1;0<R;){var ue=31-Xn(R);B=1<<ue,ue=m[ue],ue>D&&(D=ue),R&=~B}if(R=D,R=fr()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*gA(R/1960))-R,10<R){p.timeoutHandle=de(Dl.bind(null,p,Ni),R);break}Dl(p,Ni);break;case 5:Dl(p,Ni);break;default:throw Error(a(329))}}}return jt(p,fr()),p.callbackNode===M?Dx.bind(null,p):null}function Sv(p,m){var M=$c;return p.current.memoizedState.isDehydrated&&(fs(p,m).flags|=256),p=Ui(p,m),p!==2&&(m=Ni,Ni=M,m!==null&&yu(m)),p}function yu(p){Ni===null?Ni=p:Ni.push.apply(Ni,p)}function Nx(p){for(var m=p;;){if(m.flags&16384){var M=m.updateQueue;if(M!==null&&(M=M.stores,M!==null))for(var R=0;R<M.length;R++){var D=M[R],B=D.getSnapshot;D=D.value;try{if(!Co(B(),D))return!1}catch{return!1}}}if(M=m.child,m.subtreeFlags&16384&&M!==null)M.return=m,m=M;else{if(m===p)break;for(;m.sibling===null;){if(m.return===null||m.return===p)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Il(p,m){for(m&=~xv,m&=~pp,p.suspendedLanes|=m,p.pingedLanes&=~m,p=p.expirationTimes;0<m;){var M=31-Xn(m),R=1<<M;p[M]=-1,m&=~R}}function kx(p){if(hn&6)throw Error(a(327));Nl();var m=Sl(p,0);if(!(m&1))return jt(p,fr()),null;var M=Ui(p,m);if(p.tag!==0&&M===2){var R=es(p);R!==0&&(m=R,M=Sv(p,R))}if(M===1)throw M=zc,fs(p,0),Il(p,m),jt(p,fr()),M;if(M===6)throw Error(a(345));return p.finishedWork=p.current.alternate,p.finishedLanes=m,Dl(p,Ni),jt(p,fr()),null}function ko(p){Gs!==null&&Gs.tag===0&&!(hn&6)&&Nl();var m=hn;hn|=1;var M=or.transition,R=bn;try{if(or.transition=null,bn=1,p)return p()}finally{bn=R,or.transition=M,hn=m,!(hn&6)&&Zi()}}function wv(){No=Bc.current,Ft(Bc)}function fs(p,m){p.finishedWork=null,p.finishedLanes=0;var M=p.timeoutHandle;if(M!==fe&&(p.timeoutHandle=fe,be(M)),zr!==null)for(M=zr.return;M!==null;){var R=M;switch(Ji(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&Qn();break;case 3:Cc(),Ft(jn),Ft(gt),Mt();break;case 5:El(R);break;case 4:Cc();break;case 13:Ft(_e);break;case 19:Ft(_e);break;case 10:Yr(R.type._context);break;case 22:case 23:wv()}M=M.return}if(Br=p,zr=p=Ws(p.current,null),Cr=No=m,Or=0,zc=null,xv=pp=jc=0,Ni=$c=null,Oo!==null){for(m=0;m<Oo.length;m++)if(M=Oo[m],R=M.interleaved,R!==null){M.interleaved=null;var D=R.next,B=M.pending;if(B!==null){var ue=B.next;B.next=D,R.next=ue}M.pending=R}Oo=null}return p}function _p(p,m){do{var M=zr;try{if(lu(),Zt.current=Lc,eo){for(var R=Xt.memoizedState;R!==null;){var D=R.queue;D!==null&&(D.pending=null),R=R.next}eo=!1}if(sr=0,ui=li=Xt=null,Al=!1,nh=0,_v.current=null,M===null||M.return===null){Or=1,zc=m,zr=null;break}e:{var B=p,ue=M.return,Ae=M,Ye=m;if(m=Cr,Ae.flags|=32768,Ye!==null&&typeof Ye=="object"&&typeof Ye.then=="function"){var ht=Ye,Tt=Ae,rn=Tt.tag;if(!(Tt.mode&1)&&(rn===0||rn===11||rn===15)){var zt=Tt.alternate;zt?(Tt.updateQueue=zt.updateQueue,Tt.memoizedState=zt.memoizedState,Tt.lanes=zt.lanes):(Tt.updateQueue=null,Tt.memoizedState=null)}var Wn=mx(ue);if(Wn!==null){Wn.flags&=-257,gx(Wn,ue,Ae,B,m),Wn.mode&1&&px(B,ht,m),m=Wn,Ye=ht;var Lt=m.updateQueue;if(Lt===null){var zi=new Set;zi.add(Ye),m.updateQueue=zi}else Lt.add(Ye);break e}else{if(!(m&1)){px(B,ht,m),xp();break e}Ye=Error(a(426))}}else if(ir&&Ae.mode&1){var Uo=mx(ue);if(Uo!==null){!(Uo.flags&65536)&&(Uo.flags|=256),gx(Uo,ue,Ae,B,m),eh(Ye);break e}}B=Ye,Or!==4&&(Or=2),$c===null?$c=[B]:$c.push(B),Ye=fu(Ye,Ae),Ae=ue;do{switch(Ae.tag){case 3:Ae.flags|=65536,m&=-m,Ae.lanes|=m;var De=du(Ae,Ye,m);rr(Ae,De);break e;case 1:B=Ye;var Oe=Ae.type,Ge=Ae.stateNode;if(!(Ae.flags&128)&&(typeof Oe.getDerivedStateFromError=="function"||Ge!==null&&typeof Ge.componentDidCatch=="function"&&(Na===null||!Na.has(Ge)))){Ae.flags|=65536,m&=-m,Ae.lanes|=m;var bt=dx(Ae,B,m);rr(Ae,bt);break e}}Ae=Ae.return}while(Ae!==null)}bh(M)}catch(Dt){m=Dt,zr===M&&M!==null&&(zr=M=M.return);continue}break}while(!0)}function Mv(){var p=Fc.current;return Fc.current=Lc,p===null?Lc:p}function xp(){(Or===0||Or===3||Or===2)&&(Or=4),Br===null||!(jc&268435455)&&!(pp&268435455)||Il(Br,Cr)}function Ui(p,m){var M=hn;hn|=2;var R=Mv();Br===p&&Cr===m||fs(p,m);do try{Ll();break}catch(D){_p(p,D)}while(!0);if(lu(),hn=M,Fc.current=R,zr!==null)throw Error(a(261));return Br=null,Cr=0,Or}function Ll(){for(;zr!==null;)Av(zr)}function Ev(){for(;zr!==null&&!Wf();)Av(zr)}function Av(p){var m=Pv(p.alternate,p,No);p.memoizedProps=p.pendingProps,m===null?bh(p):zr=m,_v.current=null}function bh(p){var m=p;do{var M=m.alternate;if(p=m.return,m.flags&32768){if(M=dA(M,m),M!==null){M.flags&=32767,zr=M;return}if(p!==null)p.flags|=32768,p.subtreeFlags=0,p.deletions=null;else{Or=6,zr=null;return}}else if(M=cA(M,m,No),M!==null){zr=M;return}if(m=m.sibling,m!==null){zr=m;return}zr=m=p}while(m!==null);Or===0&&(Or=5)}function Dl(p,m){var M=bn,R=or.transition;try{or.transition=null,bn=1,Tv(p,m,M)}finally{or.transition=R,bn=M}return null}function Tv(p,m,M){do Nl();while(Gs!==null);if(hn&6)throw Error(a(327));var R=p.finishedWork,D=p.finishedLanes;if(R===null)return null;if(p.finishedWork=null,p.finishedLanes=0,R===p.current)throw Error(a(177));p.callbackNode=null,p.callbackPriority=0;var B=R.lanes|R.childLanes;if(Ns(p,B),p===Br&&(zr=Br=null,Cr=0),!(R.subtreeFlags&2064)&&!(R.flags&2064)||gp||(gp=!0,Sp(Yi,function(){return Nl(),null})),B=(R.flags&15990)!==0,R.subtreeFlags&15990||B){B=or.transition,or.transition=null;var ue=bn;bn=1;var Ae=hn;hn|=4,_v.current=null,hv(p,R),Rx(p,R),X(p.containerInfo),p.current=R,mA(R),Qd(),hn=Ae,bn=ue,or.transition=B}else p.current=R;if(gp&&(gp=!1,Gs=p,_h=D),B=p.pendingLanes,B===0&&(Na=null),$n(R.stateNode),jt(p,fr()),m!==null)for(M=p.onRecoverableError,R=0;R<m.length;R++)M(m[R]);if(yh)throw yh=!1,p=mp,mp=null,p;return _h&1&&p.tag!==0&&Nl(),B=p.pendingLanes,B&1?p===vp?xh++:(xh=0,vp=p):xh=0,Zi(),null}function Nl(){if(Gs!==null){var p=Gf(_h),m=or.transition,M=bn;try{if(or.transition=null,bn=16>p?16:p,Gs===null)var R=!1;else{if(p=Gs,Gs=null,_h=0,hn&6)throw Error(a(331));var D=hn;for(hn|=4,yt=p.current;yt!==null;){var B=yt,ue=B.child;if(yt.flags&16){var Ae=B.deletions;if(Ae!==null){for(var Ye=0;Ye<Ae.length;Ye++){var ht=Ae[Ye];for(yt=ht;yt!==null;){var Tt=yt;switch(Tt.tag){case 0:case 11:case 15:Ia(8,Tt,B)}var rn=Tt.child;if(rn!==null)rn.return=Tt,yt=rn;else for(;yt!==null;){Tt=yt;var zt=Tt.sibling,Wn=Tt.return;if(us(Tt),Tt===ht){yt=null;break}if(zt!==null){zt.return=Wn,yt=zt;break}yt=Wn}}}var Lt=B.alternate;if(Lt!==null){var zi=Lt.child;if(zi!==null){Lt.child=null;do{var Uo=zi.sibling;zi.sibling=null,zi=Uo}while(zi!==null)}}yt=B}}if(B.subtreeFlags&2064&&ue!==null)ue.return=B,yt=ue;else e:for(;yt!==null;){if(B=yt,B.flags&2048)switch(B.tag){case 0:case 11:case 15:Ia(9,B,B.return)}var De=B.sibling;if(De!==null){De.return=B.return,yt=De;break e}yt=B.return}}var Oe=p.current;for(yt=Oe;yt!==null;){ue=yt;var Ge=ue.child;if(ue.subtreeFlags&2064&&Ge!==null)Ge.return=ue,yt=Ge;else e:for(ue=Oe;yt!==null;){if(Ae=yt,Ae.flags&2048)try{switch(Ae.tag){case 0:case 11:case 15:Ol(9,Ae)}}catch(Dt){Fi(Ae,Ae.return,Dt)}if(Ae===ue){yt=null;break e}var bt=Ae.sibling;if(bt!==null){bt.return=Ae.return,yt=bt;break e}yt=Ae.return}}if(hn=D,Zi(),Po&&typeof Po.onPostCommitFiberRoot=="function")try{Po.onPostCommitFiberRoot(au,p)}catch{}R=!0}return R}finally{bn=M,or.transition=m}}return!1}function bp(p,m,M){m=fu(M,m),m=du(p,m,1),Ea(p,m),m=ki(),p=Gc(p,1),p!==null&&(Ma(p,1,m),jt(p,m))}function Fi(p,m,M){if(p.tag===3)bp(p,p,M);else for(;m!==null;){if(m.tag===3){bp(m,p,M);break}else if(m.tag===1){var R=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Na===null||!Na.has(R))){p=fu(M,p),p=dx(m,p,1),Ea(m,p),p=ki(),m=Gc(m,1),m!==null&&(Ma(m,1,p),jt(m,p));break}}m=m.return}}function kl(p,m,M){var R=p.pingCache;R!==null&&R.delete(m),m=ki(),p.pingedLanes|=p.suspendedLanes&M,Br===p&&(Cr&M)===M&&(Or===4||Or===3&&(Cr&130023424)===Cr&&500>fr()-bv?fs(p,0):xv|=M),jt(p,m)}function Ux(p,m){m===0&&(p.mode&1?(m=wa,wa<<=1,!(wa&130023424)&&(wa=4194304)):m=1);var M=ki();p=Gc(p,m),p!==null&&(Ma(p,m,M),jt(p,M))}function Ul(p){var m=p.memoizedState,M=0;m!==null&&(M=m.retryLane),Ux(p,M)}function Fx(p,m){var M=0;switch(p.tag){case 13:var R=p.stateNode,D=p.memoizedState;D!==null&&(M=D.retryLane);break;case 19:R=p.stateNode;break;default:throw Error(a(314))}R!==null&&R.delete(m),Ux(p,M)}var Pv;Pv=function(p,m,M){if(p!==null)if(p.memoizedProps!==m.pendingProps||jn.current)Io=!0;else{if(!(p.lanes&M)&&!(m.flags&128))return Io=!1,hA(p,m,M);Io=!!(p.flags&131072)}else Io=!1,ir&&m.flags&1048576&&ex(m,Jf,m.index);switch(m.lanes=0,m.tag){case 2:var R=m.type;p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps;var D=Jn(m,gt.current);br(m,M),D=kn(null,m,R,p,D,M);var B=tv();return m.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,nr(R)?(B=!0,Xr(m)):B=!1,m.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,Yg(m),D.updater=np,m.stateNode=D,D._reactInternals=m,bc(m,R,p,M),m=lv(null,m,R,!0,B,M)):(m.tag=0,ir&&B&&rp(m),Pr(null,m,D,M),m=m.child),m;case 16:R=m.elementType;e:{switch(p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),p=m.pendingProps,D=R._init,R=D(R._payload),m.type=R,D=m.tag=Bx(R),p=Tr(R,p),D){case 0:m=Ra(null,m,R,p,M);break e;case 1:m=Sx(null,m,R,p,M);break e;case 11:m=vx(null,m,R,p,M);break e;case 14:m=yx(null,m,R,Tr(R.type,p),M);break e}throw Error(a(306,R,""))}return m;case 0:return R=m.type,D=m.pendingProps,D=m.elementType===R?D:Tr(R,D),Ra(p,m,R,D,M);case 1:return R=m.type,D=m.pendingProps,D=m.elementType===R?D:Tr(R,D),Sx(p,m,R,D,M);case 3:e:{if(wx(m),p===null)throw Error(a(387));R=m.pendingProps,B=m.memoizedState,D=B.element,Kg(p,m),Aa(m,R,null,M);var ue=m.memoizedState;if(R=ue.element,we&&B.isDehydrated)if(B={element:R,isDehydrated:!1,cache:ue.cache,transitions:ue.transitions},m.updateQueue.baseState=B,m.memoizedState=B,m.flags&256){D=Error(a(423)),m=Mx(p,m,R,M,D);break e}else if(R!==D){D=Error(a(424)),m=Mx(p,m,R,M,D);break e}else for(we&&(yi=Ur(m.stateNode.containerInfo),Qi=m,ir=!0,Ca=null,wc=!1),M=ix(m,null,R,M),m.child=M;M;)M.flags=M.flags&-3|4096,M=M.sibling;else{if(Mc(),R===D){m=Qr(p,m,M);break e}Pr(p,m,R,M)}m=m.child}return m;case 5:return ox(m),p===null&&Qg(m),R=m.type,D=m.pendingProps,B=p!==null?p.memoizedProps:null,ue=D.children,ie(R,D)?ue=null:B!==null&&ie(R,B)&&(m.flags|=32),bx(p,m),Pr(p,m,ue,M),m.child;case 6:return p===null&&Qg(m),null;case 13:return Ex(p,m,M);case 4:return ev(m,m.stateNode.containerInfo),R=m.pendingProps,p===null?m.child=Ac(m,null,R,M):Pr(p,m,R,M),m.child;case 11:return R=m.type,D=m.pendingProps,D=m.elementType===R?D:Tr(R,D),vx(p,m,R,D,M);case 7:return Pr(p,m,m.pendingProps,M),m.child;case 8:return Pr(p,m,m.pendingProps.children,M),m.child;case 12:return Pr(p,m,m.pendingProps.children,M),m.child;case 10:e:{if(R=m.type._context,D=m.pendingProps,B=m.memoizedProps,ue=D.value,Yf(m,R,ue),B!==null)if(Co(B.value,ue)){if(B.children===D.children&&!jn.current){m=Qr(p,m,M);break e}}else for(B=m.child,B!==null&&(B.return=m);B!==null;){var Ae=B.dependencies;if(Ae!==null){ue=B.child;for(var Ye=Ae.firstContext;Ye!==null;){if(Ye.context===R){if(B.tag===1){Ye=Ii(-1,M&-M),Ye.tag=2;var ht=B.updateQueue;if(ht!==null){ht=ht.shared;var Tt=ht.pending;Tt===null?Ye.next=Ye:(Ye.next=Tt.next,Tt.next=Ye),ht.pending=Ye}}B.lanes|=M,Ye=B.alternate,Ye!==null&&(Ye.lanes|=M),Ri(B.return,M,m),Ae.lanes|=M;break}Ye=Ye.next}}else if(B.tag===10)ue=B.type===m.type?null:B.child;else if(B.tag===18){if(ue=B.return,ue===null)throw Error(a(341));ue.lanes|=M,Ae=ue.alternate,Ae!==null&&(Ae.lanes|=M),Ri(ue,M,m),ue=B.sibling}else ue=B.child;if(ue!==null)ue.return=B;else for(ue=B;ue!==null;){if(ue===m){ue=null;break}if(B=ue.sibling,B!==null){B.return=ue.return,ue=B;break}ue=ue.return}B=ue}Pr(p,m,D.children,M),m=m.child}return m;case 9:return D=m.type,R=m.pendingProps.children,br(m,M),D=Rn(D),R=R(D),m.flags|=1,Pr(p,m,R,M),m.child;case 14:return R=m.type,D=Tr(R,m.pendingProps),D=Tr(R.type,D),yx(p,m,R,D,M);case 15:return _x(p,m,m.type,m.pendingProps,M);case 17:return R=m.type,D=m.pendingProps,D=m.elementType===R?D:Tr(R,D),p!==null&&(p.alternate=null,m.alternate=null,m.flags|=2),m.tag=1,nr(R)?(p=!0,Xr(m)):p=!1,br(m,M),Q_(m,R,D),bc(m,R,D,M),lv(null,m,R,!0,p,M);case 19:return Px(p,m,M);case 22:return xx(p,m,M)}throw Error(a(156,m.tag))};function Sp(p,m){return ns(p,m)}function vA(p,m,M,R){this.tag=p,this.key=M,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(p,m,M,R){return new vA(p,m,M,R)}function Cv(p){return p=p.prototype,!(!p||!p.isReactComponent)}function Bx(p){if(typeof p=="function")return Cv(p)?1:0;if(p!=null){if(p=p.$$typeof,p===b)return 11;if(p===S)return 14}return 2}function Ws(p,m){var M=p.alternate;return M===null?(M=ia(p.tag,m,p.key,p.mode),M.elementType=p.elementType,M.type=p.type,M.stateNode=p.stateNode,M.alternate=p,p.alternate=M):(M.pendingProps=m,M.type=p.type,M.flags=0,M.subtreeFlags=0,M.deletions=null),M.flags=p.flags&14680064,M.childLanes=p.childLanes,M.lanes=p.lanes,M.child=p.child,M.memoizedProps=p.memoizedProps,M.memoizedState=p.memoizedState,M.updateQueue=p.updateQueue,m=p.dependencies,M.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},M.sibling=p.sibling,M.index=p.index,M.ref=p.ref,M}function wp(p,m,M,R,D,B){var ue=2;if(R=p,typeof p=="function")Cv(p)&&(ue=1);else if(typeof p=="string")ue=5;else e:switch(p){case c:return Fl(M.children,D,B,m);case f:ue=8,D|=8;break;case h:return p=ia(12,M,m,D|2),p.elementType=h,p.lanes=B,p;case x:return p=ia(13,M,m,D),p.elementType=x,p.lanes=B,p;case _:return p=ia(19,M,m,D),p.elementType=_,p.lanes=B,p;case E:return Sh(M,D,B,m);default:if(typeof p=="object"&&p!==null)switch(p.$$typeof){case g:ue=10;break e;case v:ue=9;break e;case b:ue=11;break e;case S:ue=14;break e;case w:ue=16,R=null;break e}throw Error(a(130,p==null?p:typeof p,""))}return m=ia(ue,M,m,D),m.elementType=p,m.type=R,m.lanes=B,m}function Fl(p,m,M,R){return p=ia(7,p,R,m),p.lanes=M,p}function Sh(p,m,M,R){return p=ia(22,p,R,m),p.elementType=E,p.lanes=M,p.stateNode={},p}function Bi(p,m,M){return p=ia(6,p,null,m),p.lanes=M,p}function oa(p,m,M){return m=ia(4,p.children!==null?p.children:[],p.key,m),m.lanes=M,m.stateNode={containerInfo:p.containerInfo,pendingChildren:null,implementation:p.implementation},m}function yA(p,m,M,R,D){this.tag=m,this.containerInfo=p,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=fe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ou(0),this.expirationTimes=ou(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ou(0),this.identifierPrefix=R,this.onRecoverableError=D,we&&(this.mutableSourceEagerHydrationData=null)}function zx(p,m,M,R,D,B,ue,Ae,Ye){return p=new yA(p,m,M,Ae,Ye),m===1?(m=1,B===!0&&(m|=8)):m=0,B=ia(3,null,null,m),p.current=B,B.stateNode=p,B.memoizedState={element:R,isDehydrated:M,cache:null,transitions:null},Yg(B),p}function wh(p){if(!p)return nn;p=p._reactInternals;e:{if(C(p)!==p||p.tag!==1)throw Error(a(170));var m=p;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(nr(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(a(171))}if(p.tag===1){var M=p.type;if(nr(M))return On(p,M,m)}return m}function _u(p){var m=p._reactInternals;if(m===void 0)throw typeof p.render=="function"?Error(a(188)):(p=Object.keys(p).join(","),Error(a(268,p)));return p=U(m),p===null?null:p.stateNode}function Ov(p,m){if(p=p.memoizedState,p!==null&&p.dehydrated!==null){var M=p.retryLane;p.retryLane=M!==0&&M<m?M:m}}function Mp(p,m){Ov(p,m),(p=p.alternate)&&Ov(p,m)}function _A(p){return p=U(p),p===null?null:p.stateNode}function jx(){return null}return n.attemptContinuousHydration=function(p){if(p.tag===13){var m=ki();ra(p,134217728,m),Mp(p,134217728)}},n.attemptHydrationAtCurrentPriority=function(p){if(p.tag===13){var m=ki(),M=cs(p);ra(p,M,m),Mp(p,M)}},n.attemptSynchronousHydration=function(p){switch(p.tag){case 3:var m=p.stateNode;if(m.current.memoizedState.isDehydrated){var M=fo(m.pendingLanes);M!==0&&(ts(m,M|1),jt(m,fr()),!(hn&6)&&(vu(),Zi()))}break;case 13:var R=ki();ko(function(){return ra(p,1,R)}),Mp(p,1)}},n.batchedUpdates=function(p,m){var M=hn;hn|=1;try{return p(m)}finally{hn=M,hn===0&&(vu(),rs&&Zi())}},n.createComponentSelector=function(p){return{$$typeof:kc,value:p}},n.createContainer=function(p,m,M,R,D,B,ue){return zx(p,m,!1,null,M,R,D,B,ue)},n.createHasPseudoClassSelector=function(p){return{$$typeof:mh,value:p}},n.createHydrationContainer=function(p,m,M,R,D,B,ue,Ae,Ye){return p=zx(M,R,!0,p,D,B,ue,Ae,Ye),p.context=wh(null),M=p.current,R=ki(),D=cs(M),B=Ii(R,D),B.callback=m??null,Ea(M,B),p.current.lanes=D,Ma(p,D,R),jt(p,R),p},n.createPortal=function(p,m,M){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:R==null?null:""+R,children:p,containerInfo:m,implementation:M}},n.createRoleSelector=function(p){return{$$typeof:Do,value:p}},n.createTestNameSelector=function(p){return{$$typeof:Uc,value:p}},n.createTextSelector=function(p){return{$$typeof:gu,value:p}},n.deferredUpdates=function(p){var m=bn,M=or.transition;try{return or.transition=null,bn=16,p()}finally{bn=m,or.transition=M}},n.discreteUpdates=function(p,m,M,R,D){var B=bn,ue=or.transition;try{return or.transition=null,bn=1,p(m,M,R,D)}finally{bn=B,or.transition=ue,hn===0&&vu()}},n.findAllNodes=yv,n.findBoundingRects=function(p,m){if(!Ue)throw Error(a(363));m=yv(p,m),p=[];for(var M=0;M<m.length;M++)p.push(G(m[M]));for(m=p.length-1;0<m;m--){M=p[m];for(var R=M.x,D=R+M.width,B=M.y,ue=B+M.height,Ae=m-1;0<=Ae;Ae--)if(m!==Ae){var Ye=p[Ae],ht=Ye.x,Tt=ht+Ye.width,rn=Ye.y,zt=rn+Ye.height;if(R>=ht&&B>=rn&&D<=Tt&&ue<=zt){p.splice(m,1);break}else if(R!==ht||M.width!==Ye.width||zt<B||rn>ue){if(!(B!==rn||M.height!==Ye.height||Tt<R||ht>D)){ht>R&&(Ye.width+=ht-R,Ye.x=R),Tt<D&&(Ye.width=D-ht),p.splice(m,1);break}}else{rn>B&&(Ye.height+=rn-B,Ye.y=B),zt<ue&&(Ye.height=ue-rn),p.splice(m,1);break}}}return p},n.findHostInstance=_u,n.findHostInstanceWithNoPortals=function(p){return p=N(p),p=p!==null?$(p):null,p===null?null:p.stateNode},n.findHostInstanceWithWarning=function(p){return _u(p)},n.flushControlled=function(p){var m=hn;hn|=1;var M=or.transition,R=bn;try{or.transition=null,bn=1,p()}finally{bn=R,or.transition=M,hn=m,hn===0&&(vu(),Zi())}},n.flushPassiveEffects=Nl,n.flushSync=ko,n.focusWithin=function(p,m){if(!Ue)throw Error(a(363));for(p=dp(p),m=Lx(p,m),m=Array.from(m),p=0;p<m.length;){var M=m[p++];if(!Me(M)){if(M.tag===5&&ke(M.stateNode))return!0;for(M=M.child;M!==null;)m.push(M),M=M.sibling}}return!1},n.getCurrentUpdatePriority=function(){return bn},n.getFindAllNodesFailureDescription=function(p,m){if(!Ue)throw Error(a(363));var M=0,R=[];p=[dp(p),0];for(var D=0;D<p.length;){var B=p[D++],ue=p[D++],Ae=m[ue];if((B.tag!==5||!Me(B))&&(_i(B,Ae)&&(R.push(gh(Ae)),ue++,ue>M&&(M=ue)),ue<m.length))for(B=B.child;B!==null;)p.push(B,ue),B=B.sibling}if(M<m.length){for(p=[];M<m.length;M++)p.push(gh(m[M]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+p.join(" > ")}return null},n.getPublicRootInstance=function(p){if(p=p.current,!p.child)return null;switch(p.child.tag){case 5:return q(p.child.stateNode);default:return p.child.stateNode}},n.injectIntoDevTools=function(p){if(p={bundleType:p.bundleType,version:p.version,rendererPackageName:p.rendererPackageName,rendererConfig:p.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:_A,findFiberByHostInstance:p.findFiberByHostInstance||jx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")p=!1;else{var m=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(m.isDisabled||!m.supportsFiber)p=!0;else{try{au=m.inject(p),Po=m}catch{}p=!!m.checkDCE}}return p},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(p,m,M,R){if(!Ue)throw Error(a(363));p=yv(p,m);var D=We(p,M,R).disconnect;return{disconnect:function(){D()}}},n.registerMutableSourceForHydration=function(p,m){var M=m._getVersion;M=M(m._source),p.mutableSourceEagerHydrationData==null?p.mutableSourceEagerHydrationData=[m,M]:p.mutableSourceEagerHydrationData.push(m,M)},n.runWithPriority=function(p,m){var M=bn;try{return bn=p,m()}finally{bn=M}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(p,m,M,R){var D=m.current,B=ki(),ue=cs(D);return M=wh(M),m.context===null?m.context=M:m.pendingContext=M,m=Ii(B,ue),m.payload={element:p},R=R===void 0?null:R,R!==null&&(m.callback=R),Ea(D,m),p=ra(D,ue,B),p!==null&&xc(p,D,ue),ue},n};_V.exports=$Le;var HLe=_V.exports;const GLe=Nn(HLe);var xV={exports:{}},bV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,j){var X=F.length;F.push(j);e:for(;0<X;){var H=X-1>>>1,Y=F[H];if(0<i(Y,j))F[H]=j,F[X]=Y,X=H;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var j=F[0],X=F.pop();if(X!==j){F[0]=X;e:for(var H=0,Y=F.length,se=Y>>>1;H<se;){var re=2*(H+1)-1,ie=F[re],ge=re+1,de=F[ge];if(0>i(ie,X))ge<Y&&0>i(de,ie)?(F[H]=de,F[ge]=X,H=ge):(F[H]=ie,F[re]=X,H=re);else if(ge<Y&&0>i(de,X))F[H]=de,F[ge]=X,H=ge;else break e}}return j}function i(F,j){var X=F.sortIndex-j.sortIndex;return X!==0?X:F.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,h=3,g=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(F){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=F)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function E(F){if(b=!1,w(F),!v)if(n(l)!==null)v=!0,q(T);else{var j=n(u);j!==null&&Q(E,j.startTime-F)}}function T(F,j){v=!1,b&&(b=!1,_(O),O=-1),g=!0;var X=h;try{for(w(j),f=n(l);f!==null&&(!(f.expirationTime>j)||F&&!N());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var Y=H(f.expirationTime<=j);j=t.unstable_now(),typeof Y=="function"?f.callback=Y:f===n(l)&&r(l),w(j)}else r(l);f=n(l)}if(f!==null)var se=!0;else{var re=n(u);re!==null&&Q(E,re.startTime-j),se=!1}return se}finally{f=null,h=X,g=!1}}var P=!1,I=null,O=-1,C=5,L=-1;function N(){return!(t.unstable_now()-L<C)}function U(){if(I!==null){var F=t.unstable_now();L=F;var j=!0;try{j=I(!0,F)}finally{j?z():(P=!1,I=null)}}else P=!1}var z;if(typeof S=="function")z=function(){S(U)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,K=$.port2;$.port1.onmessage=U,z=function(){K.postMessage(null)}}else z=function(){x(U,0)};function q(F){I=F,P||(P=!0,z())}function Q(F,j){O=x(function(){F(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){v||g||(v=!0,q(T))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var X=h;h=j;try{return F()}finally{h=X}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,j){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var X=h;h=F;try{return j()}finally{h=X}},t.unstable_scheduleCallback=function(F,j,X){var H=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?H+X:H):X=H,F){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=X+Y,F={id:c++,callback:j,priorityLevel:F,startTime:X,expirationTime:Y,sortIndex:-1},X>H?(F.sortIndex=X,e(u,F),n(l)===null&&F===n(u)&&(b?(_(O),O=-1):b=!0,Q(E,X-H))):(F.sortIndex=Y,e(l,F),v||g||(v=!0,q(T))),F},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(F){var j=h;return function(){var X=h;h=j;try{return F.apply(this,arguments)}finally{h=X}}}})(bV);xV.exports=bV;var Y4=xV.exports;const j3={},WLe=t=>void Object.assign(j3,t);function VLe(t,e){function n(c,{args:f=[],attach:h,...g},v){let b=`${c[0].toUpperCase()}${c.slice(1)}`,x;if(c==="primitive"){if(g.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const _=g.object;x=tm(_,{type:c,root:v,attach:h,primitive:!0})}else{const _=j3[b];if(!_)throw new Error(`R3F: ${b} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");x=tm(new _(...f),{type:c,root:v,attach:h,memoizedProps:{args:f}})}return x.__r3f.attach===void 0&&(x instanceof vn?x.__r3f.attach="geometry":x instanceof uo&&(x.__r3f.attach="material")),b!=="inject"&&k2(x,g),x}function r(c,f){let h=!1;if(f){var g,v;(g=f.__r3f)!=null&&g.attach?N2(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),h=!0),h||(v=c.__r3f)==null||v.objects.push(f),f.__r3f||tm(f,{}),f.__r3f.parent=c,BO(f),nm(f)}}function i(c,f,h){let g=!1;if(f){var v,b;if((v=f.__r3f)!=null&&v.attach)N2(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"}),c.dispatchEvent({type:"childadded",child:f});const x=c.children.filter(S=>S!==f),_=x.indexOf(h);c.children=[...x.slice(0,_),f,...x.slice(_)],g=!0}g||(b=c.__r3f)==null||b.objects.push(f),f.__r3f||tm(f,{}),f.__r3f.parent=c,BO(f),nm(f)}}function o(c,f,h=!1){c&&[...c].forEach(g=>a(f,g,h))}function a(c,f,h){if(f){var g,v,b;if(f.__r3f&&(f.__r3f.parent=null),(g=c.__r3f)!=null&&g.objects&&(c.__r3f.objects=c.__r3f.objects.filter(E=>E!==f)),(v=f.__r3f)!=null&&v.attach)ez(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var x;c.remove(f),(x=f.__r3f)!=null&&x.root&&eDe($b(f),f)}const S=(b=f.__r3f)==null?void 0:b.primitive,w=!S&&(h===void 0?f.dispose!==null:h);if(!S){var _;o((_=f.__r3f)==null?void 0:_.objects,f,w),o(f.children,f,w)}if(delete f.__r3f,w&&f.dispose&&f.type!=="Scene"){const E=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?Y4.unstable_scheduleCallback(Y4.unstable_IdlePriority,E):E()}nm(c)}}function s(c,f,h,g){var v;const b=(v=c.__r3f)==null?void 0:v.parent;if(!b)return;const x=n(f,h,c.__r3f.root);if(c.children){for(const _ of c.children)_.__r3f&&r(x,_);c.children=c.children.filter(_=>!_.__r3f)}c.__r3f.objects.forEach(_=>r(x,_)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||a(b,c),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(b,x),x.raycast&&x.__r3f.eventCount&&$b(x).getState().internal.interaction.push(x),[g,g.alternate].forEach(_=>{_!==null&&(_.stateNode=x,_.ref&&(typeof _.ref=="function"?_.ref(x):_.ref.current=x))})}const l=()=>{};return{reconciler:GLe({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const h=c.getState().scene;h.__r3f&&(h.__r3f.root=c,r(h,f))},removeChildFromContainer:(c,f)=>{f&&a(c.getState().scene,f)},insertInContainerBefore:(c,f,h)=>{if(!f||!h)return;const g=c.getState().scene;g.__r3f&&i(g,f,h)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,h,g){var v;if(((v=c==null?void 0:c.__r3f)!=null?v:{}).primitive&&g.object&&g.object!==c)return[!0];{const{args:x=[],children:_,...S}=g,{args:w=[],children:E,...T}=h;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((I,O)=>I!==w[O]))return[!0];const P=PV(c,S,T,!0);return P.changes.length?[!1,P]:null}},commitUpdate(c,[f,h],g,v,b,x){f?s(c,g,b,x):k2(c,h)},commitMount(c,f,h,g){var v;const b=(v=c.__r3f)!=null?v:{};c.raycast&&b.handlers&&b.eventCount&&$b(c).getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>tm(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:h,parent:g}=(f=c.__r3f)!=null?f:{};h&&g&&ez(g,c,h),c.isObject3D&&(c.visible=!1),nm(c)},unhideInstance(c,f){var h;const{attach:g,parent:v}=(h=c.__r3f)!=null?h:{};g&&v&&N2(v,c,g),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),nm(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Am.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&gr.fun(performance.now)?performance.now:gr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:gr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:gr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:k2}}var K4,Z4;const D2=t=>"colorSpace"in t||"outputColorSpace"in t,SV=()=>{var t;return(t=j3.ColorManagement)!=null?t:null},wV=t=>t&&t.isOrthographicCamera,XLe=t=>t&&t.hasOwnProperty("current"),K_=typeof window<"u"&&((K4=window.document)!=null&&K4.createElement||((Z4=window.navigator)==null?void 0:Z4.product)==="ReactNative")?oe.useLayoutEffect:oe.useEffect;function MV(t){const e=oe.useRef(t);return K_(()=>void(e.current=t),[t]),e}function qLe({set:t}){return K_(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class EV extends oe.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}EV.getDerivedStateFromError=()=>({error:!0});const AV="__default",J4=new Map,YLe=t=>t&&!!t.memoized&&!!t.changes;function TV(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const hy=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function $b(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const gr={obj:t=>t===Object(t)&&!gr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(gr.str(t)||gr.num(t)||gr.boo(t))return t===e;const o=gr.obj(t);if(o&&r==="reference")return t===e;const a=gr.arr(t);if(a&&n==="reference")return t===e;if((a||o)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(o&&n==="shallow"&&r==="shallow"){for(s in i?e:t)if(!gr.equ(t[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:t)if(t[s]!==e[s])return!1;if(gr.und(s)){if(a&&t.length===0&&e.length===0||o&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function KLe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function tm(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function FO(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((o,a)=>o[a],t),{target:n,key:i}}else return{target:n,key:e}}const Q4=/-\d+$/;function N2(t,e,n){if(gr.str(n)){if(Q4.test(n)){const o=n.replace(Q4,""),{target:a,key:s}=FO(t,o);Array.isArray(a[s])||(a[s]=[])}const{target:r,key:i}=FO(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function ez(t,e,n){var r,i;if(gr.str(n)){const{target:o,key:a}=FO(t,n),s=e.__r3f.previousAttach;s===void 0?delete o[a]:o[a]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function PV(t,{children:e,key:n,ref:r,...i},{children:o,key:a,ref:s,...l}={},u=!1){const c=t.__r3f,f=Object.entries(i),h=[];if(u){const v=Object.keys(l);for(let b=0;b<v.length;b++)i.hasOwnProperty(v[b])||f.unshift([v[b],AV+"remove"])}f.forEach(([v,b])=>{var x;if((x=t.__r3f)!=null&&x.primitive&&v==="object"||gr.equ(b,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return h.push([v,b,!0,[]]);let _=[];v.includes("-")&&(_=v.split("-")),h.push([v,b,!1,_]);for(const S in i){const w=i[S];S.startsWith(`${v}-`)&&h.push([S,w,!1,S.split("-")])}});const g={...i};return c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.args&&(g.args=c.memoizedProps.args),c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.attach&&(g.attach=c.memoizedProps.attach),{memoized:g,changes:h}}const ZLe=typeof process<"u"&&!1;function k2(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,o=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:s}=YLe(e)?e:PV(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let c=0;c<s.length;c++){let[f,h,g,v]=s[c];if(D2(t)){const S="srgb",w="srgb-linear";f==="encoding"?(f="colorSpace",h=h===3001?S:w):f==="outputEncoding"&&(f="outputColorSpace",h=h===3001?S:w)}let b=t,x=b[f];if(v.length&&(x=v.reduce((_,S)=>_[S],t),!(x&&x.set))){const[_,...S]=v.reverse();b=S.reverse().reduce((w,E)=>w[E],t),f=_}if(h===AV+"remove")if(b.constructor){let _=J4.get(b.constructor);_||(_=new b.constructor,J4.set(b.constructor,_)),h=_[f]}else h=0;if(g&&r)h?r.handlers[f]=h:delete r.handlers[f],r.eventCount=Object.keys(r.handlers).length;else if(x&&x.set&&(x.copy||x instanceof _d)){if(Array.isArray(h))x.fromArray?x.fromArray(h):x.set(...h);else if(x.copy&&h&&h.constructor&&(ZLe?x.constructor.name===h.constructor.name:x.constructor===h.constructor))x.copy(h);else if(h!==void 0){const _=x instanceof St;!_&&x.setScalar?x.setScalar(h):x instanceof _d&&h instanceof _d?x.mask=h.mask:x.set(h),!SV()&&o&&!o.linear&&_&&x.convertSRGBToLinear()}}else if(b[f]=h,b[f]instanceof Er&&b[f].format===Mo&&b[f].type===dl&&o){const _=b[f];D2(_)&&D2(o.gl)?_.colorSpace=o.gl.outputColorSpace:_.encoding=o.gl.outputEncoding}nm(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const c=$b(t).getState().internal,f=c.interaction.indexOf(t);f>-1&&c.interaction.splice(f,1),r.eventCount&&c.interaction.push(t)}return!(s.length===1&&s[0][0]==="onUpdate")&&s.length&&(n=t.__r3f)!=null&&n.parent&&BO(t),t}function nm(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function BO(t){t.onUpdate==null||t.onUpdate(t)}function JLe(t,e){t.manual||(wV(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function Sb(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function QLe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Am.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Am.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Am.ContinuousEventPriority;default:return Am.DefaultEventPriority}}function CV(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function eDe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{CV(n.capturedMap,e,r,i)})}function tDe(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),f=new Set,h=[],g=u?u(c.internal.interaction):c.internal.interaction;for(let _=0;_<g.length;_++){const S=hy(g[_]);S&&(S.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function v(_){const S=hy(_);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var w;S.events.compute==null||S.events.compute(l,S,(w=S.previousRoot)==null?void 0:w.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(_,!0):[]}let b=g.flatMap(v).sort((_,S)=>{const w=hy(_.object),E=hy(S.object);return!w||!E?_.distance-S.distance:E.events.priority-w.events.priority||_.distance-S.distance}).filter(_=>{const S=Sb(_);return f.has(S)?!1:(f.add(S),!0)});c.events.filter&&(b=c.events.filter(b,c));for(const _ of b){let S=_.object;for(;S;){var x;(x=S.__r3f)!=null&&x.eventCount&&h.push({..._,eventObject:S}),S=S.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let _ of c.internal.capturedMap.get(l.pointerId).values())f.has(Sb(_.intersection))||h.push(_.intersection);return h}function i(l,u,c,f){const h=t.getState();if(l.length){const g={stopped:!1};for(const v of l){const b=hy(v.object)||h,{raycaster:x,pointer:_,camera:S,internal:w}=b,E=new ae(_.x,_.y,0).unproject(S),T=L=>{var N,U;return(N=(U=w.capturedMap.get(L))==null?void 0:U.has(v.eventObject))!=null?N:!1},P=L=>{const N={intersection:v,target:u.target};w.capturedMap.has(L)?w.capturedMap.get(L).set(v.eventObject,N):w.capturedMap.set(L,new Map([[v.eventObject,N]])),u.target.setPointerCapture(L)},I=L=>{const N=w.capturedMap.get(L);N&&CV(w.capturedMap,v.eventObject,N,L)};let O={};for(let L in u){let N=u[L];typeof N!="function"&&(O[L]=N)}let C={...v,...O,pointer:_,intersections:l,stopped:g.stopped,delta:c,unprojectedPoint:E,ray:x.ray,camera:S,stopPropagation(){const L="pointerId"in u&&w.capturedMap.get(u.pointerId);if((!L||L.has(v.eventObject))&&(C.stopped=g.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(N=>N.eventObject===v.eventObject))){const N=l.slice(0,l.indexOf(v));o([...N,v])}},target:{hasPointerCapture:T,setPointerCapture:P,releasePointerCapture:I},currentTarget:{hasPointerCapture:T,setPointerCapture:P,releasePointerCapture:I},nativeEvent:u};if(f(C),g.stopped===!0)break}}return l}function o(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const h=c.eventObject.__r3f,g=h==null?void 0:h.handlers;if(u.hovered.delete(Sb(c)),h!=null&&h.eventCount){const v={...c,intersections:l};g.onPointerOut==null||g.onPointerOut(v),g.onPointerLeave==null||g.onPointerLeave(v)}}}function a(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),o([]))})}}return function(c){const{onPointerMissed:f,internal:h}=t.getState();h.lastEvent.current=c;const g=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(c,g?n:void 0),_=v?e(c):0;l==="onPointerDown"&&(h.initialClick=[c.offsetX,c.offsetY],h.initialHits=x.map(w=>w.eventObject)),v&&!x.length&&_<=2&&(a(c,h.interaction),f&&f(c)),g&&o(x);function S(w){const E=w.eventObject,T=E.__r3f,P=T==null?void 0:T.handlers;if(T!=null&&T.eventCount)if(g){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const I=Sb(w),O=h.hovered.get(I);O?O.stopped&&w.stopPropagation():(h.hovered.set(I,w),P.onPointerOver==null||P.onPointerOver(w),P.onPointerEnter==null||P.onPointerEnter(w))}P.onPointerMove==null||P.onPointerMove(w)}else{const I=P[l];I?(!v||h.initialHits.includes(E))&&(a(c,h.interaction.filter(O=>!h.initialHits.includes(O))),I(w)):v&&h.initialHits.includes(E)&&a(c,h.interaction.filter(O=>!h.initialHits.includes(O)))}}i(x,c,_,S)}}return{handlePointer:s}}const OV=t=>!!(t!=null&&t.render),RV=oe.createContext(null),nDe=(t,e)=>{const n=NLe((s,l)=>{const u=new ae,c=new ae,f=new ae;function h(_=l().camera,S=c,w=l().size){const{width:E,height:T,top:P,left:I}=w,O=E/T;S instanceof ae?f.copy(S):f.set(...S);const C=_.getWorldPosition(u).distanceTo(f);if(wV(_))return{width:E/_.zoom,height:T/_.zoom,top:P,left:I,factor:1,distance:C,aspect:O};{const L=_.fov*Math.PI/180,N=2*Math.tan(L/2)*C,U=N*(E/T);return{width:U,height:N,top:P,left:I,factor:E/U,distance:C,aspect:O}}}let g;const v=_=>s(S=>({performance:{...S.performance,current:_}})),b=new tt;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(_=1)=>t(l(),_),advance:(_,S)=>e(_,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new k3,pointer:b,mouse:b,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const _=l();g&&clearTimeout(g),_.performance.current!==_.performance.min&&v(_.performance.min),g=setTimeout(()=>v(l().performance.max),_.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:_=>s(S=>({...S,events:{...S.events,..._}})),setSize:(_,S,w,E,T)=>{const P=l().camera,I={width:_,height:S,top:E||0,left:T||0,updateStyle:w};s(O=>({size:I,viewport:{...O.viewport,...h(P,c,I)}}))},setDpr:_=>s(S=>{const w=TV(_);return{viewport:{...S.viewport,dpr:w,initialDpr:S.viewport.initialDpr||w}}}),setFrameloop:(_="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,_!=="never"&&(S.start(),S.elapsedTime=0),s(()=>({frameloop:_}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:oe.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(_,S,w)=>{const E=l().internal;return E.priority=E.priority+(S>0?1:0),E.subscribers.push({ref:_,priority:S,store:w}),E.subscribers=E.subscribers.sort((T,P)=>T.priority-P.priority),()=>{const T=l().internal;T!=null&&T.subscribers&&(T.priority=T.priority-(S>0?1:0),T.subscribers=T.subscribers.filter(P=>P.ref!==_))}}}}}),r=n.getState();let i=r.size,o=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:s,size:l,viewport:u,gl:c,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==o){var h;i=l,o=u.dpr,JLe(s,l),c.setPixelRatio(u.dpr);const g=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,g)}s!==a&&(a=s,f(g=>({viewport:{...g.viewport,...g.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};let wb,rDe=new Set,iDe=new Set,oDe=new Set;function U2(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function dy(t,e){switch(t){case"before":return U2(rDe,e);case"after":return U2(iDe,e);case"tail":return U2(oDe,e)}}let F2,B2;function z2(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),F2=e.internal.subscribers,wb=0;wb<F2.length;wb++)B2=F2[wb],B2.ref.current(B2.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function aDe(t){let e=!1,n=!1,r,i,o;function a(u){i=requestAnimationFrame(a),e=!0,r=0,dy("before",u),n=!0;for(const f of t.values()){var c;o=f.store.getState(),o.internal.active&&(o.frameloop==="always"||o.internal.frames>0)&&!((c=o.gl.xr)!=null&&c.isPresenting)&&(r+=z2(u,o))}if(n=!1,dy("after",u),r===0)return dy("tail",u),e=!1,cancelAnimationFrame(i)}function s(u,c=1){var f;if(!u)return t.forEach(h=>s(h.store.getState(),c));(f=u.gl.xr)!=null&&f.isPresenting||!u.internal.active||u.frameloop==="never"||(c>1?u.internal.frames=Math.min(60,u.internal.frames+c):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function l(u,c=!0,f,h){if(c&&dy("before",u),f)z2(u,f,h);else for(const g of t.values())z2(u,g.store.getState());c&&dy("after",u)}return{loop:a,invalidate:s,advance:l}}function IV(){const t=oe.useContext(RV);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Iu(t=n=>n,e){return IV()(t,e)}function sDe(t,e=0){const n=IV(),r=n.getState().internal.subscribe,i=MV(t);return K_(()=>r(i,e,n),[e,r,n]),null}const wg=new Map,{invalidate:tz,advance:nz}=aDe(wg),{reconciler:dM,applyProps:Jp}=VLe(wg,QLe),Qp={objects:"shallow",strict:!1},lDe=(t,e)=>{const n=typeof t=="function"?t(e):t;return OV(n)?n:new MW({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function uDe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:o,left:a,updateStyle:s=n}=e;return{width:r,height:i,top:o,left:a,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:o,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:o,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function cDe(t){const e=wg.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,o=r||nDe(tz,nz),a=n||dM.createContainer(o,Am.ConcurrentRoot,null,!1,null,"",i,null);e||wg.set(t,{fiber:a,store:o});let s,l=!1,u;return{configure(c={}){let{gl:f,size:h,scene:g,events:v,onCreated:b,shadows:x=!1,linear:_=!1,flat:S=!1,legacy:w=!1,orthographic:E=!1,frameloop:T="always",dpr:P=[1,2],performance:I,raycaster:O,camera:C,onPointerMissed:L}=c,N=o.getState(),U=N.gl;N.gl||N.set({gl:U=lDe(f,t)});let z=N.raycaster;z||N.set({raycaster:z=new gV});const{params:$,...K}=O||{};if(gr.equ(K,z,Qp)||Jp(z,{...K}),gr.equ($,z.params,Qp)||Jp(z,{params:{...z.params,...$}}),!N.camera||N.camera===u&&!gr.equ(u,C,Qp)){u=C;const X=C instanceof $_,H=X?C:E?new Ef(0,0,0,0,.1,1e3):new oi(75,0,.1,1e3);X||(H.position.z=5,C&&(Jp(H,C),("aspect"in C||"left"in C||"right"in C||"bottom"in C||"top"in C)&&(H.manual=!0,H.updateProjectionMatrix())),!N.camera&&!(C!=null&&C.rotation)&&H.lookAt(0,0,0)),N.set({camera:H}),z.camera=H}if(!N.scene){let X;g instanceof uM?X=g:(X=new uM,g&&Jp(X,g)),N.set({scene:tm(X)})}if(!N.xr){var q;const X=(se,re)=>{const ie=o.getState();ie.frameloop!=="never"&&nz(se,!0,ie,re)},H=()=>{const se=o.getState();se.gl.xr.enabled=se.gl.xr.isPresenting,se.gl.xr.setAnimationLoop(se.gl.xr.isPresenting?X:null),se.gl.xr.isPresenting||tz(se)},Y={connect(){const se=o.getState().gl;se.xr.addEventListener("sessionstart",H),se.xr.addEventListener("sessionend",H)},disconnect(){const se=o.getState().gl;se.xr.removeEventListener("sessionstart",H),se.xr.removeEventListener("sessionend",H)}};typeof((q=U.xr)==null?void 0:q.addEventListener)=="function"&&Y.connect(),N.set({xr:Y})}if(U.shadowMap){const X=U.shadowMap.enabled,H=U.shadowMap.type;if(U.shadowMap.enabled=!!x,gr.boo(x))U.shadowMap.type=jy;else if(gr.str(x)){var Q;const Y={basic:wG,percentage:CE,soft:jy,variance:el};U.shadowMap.type=(Q=Y[x])!=null?Q:jy}else gr.obj(x)&&Object.assign(U.shadowMap,x);(X!==U.shadowMap.enabled||H!==U.shadowMap.type)&&(U.shadowMap.needsUpdate=!0)}const F=SV();F&&("enabled"in F?F.enabled=!w:"legacyMode"in F&&(F.legacyMode=w)),l||Jp(U,{outputEncoding:_?3e3:3001,toneMapping:S?Zl:JI}),N.legacy!==w&&N.set(()=>({legacy:w})),N.linear!==_&&N.set(()=>({linear:_})),N.flat!==S&&N.set(()=>({flat:S})),f&&!gr.fun(f)&&!OV(f)&&!gr.equ(f,U,Qp)&&Jp(U,f),v&&!N.events.handlers&&N.set({events:v(o)});const j=uDe(t,h);return gr.equ(j,N.size,Qp)||N.setSize(j.width,j.height,j.updateStyle,j.top,j.left),P&&N.viewport.dpr!==TV(P)&&N.setDpr(P),N.frameloop!==T&&N.setFrameloop(T),N.onPointerMissed||N.set({onPointerMissed:L}),I&&!gr.equ(I,N.performance,Qp)&&N.set(X=>({performance:{...X.performance,...I}})),s=b,l=!0,this},render(c){return l||this.configure(),dM.updateContainer(An.jsx(fDe,{store:o,children:c,onCreated:s,rootElement:t}),a,null,()=>{}),o},unmount(){LV(t)}}}function fDe({store:t,children:e,onCreated:n,rootElement:r}){return K_(()=>{const i=t.getState();i.set(o=>({internal:{...o.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),An.jsx(RV.Provider,{value:t,children:e})}function LV(t,e){const n=wg.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),dM.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var o,a,s,l;i.events.disconnect==null||i.events.disconnect(),(o=i.gl)==null||(a=o.renderLists)==null||a.dispose==null||a.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),KLe(i),wg.delete(t)}catch{}},500)})}}dM.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:oe.version});const j2={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function hDe(t){const{handlePointer:e}=tDe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(j2).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:o}=t.getState();o.disconnect==null||o.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=o.handlers)!=null?r:[]).forEach(([a,s])=>{const[l,u]=j2[a];n.addEventListener(l,s,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([o,a])=>{if(r&&r.connected instanceof HTMLElement){const[s]=j2[o];r.connected.removeEventListener(s,a)}}),n(o=>({events:{...o.events,connected:void 0}}))}}}}function zO(t,e,n){var r,i,o,a,s;e==null&&(e=100);function l(){var c=Date.now()-a;c<e&&c>=0?r=setTimeout(l,e-c):(r=null,n||(s=t.apply(o,i),o=i=null))}var u=function(){o=this,i=arguments,a=Date.now();var c=n&&!r;return r||(r=setTimeout(l,e)),c&&(s=t.apply(o,i),o=i=null),s};return u.clear=function(){r&&(clearTimeout(r),r=null)},u.flush=function(){r&&(s=t.apply(o,i),o=i=null,clearTimeout(r),r=null)},u}zO.debounce=zO;var dDe=zO;const rz=Nn(dDe);var pDe=Object.defineProperty,mDe=Object.defineProperties,gDe=Object.getOwnPropertyDescriptors,iz=Object.getOwnPropertySymbols,vDe=Object.prototype.hasOwnProperty,yDe=Object.prototype.propertyIsEnumerable,oz=(t,e,n)=>e in t?pDe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,az=(t,e)=>{for(var n in e||(e={}))vDe.call(e,n)&&oz(t,n,e[n]);if(iz)for(var n of iz(e))yDe.call(e,n)&&oz(t,n,e[n]);return t},_De=(t,e)=>mDe(t,gDe(e)),sz,lz;typeof window<"u"&&((sz=window.document)!=null&&sz.createElement||((lz=window.navigator)==null?void 0:lz.product)==="ReactNative")?oe.useLayoutEffect:oe.useEffect;function DV(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=DV(r,e,n);if(i)return i;r=r.sibling}}function NV(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const uz=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=uz;return}return uz.apply(this,arguments)};const $3=NV(oe.createContext(null));class kV extends oe.Component{render(){return oe.createElement($3.Provider,{value:this._reactInternals},this.props.children)}}function xDe(){const t=oe.useContext($3);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=oe.useId();return oe.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=DV(r,!1,o=>{let a=o.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function bDe(){const t=xDe(),[e]=oe.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==$3&&!e.has(i)&&e.set(i,oe.useContext(NV(i)))}n=n.return}return e}function SDe(){const t=bDe();return oe.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>oe.createElement(e,null,oe.createElement(n.Provider,_De(az({},r),{value:t.get(n)}))),e=>oe.createElement(kV,az({},e))),[t])}function wDe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||typeof window<"u"&&window.ResizeObserver,[o,a]=oe.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!i)return o.width=1280,o.height=800,[()=>{},o,()=>{}];const s=oe.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,c=oe.useRef(!1);oe.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[f,h,g]=oe.useMemo(()=>{const _=()=>{if(!s.current.element)return;const{left:S,top:w,width:E,height:T,bottom:P,right:I,x:O,y:C}=s.current.element.getBoundingClientRect(),L={left:S,top:w,width:E,height:T,bottom:P,right:I,x:O,y:C};s.current.element instanceof HTMLElement&&r&&(L.height=s.current.element.offsetHeight,L.width=s.current.element.offsetWidth),Object.freeze(L),c.current&&!TDe(s.current.lastBounds,L)&&a(s.current.lastBounds=L)};return[_,u?rz(_,u):_,l?rz(_,l):_]},[a,r,l,u]);function v(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(_=>_.removeEventListener("scroll",g,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function b(){var _;s.current.element&&(s.current.resizeObserver=new i(h),(_=s.current.resizeObserver)==null||_.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(S=>S.addEventListener("scroll",g,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{g()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const x=_=>{!_||_===s.current.element||(v(),s.current.element=_,s.current.scrollContainers=UV(_),b())};return EDe(g,!!e),MDe(h),oe.useEffect(()=>{v(),b()},[e,g,h]),oe.useEffect(()=>v,[]),[x,o,f]}function MDe(t){oe.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function EDe(t,e){oe.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function UV(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(o=>o==="auto"||o==="scroll")&&e.push(t),[...e,...UV(t.parentElement)]}const ADe=["x","y","top","bottom","left","right","width","height"],TDe=(t,e)=>ADe.every(n=>t[n]===e[n]),PDe=oe.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:o,events:a=hDe,eventSource:s,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:h,orthographic:g,frameloop:v,dpr:b,performance:x,raycaster:_,camera:S,scene:w,onPointerMissed:E,onCreated:T,...P},I){oe.useMemo(()=>WLe(ILe),[]);const O=SDe(),[C,L]=wDe({scroll:!0,debounce:{scroll:50,resize:0},...r}),N=oe.useRef(null),U=oe.useRef(null);oe.useImperativeHandle(I,()=>N.current);const z=MV(E),[$,K]=oe.useState(!1),[q,Q]=oe.useState(!1);if($)throw $;if(q)throw q;const F=oe.useRef(null);K_(()=>{const X=N.current;L.width>0&&L.height>0&&X&&(F.current||(F.current=cDe(X)),F.current.configure({gl:o,events:a,shadows:u,linear:c,flat:f,legacy:h,orthographic:g,frameloop:v,dpr:b,performance:x,raycaster:_,camera:S,scene:w,size:L,onPointerMissed:(...H)=>z.current==null?void 0:z.current(...H),onCreated:H=>{H.events.connect==null||H.events.connect(s?XLe(s)?s.current:s:U.current),l&&H.setEvents({compute:(Y,se)=>{const re=Y[l+"X"],ie=Y[l+"Y"];se.pointer.set(re/se.size.width*2-1,-(ie/se.size.height)*2+1),se.raycaster.setFromCamera(se.pointer,se.camera)}}),T==null||T(H)}}),F.current.render(An.jsx(O,{children:An.jsx(EV,{set:Q,children:An.jsx(oe.Suspense,{fallback:An.jsx(qLe,{set:K}),children:e})})})))}),oe.useEffect(()=>{const X=N.current;if(X)return()=>LV(X)},[]);const j=s?"none":"auto";return An.jsx("div",{ref:U,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...i},...P,children:An.jsx("div",{ref:C,style:{width:"100%",height:"100%"},children:An.jsx("canvas",{ref:N,style:{display:"block"},children:n})})})}),pke=oe.forwardRef(function(e,n){return An.jsx(kV,{children:An.jsx(PDe,{...e,ref:n})})});var CDe=Object.defineProperty,ODe=(t,e,n)=>e in t?CDe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ht=(t,e,n)=>(ODe(t,typeof e!="symbol"?e+"":e,n),n);const Mb=new qd,cz=new Uu,RDe=Math.cos(70*(Math.PI/180)),fz=(t,e)=>(t%e+e)%e;let IDe=class extends vl{constructor(e,n){super(),Ht(this,"object"),Ht(this,"domElement"),Ht(this,"enabled",!0),Ht(this,"target",new ae),Ht(this,"minDistance",0),Ht(this,"maxDistance",1/0),Ht(this,"minZoom",0),Ht(this,"maxZoom",1/0),Ht(this,"minPolarAngle",0),Ht(this,"maxPolarAngle",Math.PI),Ht(this,"minAzimuthAngle",-1/0),Ht(this,"maxAzimuthAngle",1/0),Ht(this,"enableDamping",!1),Ht(this,"dampingFactor",.05),Ht(this,"enableZoom",!0),Ht(this,"zoomSpeed",1),Ht(this,"enableRotate",!0),Ht(this,"rotateSpeed",1),Ht(this,"enablePan",!0),Ht(this,"panSpeed",1),Ht(this,"screenSpacePanning",!0),Ht(this,"keyPanSpeed",7),Ht(this,"zoomToCursor",!1),Ht(this,"autoRotate",!1),Ht(this,"autoRotateSpeed",2),Ht(this,"reverseOrbit",!1),Ht(this,"reverseHorizontalOrbit",!1),Ht(this,"reverseVerticalOrbit",!1),Ht(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ht(this,"mouseButtons",{LEFT:Yh.ROTATE,MIDDLE:Yh.DOLLY,RIGHT:Yh.PAN}),Ht(this,"touches",{ONE:Kh.ROTATE,TWO:Kh.DOLLY_PAN}),Ht(this,"target0"),Ht(this,"position0"),Ht(this,"zoom0"),Ht(this,"_domElementKeyEvents",null),Ht(this,"getPolarAngle"),Ht(this,"getAzimuthalAngle"),Ht(this,"setPolarAngle"),Ht(this,"setAzimuthalAngle"),Ht(this,"getDistance"),Ht(this,"getZoomScale"),Ht(this,"listenToKeyEvents"),Ht(this,"stopListenToKeyEvents"),Ht(this,"saveState"),Ht(this,"reset"),Ht(this,"update"),Ht(this,"connect"),Ht(this,"dispose"),Ht(this,"dollyIn"),Ht(this,"dollyOut"),Ht(this,"getScale"),Ht(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=me=>{let Fe=fz(me,2*Math.PI),pt=c.phi;pt<0&&(pt+=2*Math.PI),Fe<0&&(Fe+=2*Math.PI);let he=Math.abs(Fe-pt);2*Math.PI-he<he&&(Fe<pt?Fe+=2*Math.PI:pt+=2*Math.PI),f.phi=Fe-pt,r.update()},this.setAzimuthalAngle=me=>{let Fe=fz(me,2*Math.PI),pt=c.theta;pt<0&&(pt+=2*Math.PI),Fe<0&&(Fe+=2*Math.PI);let he=Math.abs(Fe-pt);2*Math.PI-he<he&&(Fe<pt?Fe+=2*Math.PI:pt+=2*Math.PI),f.theta=Fe-pt,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=me=>{me.addEventListener("keydown",Be),this._domElementKeyEvents=me},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Be),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=s.NONE},this.update=(()=>{const me=new ae,Fe=new ae(0,1,0),pt=new Eo().setFromUnitVectors(e.up,Fe),he=pt.clone().invert(),He=new ae,Le=new Eo,Je=2*Math.PI;return function(){const nt=r.object.position;pt.setFromUnitVectors(e.up,Fe),he.copy(pt).invert(),me.copy(nt).sub(r.target),me.applyQuaternion(pt),c.setFromVector3(me),r.autoRotate&&l===s.NONE&&$(U()),r.enableDamping?(c.theta+=f.theta*r.dampingFactor,c.phi+=f.phi*r.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let vt=r.minAzimuthAngle,It=r.maxAzimuthAngle;isFinite(vt)&&isFinite(It)&&(vt<-Math.PI?vt+=Je:vt>Math.PI&&(vt-=Je),It<-Math.PI?It+=Je:It>Math.PI&&(It-=Je),vt<=It?c.theta=Math.max(vt,Math.min(It,c.theta)):c.theta=c.theta>(vt+It)/2?Math.max(vt,c.theta):Math.min(It,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(g,r.dampingFactor):r.target.add(g),r.zoomToCursor&&C||r.object.isOrthographicCamera?c.radius=se(c.radius):c.radius=se(c.radius*h),me.setFromSpherical(c),me.applyQuaternion(he),nt.copy(r.target).add(me),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,g.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),g.set(0,0,0));let Et=!1;if(r.zoomToCursor&&C){let Rt=null;if(r.object instanceof oi&&r.object.isPerspectiveCamera){const Mn=me.length();Rt=se(Mn*h);const Cn=Mn-Rt;r.object.position.addScaledVector(I,Cn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Mn=new ae(O.x,O.y,0);Mn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),Et=!0;const Cn=new ae(O.x,O.y,0);Cn.unproject(r.object),r.object.position.sub(Cn).add(Mn),r.object.updateMatrixWorld(),Rt=me.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Rt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Rt).add(r.object.position):(Mb.origin.copy(r.object.position),Mb.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Mb.direction))<RDe?e.lookAt(r.target):(cz.setFromNormalAndCoplanarPoint(r.object.up,r.target),Mb.intersectPlane(cz,r.target))))}else r.object instanceof Ef&&r.object.isOrthographicCamera&&(Et=h!==1,Et&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix()));return h=1,C=!1,Et||He.distanceToSquared(r.object.position)>u||8*(1-Le.dot(r.object.quaternion))>u?(r.dispatchEvent(i),He.copy(r.object.position),Le.copy(r.object.quaternion),Et=!1,!0):!1}})(),this.connect=me=>{r.domElement=me,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",qe),r.domElement.addEventListener("pointerdown",G),r.domElement.addEventListener("pointercancel",Me),r.domElement.addEventListener("wheel",We)},this.dispose=()=>{var me,Fe,pt,he,He,Le;r.domElement&&(r.domElement.style.touchAction="auto"),(me=r.domElement)==null||me.removeEventListener("contextmenu",qe),(Fe=r.domElement)==null||Fe.removeEventListener("pointerdown",G),(pt=r.domElement)==null||pt.removeEventListener("pointercancel",Me),(he=r.domElement)==null||he.removeEventListener("wheel",We),(He=r.domElement)==null||He.ownerDocument.removeEventListener("pointermove",ce),(Le=r.domElement)==null||Le.ownerDocument.removeEventListener("pointerup",Me),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Be)};const r=this,i={type:"change"},o={type:"start"},a={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const u=1e-6,c=new UO,f=new UO;let h=1;const g=new ae,v=new tt,b=new tt,x=new tt,_=new tt,S=new tt,w=new tt,E=new tt,T=new tt,P=new tt,I=new ae,O=new tt;let C=!1;const L=[],N={};function U(){return 2*Math.PI/60/60*r.autoRotateSpeed}function z(){return Math.pow(.95,r.zoomSpeed)}function $(me){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=me:f.theta-=me}function K(me){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=me:f.phi-=me}const q=(()=>{const me=new ae;return function(pt,he){me.setFromMatrixColumn(he,0),me.multiplyScalar(-pt),g.add(me)}})(),Q=(()=>{const me=new ae;return function(pt,he){r.screenSpacePanning===!0?me.setFromMatrixColumn(he,1):(me.setFromMatrixColumn(he,0),me.crossVectors(r.object.up,me)),me.multiplyScalar(pt),g.add(me)}})(),F=(()=>{const me=new ae;return function(pt,he){const He=r.domElement;if(He&&r.object instanceof oi&&r.object.isPerspectiveCamera){const Le=r.object.position;me.copy(Le).sub(r.target);let Je=me.length();Je*=Math.tan(r.object.fov/2*Math.PI/180),q(2*pt*Je/He.clientHeight,r.object.matrix),Q(2*he*Je/He.clientHeight,r.object.matrix)}else He&&r.object instanceof Ef&&r.object.isOrthographicCamera?(q(pt*(r.object.right-r.object.left)/r.object.zoom/He.clientWidth,r.object.matrix),Q(he*(r.object.top-r.object.bottom)/r.object.zoom/He.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function j(me){r.object instanceof oi&&r.object.isPerspectiveCamera||r.object instanceof Ef&&r.object.isOrthographicCamera?h=me:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function X(me){j(h/me)}function H(me){j(h*me)}function Y(me){if(!r.zoomToCursor||!r.domElement)return;C=!0;const Fe=r.domElement.getBoundingClientRect(),pt=me.clientX-Fe.left,he=me.clientY-Fe.top,He=Fe.width,Le=Fe.height;O.x=pt/He*2-1,O.y=-(he/Le)*2+1,I.set(O.x,O.y,1).unproject(r.object).sub(r.object.position).normalize()}function se(me){return Math.max(r.minDistance,Math.min(r.maxDistance,me))}function re(me){v.set(me.clientX,me.clientY)}function ie(me){Y(me),E.set(me.clientX,me.clientY)}function ge(me){_.set(me.clientX,me.clientY)}function de(me){b.set(me.clientX,me.clientY),x.subVectors(b,v).multiplyScalar(r.rotateSpeed);const Fe=r.domElement;Fe&&($(2*Math.PI*x.x/Fe.clientHeight),K(2*Math.PI*x.y/Fe.clientHeight)),v.copy(b),r.update()}function be(me){T.set(me.clientX,me.clientY),P.subVectors(T,E),P.y>0?X(z()):P.y<0&&H(z()),E.copy(T),r.update()}function fe(me){S.set(me.clientX,me.clientY),w.subVectors(S,_).multiplyScalar(r.panSpeed),F(w.x,w.y),_.copy(S),r.update()}function Te(me){Y(me),me.deltaY<0?H(z()):me.deltaY>0&&X(z()),r.update()}function Se(me){let Fe=!1;switch(me.code){case r.keys.UP:F(0,r.keyPanSpeed),Fe=!0;break;case r.keys.BOTTOM:F(0,-r.keyPanSpeed),Fe=!0;break;case r.keys.LEFT:F(r.keyPanSpeed,0),Fe=!0;break;case r.keys.RIGHT:F(-r.keyPanSpeed,0),Fe=!0;break}Fe&&(me.preventDefault(),r.update())}function ee(){if(L.length==1)v.set(L[0].pageX,L[0].pageY);else{const me=.5*(L[0].pageX+L[1].pageX),Fe=.5*(L[0].pageY+L[1].pageY);v.set(me,Fe)}}function we(){if(L.length==1)_.set(L[0].pageX,L[0].pageY);else{const me=.5*(L[0].pageX+L[1].pageX),Fe=.5*(L[0].pageY+L[1].pageY);_.set(me,Fe)}}function Z(){const me=L[0].pageX-L[1].pageX,Fe=L[0].pageY-L[1].pageY,pt=Math.sqrt(me*me+Fe*Fe);E.set(0,pt)}function Ie(){r.enableZoom&&Z(),r.enablePan&&we()}function xe(){r.enableZoom&&Z(),r.enableRotate&&ee()}function Ne(me){if(L.length==1)b.set(me.pageX,me.pageY);else{const pt=Ze(me),he=.5*(me.pageX+pt.x),He=.5*(me.pageY+pt.y);b.set(he,He)}x.subVectors(b,v).multiplyScalar(r.rotateSpeed);const Fe=r.domElement;Fe&&($(2*Math.PI*x.x/Fe.clientHeight),K(2*Math.PI*x.y/Fe.clientHeight)),v.copy(b)}function Ee(me){if(L.length==1)S.set(me.pageX,me.pageY);else{const Fe=Ze(me),pt=.5*(me.pageX+Fe.x),he=.5*(me.pageY+Fe.y);S.set(pt,he)}w.subVectors(S,_).multiplyScalar(r.panSpeed),F(w.x,w.y),_.copy(S)}function Ke(me){const Fe=Ze(me),pt=me.pageX-Fe.x,he=me.pageY-Fe.y,He=Math.sqrt(pt*pt+he*he);T.set(0,He),P.set(0,Math.pow(T.y/E.y,r.zoomSpeed)),X(P.y),E.copy(T)}function Ue(me){r.enableZoom&&Ke(me),r.enablePan&&Ee(me)}function W(me){r.enableZoom&&Ke(me),r.enableRotate&&Ne(me)}function G(me){var Fe,pt;r.enabled!==!1&&(L.length===0&&((Fe=r.domElement)==null||Fe.ownerDocument.addEventListener("pointermove",ce),(pt=r.domElement)==null||pt.ownerDocument.addEventListener("pointerup",Me)),ot(me),me.pointerType==="touch"?Xe(me):ve(me))}function ce(me){r.enabled!==!1&&(me.pointerType==="touch"?ct(me):ke(me))}function Me(me){var Fe,pt,he;ut(me),L.length===0&&((Fe=r.domElement)==null||Fe.releasePointerCapture(me.pointerId),(pt=r.domElement)==null||pt.ownerDocument.removeEventListener("pointermove",ce),(he=r.domElement)==null||he.ownerDocument.removeEventListener("pointerup",Me)),r.dispatchEvent(a),l=s.NONE}function ve(me){let Fe;switch(me.button){case 0:Fe=r.mouseButtons.LEFT;break;case 1:Fe=r.mouseButtons.MIDDLE;break;case 2:Fe=r.mouseButtons.RIGHT;break;default:Fe=-1}switch(Fe){case Yh.DOLLY:if(r.enableZoom===!1)return;ie(me),l=s.DOLLY;break;case Yh.ROTATE:if(me.ctrlKey||me.metaKey||me.shiftKey){if(r.enablePan===!1)return;ge(me),l=s.PAN}else{if(r.enableRotate===!1)return;re(me),l=s.ROTATE}break;case Yh.PAN:if(me.ctrlKey||me.metaKey||me.shiftKey){if(r.enableRotate===!1)return;re(me),l=s.ROTATE}else{if(r.enablePan===!1)return;ge(me),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function ke(me){if(r.enabled!==!1)switch(l){case s.ROTATE:if(r.enableRotate===!1)return;de(me);break;case s.DOLLY:if(r.enableZoom===!1)return;be(me);break;case s.PAN:if(r.enablePan===!1)return;fe(me);break}}function We(me){r.enabled===!1||r.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(me.preventDefault(),r.dispatchEvent(o),Te(me),r.dispatchEvent(a))}function Be(me){r.enabled===!1||r.enablePan===!1||Se(me)}function Xe(me){switch(at(me),L.length){case 1:switch(r.touches.ONE){case Kh.ROTATE:if(r.enableRotate===!1)return;ee(),l=s.TOUCH_ROTATE;break;case Kh.PAN:if(r.enablePan===!1)return;we(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case Kh.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ie(),l=s.TOUCH_DOLLY_PAN;break;case Kh.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;xe(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(o)}function ct(me){switch(at(me),l){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;Ne(me),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;Ee(me),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Ue(me),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;W(me),r.update();break;default:l=s.NONE}}function qe(me){r.enabled!==!1&&me.preventDefault()}function ot(me){L.push(me)}function ut(me){delete N[me.pointerId];for(let Fe=0;Fe<L.length;Fe++)if(L[Fe].pointerId==me.pointerId){L.splice(Fe,1);return}}function at(me){let Fe=N[me.pointerId];Fe===void 0&&(Fe=new tt,N[me.pointerId]=Fe),Fe.set(me.pageX,me.pageY)}function Ze(me){const Fe=me.pointerId===L[0].pointerId?L[1]:L[0];return N[Fe.pointerId]}this.dollyIn=(me=z())=>{H(me),r.update()},this.dollyOut=(me=z())=>{X(me),r.update()},this.getScale=()=>h,this.setScale=me=>{j(me),r.update()},this.getZoomScale=()=>z(),n!==void 0&&this.connect(n),this.update()}};function LDe(){var t=Object.create(null);function e(i,o){var a=i.id,s=i.name,l=i.dependencies;l===void 0&&(l=[]);var u=i.init;u===void 0&&(u=function(){});var c=i.getTransferables;if(c===void 0&&(c=null),!t[a])try{l=l.map(function(h){return h&&h.isWorkerModule&&(e(h,function(g){if(g instanceof Error)throw g}),h=t[h.id].value),h}),u=r("<"+s+">.init",u),c&&(c=r("<"+s+">.getTransferables",c));var f=null;typeof u=="function"?f=u.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[a]={id:a,value:f,getTransferables:c},o(f)}catch(h){h&&h.noLog||console.error(h),o(h)}}function n(i,o){var a,s=i.id,l=i.args;(!t[s]||typeof t[s].value!="function")&&o(new Error("Worker module "+s+": not found or its 'init' did not return a function"));try{var u=(a=t[s]).value.apply(a,l);u&&typeof u.then=="function"?u.then(c,function(f){return o(f instanceof Error?f:new Error(""+f))}):c(u)}catch(f){o(f)}function c(f){try{var h=t[s].getTransferables&&t[s].getTransferables(f);(!h||!Array.isArray(h)||!h.length)&&(h=void 0),o(f,h)}catch(g){console.error(g),o(g)}}}function r(i,o){var a=void 0;self.troikaDefine=function(l){return a=l};var s=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+o+`
)`],{type:"application/javascript"}));try{importScripts(s)}catch(l){console.error(l)}return URL.revokeObjectURL(s),delete self.troikaDefine,a}self.addEventListener("message",function(i){var o=i.data,a=o.messageId,s=o.action,l=o.data;try{s==="registerModule"&&e(l,function(u){u instanceof Error?postMessage({messageId:a,success:!1,error:u.message}):postMessage({messageId:a,success:!0,result:{isCallable:typeof u=="function"}})}),s==="callModule"&&n(l,function(u,c){u instanceof Error?postMessage({messageId:a,success:!1,error:u.message}):postMessage({messageId:a,success:!0,result:u},c||void 0)})}catch(u){postMessage({messageId:a,success:!1,error:u.stack})}})}function DDe(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(o){return o&&(o=o.onMainThread||o,o._getInitResult&&(o=o._getInitResult())),o}):[];var i=Promise.all(n).then(function(o){return r.apply(null,o)});return e._getInitResult=function(){return i},i},e}var FV=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return FV=function(){return t},t},NDe=0,kDe=0,$2=!1,Zy=Object.create(null),Jy=Object.create(null),jO=Object.create(null);function qg(t){if((!t||typeof t.init!="function")&&!$2)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId,o=DDe(t);i==null&&(i="#default");var a="workerModule"+ ++NDe,s=t.name||a,l=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&($2=!0,c=qg({workerId:i,name:"<"+s+"> function dependency: "+c.name,init:`function(){return (
`+Hb(c)+`
)}`}),$2=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function u(){for(var c=[],f=arguments.length;f--;)c[f]=arguments[f];if(!FV())return o.apply(void 0,c);if(!l){l=hz(i,"registerModule",u.workerModuleData);var h=function(){l=null,Jy[i].delete(h)};(Jy[i]||(Jy[i]=new Set)).add(h)}return l.then(function(g){var v=g.isCallable;if(v)return hz(i,"callModule",{id:a,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return u.workerModuleData={isWorkerModule:!0,id:a,name:s,dependencies:e,init:Hb(n),getTransferables:r&&Hb(r)},u.onMainThread=o,u}function UDe(t){Jy[t]&&Jy[t].forEach(function(e){e()}),Zy[t]&&(Zy[t].terminate(),delete Zy[t])}function Hb(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function FDe(t){var e=Zy[t];if(!e){var n=Hb(LDe);e=Zy[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,o=i.messageId,a=jO[o];if(!a)throw new Error("WorkerModule response with empty or unknown messageId");delete jO[o],a(i)}}return e}function hz(t,e,n){return new Promise(function(r,i){var o=++kDe;jO[o]=function(a){a.success?r(a.result):i(new Error("Error in worker "+e+" call: "+a.error))},FDe(t).postMessage({messageId:o,action:e,data:n})})}function BV(){var t=function(e){function n(j,X,H,Y,se,re,ie,ge){var de=1-ie;ge.x=de*de*j+2*de*ie*H+ie*ie*se,ge.y=de*de*X+2*de*ie*Y+ie*ie*re}function r(j,X,H,Y,se,re,ie,ge,de,be){var fe=1-de;be.x=fe*fe*fe*j+3*fe*fe*de*H+3*fe*de*de*se+de*de*de*ie,be.y=fe*fe*fe*X+3*fe*fe*de*Y+3*fe*de*de*re+de*de*de*ge}function i(j,X){for(var H=/([MLQCZ])([^MLQCZ]*)/g,Y,se,re,ie,ge;Y=H.exec(j);){var de=Y[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(be){return parseFloat(be)});switch(Y[1]){case"M":ie=se=de[0],ge=re=de[1];break;case"L":(de[0]!==ie||de[1]!==ge)&&X("L",ie,ge,ie=de[0],ge=de[1]);break;case"Q":{X("Q",ie,ge,ie=de[2],ge=de[3],de[0],de[1]);break}case"C":{X("C",ie,ge,ie=de[4],ge=de[5],de[0],de[1],de[2],de[3]);break}case"Z":(ie!==se||ge!==re)&&X("L",ie,ge,se,re);break}}}function o(j,X,H){H===void 0&&(H=16);var Y={x:0,y:0};i(j,function(se,re,ie,ge,de,be,fe,Te,Se){switch(se){case"L":X(re,ie,ge,de);break;case"Q":{for(var ee=re,we=ie,Z=1;Z<H;Z++)n(re,ie,be,fe,ge,de,Z/(H-1),Y),X(ee,we,Y.x,Y.y),ee=Y.x,we=Y.y;break}case"C":{for(var Ie=re,xe=ie,Ne=1;Ne<H;Ne++)r(re,ie,be,fe,Te,Se,ge,de,Ne/(H-1),Y),X(Ie,xe,Y.x,Y.y),Ie=Y.x,xe=Y.y;break}}})}var a="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",s="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function c(j,X){var H=j.getContext?j.getContext("webgl",u):j,Y=l.get(H);if(!Y){let fe=function(Ie){var xe=re[Ie];if(!xe&&(xe=re[Ie]=H.getExtension(Ie),!xe))throw new Error(Ie+" not supported");return xe},Te=function(Ie,xe){var Ne=H.createShader(xe);return H.shaderSource(Ne,Ie),H.compileShader(Ne),Ne},Se=function(Ie,xe,Ne,Ee){if(!ie[Ie]){var Ke={},Ue={},W=H.createProgram();H.attachShader(W,Te(xe,H.VERTEX_SHADER)),H.attachShader(W,Te(Ne,H.FRAGMENT_SHADER)),H.linkProgram(W),ie[Ie]={program:W,transaction:function(ce){H.useProgram(W),ce({setUniform:function(ve,ke){for(var We=[],Be=arguments.length-2;Be-- >0;)We[Be]=arguments[Be+2];var Xe=Ue[ke]||(Ue[ke]=H.getUniformLocation(W,ke));H["uniform"+ve].apply(H,[Xe].concat(We))},setAttribute:function(ve,ke,We,Be,Xe){var ct=Ke[ve];ct||(ct=Ke[ve]={buf:H.createBuffer(),loc:H.getAttribLocation(W,ve),data:null}),H.bindBuffer(H.ARRAY_BUFFER,ct.buf),H.vertexAttribPointer(ct.loc,ke,H.FLOAT,!1,0,0),H.enableVertexAttribArray(ct.loc),se?H.vertexAttribDivisor(ct.loc,Be):fe("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(ct.loc,Be),Xe!==ct.data&&(H.bufferData(H.ARRAY_BUFFER,Xe,We),ct.data=Xe)}})}}}ie[Ie].transaction(Ee)},ee=function(Ie,xe){de++;try{H.activeTexture(H.TEXTURE0+de);var Ne=ge[Ie];Ne||(Ne=ge[Ie]=H.createTexture(),H.bindTexture(H.TEXTURE_2D,Ne),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MIN_FILTER,H.NEAREST),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MAG_FILTER,H.NEAREST)),H.bindTexture(H.TEXTURE_2D,Ne),xe(Ne,de)}finally{de--}},we=function(Ie,xe,Ne){var Ee=H.createFramebuffer();be.push(Ee),H.bindFramebuffer(H.FRAMEBUFFER,Ee),H.activeTexture(H.TEXTURE0+xe),H.bindTexture(H.TEXTURE_2D,Ie),H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,Ie,0);try{Ne(Ee)}finally{H.deleteFramebuffer(Ee),H.bindFramebuffer(H.FRAMEBUFFER,be[--be.length-1]||null)}},Z=function(){re={},ie={},ge={},de=-1,be.length=0};var se=typeof WebGL2RenderingContext<"u"&&H instanceof WebGL2RenderingContext,re={},ie={},ge={},de=-1,be=[];H.canvas.addEventListener("webglcontextlost",function(Ie){Z(),Ie.preventDefault()},!1),l.set(H,Y={gl:H,isWebGL2:se,getExtension:fe,withProgram:Se,withTexture:ee,withTextureFramebuffer:we,handleContextLoss:Z})}X(Y)}function f(j,X,H,Y,se,re,ie,ge){ie===void 0&&(ie=15),ge===void 0&&(ge=null),c(j,function(de){var be=de.gl,fe=de.withProgram,Te=de.withTexture;Te("copy",function(Se,ee){be.texImage2D(be.TEXTURE_2D,0,be.RGBA,se,re,0,be.RGBA,be.UNSIGNED_BYTE,X),fe("copy",a,s,function(we){var Z=we.setUniform,Ie=we.setAttribute;Ie("aUV",2,be.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Z("1i","image",ee),be.bindFramebuffer(be.FRAMEBUFFER,ge||null),be.disable(be.BLEND),be.colorMask(ie&8,ie&4,ie&2,ie&1),be.viewport(H,Y,se,re),be.scissor(H,Y,se,re),be.drawArrays(be.TRIANGLES,0,3)})})})}function h(j,X,H){var Y=j.width,se=j.height;c(j,function(re){var ie=re.gl,ge=new Uint8Array(Y*se*4);ie.readPixels(0,0,Y,se,ie.RGBA,ie.UNSIGNED_BYTE,ge),j.width=X,j.height=H,f(ie,ge,0,0,Y,se)})}var g=Object.freeze({__proto__:null,withWebGLContext:c,renderImageData:f,resizeWebGLCanvasWithoutClearing:h});function v(j,X,H,Y,se,re){re===void 0&&(re=1);var ie=new Uint8Array(j*X),ge=Y[2]-Y[0],de=Y[3]-Y[1],be=[];o(H,function(Ie,xe,Ne,Ee){be.push({x1:Ie,y1:xe,x2:Ne,y2:Ee,minX:Math.min(Ie,Ne),minY:Math.min(xe,Ee),maxX:Math.max(Ie,Ne),maxY:Math.max(xe,Ee)})}),be.sort(function(Ie,xe){return Ie.maxX-xe.maxX});for(var fe=0;fe<j;fe++)for(var Te=0;Te<X;Te++){var Se=we(Y[0]+ge*(fe+.5)/j,Y[1]+de*(Te+.5)/X),ee=Math.pow(1-Math.abs(Se)/se,re)/2;Se<0&&(ee=1-ee),ee=Math.max(0,Math.min(255,Math.round(ee*255))),ie[Te*j+fe]=ee}return ie;function we(Ie,xe){for(var Ne=1/0,Ee=1/0,Ke=be.length;Ke--;){var Ue=be[Ke];if(Ue.maxX+Ee<=Ie)break;if(Ie+Ee>Ue.minX&&xe-Ee<Ue.maxY&&xe+Ee>Ue.minY){var W=_(Ie,xe,Ue.x1,Ue.y1,Ue.x2,Ue.y2);W<Ne&&(Ne=W,Ee=Math.sqrt(Ne))}}return Z(Ie,xe)&&(Ee=-Ee),Ee}function Z(Ie,xe){for(var Ne=0,Ee=be.length;Ee--;){var Ke=be[Ee];if(Ke.maxX<=Ie)break;var Ue=Ke.y1>xe!=Ke.y2>xe&&Ie<(Ke.x2-Ke.x1)*(xe-Ke.y1)/(Ke.y2-Ke.y1)+Ke.x1;Ue&&(Ne+=Ke.y1<Ke.y2?1:-1)}return Ne!==0}}function b(j,X,H,Y,se,re,ie,ge,de,be){re===void 0&&(re=1),ge===void 0&&(ge=0),de===void 0&&(de=0),be===void 0&&(be=0),x(j,X,H,Y,se,re,ie,null,ge,de,be)}function x(j,X,H,Y,se,re,ie,ge,de,be,fe){re===void 0&&(re=1),de===void 0&&(de=0),be===void 0&&(be=0),fe===void 0&&(fe=0);for(var Te=v(j,X,H,Y,se,re),Se=new Uint8Array(Te.length*4),ee=0;ee<Te.length;ee++)Se[ee*4+fe]=Te[ee];f(ie,Se,de,be,j,X,1<<3-fe,ge)}function _(j,X,H,Y,se,re){var ie=se-H,ge=re-Y,de=ie*ie+ge*ge,be=de?Math.max(0,Math.min(1,((j-H)*ie+(X-Y)*ge)/de)):0,fe=j-(H+be*ie),Te=X-(Y+be*ge);return fe*fe+Te*Te}var S=Object.freeze({__proto__:null,generate:v,generateIntoCanvas:b,generateIntoFramebuffer:x}),w="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",E="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",T="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",P=new Float32Array([0,0,2,0,0,2]),I=null,O=!1,C={},L=new WeakMap;function N(j){if(!O&&!K(j))throw new Error("WebGL generation not supported")}function U(j,X,H,Y,se,re,ie){if(re===void 0&&(re=1),ie===void 0&&(ie=null),!ie&&(ie=I,!ie)){var ge=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ge)throw new Error("OffscreenCanvas or DOM canvas not supported");ie=I=ge.getContext("webgl",{depth:!1})}N(ie);var de=new Uint8Array(j*X*4);c(ie,function(Se){var ee=Se.gl,we=Se.withTexture,Z=Se.withTextureFramebuffer;we("readable",function(Ie,xe){ee.texImage2D(ee.TEXTURE_2D,0,ee.RGBA,j,X,0,ee.RGBA,ee.UNSIGNED_BYTE,null),Z(Ie,xe,function(Ne){$(j,X,H,Y,se,re,ee,Ne,0,0,0),ee.readPixels(0,0,j,X,ee.RGBA,ee.UNSIGNED_BYTE,de)})})});for(var be=new Uint8Array(j*X),fe=0,Te=0;fe<de.length;fe+=4)be[Te++]=de[fe];return be}function z(j,X,H,Y,se,re,ie,ge,de,be){re===void 0&&(re=1),ge===void 0&&(ge=0),de===void 0&&(de=0),be===void 0&&(be=0),$(j,X,H,Y,se,re,ie,null,ge,de,be)}function $(j,X,H,Y,se,re,ie,ge,de,be,fe){re===void 0&&(re=1),de===void 0&&(de=0),be===void 0&&(be=0),fe===void 0&&(fe=0),N(ie);var Te=[];o(H,function(Se,ee,we,Z){Te.push(Se,ee,we,Z)}),Te=new Float32Array(Te),c(ie,function(Se){var ee=Se.gl,we=Se.isWebGL2,Z=Se.getExtension,Ie=Se.withProgram,xe=Se.withTexture,Ne=Se.withTextureFramebuffer,Ee=Se.handleContextLoss;if(xe("rawDistances",function(Ke,Ue){(j!==Ke._lastWidth||X!==Ke._lastHeight)&&ee.texImage2D(ee.TEXTURE_2D,0,ee.RGBA,Ke._lastWidth=j,Ke._lastHeight=X,0,ee.RGBA,ee.UNSIGNED_BYTE,null),Ie("main",w,E,function(W){var G=W.setAttribute,ce=W.setUniform,Me=!we&&Z("ANGLE_instanced_arrays"),ve=!we&&Z("EXT_blend_minmax");G("aUV",2,ee.STATIC_DRAW,0,P),G("aLineSegment",4,ee.DYNAMIC_DRAW,1,Te),ce.apply(void 0,["4f","uGlyphBounds"].concat(Y)),ce("1f","uMaxDistance",se),ce("1f","uExponent",re),Ne(Ke,Ue,function(ke){ee.enable(ee.BLEND),ee.colorMask(!0,!0,!0,!0),ee.viewport(0,0,j,X),ee.scissor(0,0,j,X),ee.blendFunc(ee.ONE,ee.ONE),ee.blendEquationSeparate(ee.FUNC_ADD,we?ee.MAX:ve.MAX_EXT),ee.clear(ee.COLOR_BUFFER_BIT),we?ee.drawArraysInstanced(ee.TRIANGLES,0,3,Te.length/4):Me.drawArraysInstancedANGLE(ee.TRIANGLES,0,3,Te.length/4)})}),Ie("post",a,T,function(W){W.setAttribute("aUV",2,ee.STATIC_DRAW,0,P),W.setUniform("1i","tex",Ue),ee.bindFramebuffer(ee.FRAMEBUFFER,ge),ee.disable(ee.BLEND),ee.colorMask(fe===0,fe===1,fe===2,fe===3),ee.viewport(de,be,j,X),ee.scissor(de,be,j,X),ee.drawArrays(ee.TRIANGLES,0,3)})}),ee.isContextLost())throw Ee(),new Error("webgl context lost")})}function K(j){var X=!j||j===I?C:j.canvas||j,H=L.get(X);if(H===void 0){O=!0;var Y=null;try{var se=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],re=U(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,j);H=re&&se.length===re.length&&re.every(function(ie,ge){return ie===se[ge]}),H||(Y="bad trial run results",console.info(se,re))}catch(ie){H=!1,Y=ie.message}Y&&console.warn("WebGL SDF generation not supported:",Y),O=!1,L.set(X,H)}return H}var q=Object.freeze({__proto__:null,generate:U,generateIntoCanvas:z,generateIntoFramebuffer:$,isSupported:K});function Q(j,X,H,Y,se,re){se===void 0&&(se=Math.max(Y[2]-Y[0],Y[3]-Y[1])/2),re===void 0&&(re=1);try{return U.apply(q,arguments)}catch(ie){return console.info("WebGL SDF generation failed, falling back to JS",ie),v.apply(S,arguments)}}function F(j,X,H,Y,se,re,ie,ge,de,be){se===void 0&&(se=Math.max(Y[2]-Y[0],Y[3]-Y[1])/2),re===void 0&&(re=1),ge===void 0&&(ge=0),de===void 0&&(de=0),be===void 0&&(be=0);try{return z.apply(q,arguments)}catch(fe){return console.info("WebGL SDF generation failed, falling back to JS",fe),b.apply(S,arguments)}}return e.forEachPathCommand=i,e.generate=Q,e.generateIntoCanvas=F,e.javascript=S,e.pathToLineSegments=o,e.webgl=q,e.webglUtils=g,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function BDe(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(Ee,Ke){r[Ee]=1<<Ke+1,i[r[Ee]]=Ee}),Object.freeze(r);var o=r.LRI|r.RLI|r.FSI,a=r.L|r.R|r.AL,s=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,u=r.S|r.WS|r.B|o|r.PDI|l,c=null;function f(){if(!c){c=new Map;var Ee=function(Ue){if(n.hasOwnProperty(Ue)){var W=0;n[Ue].split(",").forEach(function(G){var ce=G.split("+"),Me=ce[0],ve=ce[1];Me=parseInt(Me,36),ve=ve?parseInt(ve,36):0,c.set(W+=Me,r[Ue]);for(var ke=0;ke<ve;ke++)c.set(++W,r[Ue])})}};for(var Ke in n)Ee(Ke)}}function h(Ee){return f(),c.get(Ee.codePointAt(0))||r.L}function g(Ee){return i[h(Ee)]}var v={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function b(Ee,Ke){var Ue=36,W=0,G=new Map,ce=Ke&&new Map,Me;return Ee.split(",").forEach(function ve(ke){if(ke.indexOf("+")!==-1)for(var We=+ke;We--;)ve(Me);else{Me=ke;var Be=ke.split(">"),Xe=Be[0],ct=Be[1];Xe=String.fromCodePoint(W+=parseInt(Xe,Ue)),ct=String.fromCodePoint(W+=parseInt(ct,Ue)),G.set(Xe,ct),Ke&&ce.set(ct,Xe)}}),{map:G,reverseMap:ce}}var x,_,S;function w(){if(!x){var Ee=b(v.pairs,!0),Ke=Ee.map,Ue=Ee.reverseMap;x=Ke,_=Ue,S=b(v.canonical,!1).map}}function E(Ee){return w(),x.get(Ee)||null}function T(Ee){return w(),_.get(Ee)||null}function P(Ee){return w(),S.get(Ee)||null}var I=r.L,O=r.R,C=r.EN,L=r.ES,N=r.ET,U=r.AN,z=r.CS,$=r.B,K=r.S,q=r.ON,Q=r.BN,F=r.NSM,j=r.AL,X=r.LRO,H=r.RLO,Y=r.LRE,se=r.RLE,re=r.PDF,ie=r.LRI,ge=r.RLI,de=r.FSI,be=r.PDI;function fe(Ee,Ke){for(var Ue=125,W=new Uint32Array(Ee.length),G=0;G<Ee.length;G++)W[G]=h(Ee[G]);var ce=new Map;function Me(Yr,Ri){var br=W[Yr];W[Yr]=Ri,ce.set(br,ce.get(br)-1),br&s&&ce.set(s,ce.get(s)-1),ce.set(Ri,(ce.get(Ri)||0)+1),Ri&s&&ce.set(s,(ce.get(s)||0)+1)}for(var ve=new Uint8Array(Ee.length),ke=new Map,We=[],Be=null,Xe=0;Xe<Ee.length;Xe++)Be||We.push(Be={start:Xe,end:Ee.length-1,level:Ke==="rtl"?1:Ke==="ltr"?0:lu(Xe,!1)}),W[Xe]&$&&(Be.end=Xe,Be=null);for(var ct=se|Y|H|X|o|be|re|$,qe=function(Yr){return Yr+(Yr&1?1:2)},ot=function(Yr){return Yr+(Yr&1?2:1)},ut=0;ut<We.length;ut++){Be=We[ut];var at=[{_level:Be.level,_override:0,_isolate:0}],Ze=void 0,me=0,Fe=0,pt=0;ce.clear();for(var he=Be.start;he<=Be.end;he++){var He=W[he];if(Ze=at[at.length-1],ce.set(He,(ce.get(He)||0)+1),He&s&&ce.set(s,(ce.get(s)||0)+1),He&ct)if(He&(se|Y)){ve[he]=Ze._level;var Le=(He===se?ot:qe)(Ze._level);Le<=Ue&&!me&&!Fe?at.push({_level:Le,_override:0,_isolate:0}):me||Fe++}else if(He&(H|X)){ve[he]=Ze._level;var Je=(He===H?ot:qe)(Ze._level);Je<=Ue&&!me&&!Fe?at.push({_level:Je,_override:He&H?O:I,_isolate:0}):me||Fe++}else if(He&o){He&de&&(He=lu(he+1,!0)===1?ge:ie),ve[he]=Ze._level,Ze._override&&Me(he,Ze._override);var st=(He===ge?ot:qe)(Ze._level);st<=Ue&&me===0&&Fe===0?(pt++,at.push({_level:st,_override:0,_isolate:1,_isolInitIndex:he})):me++}else if(He&be){if(me>0)me--;else if(pt>0){for(Fe=0;!at[at.length-1]._isolate;)at.pop();var nt=at[at.length-1]._isolInitIndex;nt!=null&&(ke.set(nt,he),ke.set(he,nt)),at.pop(),pt--}Ze=at[at.length-1],ve[he]=Ze._level,Ze._override&&Me(he,Ze._override)}else He&re?(me===0&&(Fe>0?Fe--:!Ze._isolate&&at.length>1&&(at.pop(),Ze=at[at.length-1])),ve[he]=Ze._level):He&$&&(ve[he]=Be.level);else ve[he]=Ze._level,Ze._override&&He!==Q&&Me(he,Ze._override)}for(var vt=[],It=null,Et=Be.start;Et<=Be.end;Et++){var Rt=W[Et];if(!(Rt&l)){var Mn=ve[Et],Cn=Rt&o,Zn=Rt===be;It&&Mn===It._level?(It._end=Et,It._endsWithIsolInit=Cn):vt.push(It={_start:Et,_end:Et,_level:Mn,_startsWithPDI:Zn,_endsWithIsolInit:Cn})}}for(var Ti=[],Ar=0;Ar<vt.length;Ar++){var gi=vt[Ar];if(!gi._startsWithPDI||gi._startsWithPDI&&!ke.has(gi._start)){for(var To=[It=gi],Pi=void 0;It&&It._endsWithIsolInit&&(Pi=ke.get(It._end))!=null;)for(var Ci=Ar+1;Ci<vt.length;Ci++)if(vt[Ci]._start===Pi){To.push(It=vt[Ci]);break}for(var Ur=[],co=0;co<To.length;co++)for(var iu=To[co],xl=iu._start;xl<=iu._end;xl++)Ur.push(xl);for(var vc=ve[Ur[0]],yc=Be.level,Ds=Ur[0]-1;Ds>=0;Ds--)if(!(W[Ds]&l)){yc=ve[Ds];break}var te=Ur[Ur.length-1],Ce=ve[te],je=Be.level;if(!(W[te]&o)){for(var ze=te+1;ze<=Be.end;ze++)if(!(W[ze]&l)){je=ve[ze];break}}Ti.push({_seqIndices:Ur,_sosType:Math.max(yc,vc)%2?O:I,_eosType:Math.max(je,Ce)%2?O:I})}}for(var Pe=0;Pe<Ti.length;Pe++){var ft=Ti[Pe],Ve=ft._seqIndices,wt=ft._sosType,Pt=ft._eosType,Bt=ve[Ve[0]]&1?O:I;if(ce.get(F))for(var Gt=0;Gt<Ve.length;Gt++){var At=Ve[Gt];if(W[At]&F){for(var en=wt,fn=Gt-1;fn>=0;fn--)if(!(W[Ve[fn]]&l)){en=W[Ve[fn]];break}Me(At,en&(o|be)?q:en)}}if(ce.get(C))for(var Ft=0;Ft<Ve.length;Ft++){var tn=Ve[Ft];if(W[tn]&C)for(var nn=Ft-1;nn>=-1;nn--){var gt=nn===-1?wt:W[Ve[nn]];if(gt&a){gt===j&&Me(tn,U);break}}}if(ce.get(j))for(var jn=0;jn<Ve.length;jn++){var sn=Ve[jn];W[sn]&j&&Me(sn,O)}if(ce.get(L)||ce.get(z))for(var Jn=1;Jn<Ve.length-1;Jn++){var nr=Ve[Jn];if(W[nr]&(L|z)){for(var Qn=0,qi=0,On=Jn-1;On>=0&&(Qn=W[Ve[On]],!!(Qn&l));On--);for(var Xr=Jn+1;Xr<Ve.length&&(qi=W[Ve[Xr]],!!(qi&l));Xr++);Qn===qi&&(W[nr]===L?Qn===C:Qn&(C|U))&&Me(nr,Qn)}}if(ce.get(C))for(var Fr=0;Fr<Ve.length;Fr++){var Xn=Ve[Fr];if(W[Xn]&C){for(var vi=Fr-1;vi>=0&&W[Ve[vi]]&(N|l);vi--)Me(Ve[vi],C);for(Fr++;Fr<Ve.length&&W[Ve[Fr]]&(N|l|C);Fr++)W[Ve[Fr]]!==C&&Me(Ve[Fr],C)}}if(ce.get(N)||ce.get(L)||ce.get(z))for(var Oi=0;Oi<Ve.length;Oi++){var bl=Ve[Oi];if(W[bl]&(N|L|z)){Me(bl,q);for(var Sa=Oi-1;Sa>=0&&W[Ve[Sa]]&l;Sa--)Me(Ve[Sa],q);for(var wa=Oi+1;wa<Ve.length&&W[Ve[wa]]&l;wa++)Me(Ve[wa],q)}}if(ce.get(C))for(var fo=0,Sl=wt;fo<Ve.length;fo++){var $f=Ve[fo],Hf=W[$f];Hf&C?Sl===I&&Me($f,I):Hf&a&&(Sl=Hf)}if(ce.get(s)){var es=O|C|U,ou=es|I,Ma=[];{for(var Ns=[],ts=0;ts<Ve.length;ts++)if(W[Ve[ts]]&s){var bn=Ee[Ve[ts]],Gf=void 0;if(E(bn)!==null)if(Ns.length<63)Ns.push({char:bn,seqIndex:ts});else break;else if((Gf=T(bn))!==null)for(var ns=Ns.length-1;ns>=0;ns--){var _c=Ns[ns].char;if(_c===Gf||_c===T(P(bn))||E(P(_c))===bn){Ma.push([Ns[ns].seqIndex,ts]),Ns.length=ns;break}}}Ma.sort(function(Yr,Ri){return Yr[0]-Ri[0]})}for(var Wf=0;Wf<Ma.length;Wf++){for(var Qd=Ma[Wf],fr=Qd[0],ks=Qd[1],ep=!1,Yi=0,Vf=fr+1;Vf<ks;Vf++){var au=Ve[Vf];if(W[au]&ou){ep=!0;var Po=W[au]&es?O:I;if(Po===Bt){Yi=Po;break}}}if(ep&&!Yi){Yi=wt;for(var $n=fr-1;$n>=0;$n--){var Hn=Ve[$n];if(W[Hn]&ou){var Co=W[Hn]&es?O:I;Co!==Bt?Yi=Co:Yi=Bt;break}}}if(Yi){if(W[Ve[fr]]=W[Ve[ks]]=Yi,Yi!==Bt){for(var Ki=fr+1;Ki<Ve.length;Ki++)if(!(W[Ve[Ki]]&l)){h(Ee[Ve[Ki]])&F&&(W[Ve[Ki]]=Yi);break}}if(Yi!==Bt){for(var rs=ks+1;rs<Ve.length;rs++)if(!(W[Ve[rs]]&l)){h(Ee[Ve[rs]])&F&&(W[Ve[rs]]=Yi);break}}}}for(var ta=0;ta<Ve.length;ta++)if(W[Ve[ta]]&s){for(var Xf=ta,qf=ta,Zi=wt,su=ta-1;su>=0;su--)if(W[Ve[su]]&l)Xf=su;else{Zi=W[Ve[su]]&es?O:I;break}for(var hr=Pt,Us=ta+1;Us<Ve.length;Us++)if(W[Ve[Us]]&(s|l))qf=Us;else{hr=W[Ve[Us]]&es?O:I;break}for(var Tr=Xf;Tr<=qf;Tr++)W[Ve[Tr]]=Zi===hr?Zi:Bt;ta=qf}}}for(var qr=Be.start;qr<=Be.end;qr++){var wl=ve[qr],xr=W[qr];if(wl&1?xr&(I|C|U)&&ve[qr]++:xr&O?ve[qr]++:xr&(U|C)&&(ve[qr]+=2),xr&l&&(ve[qr]=qr===0?Be.level:ve[qr-1]),qr===Be.end||h(Ee[qr])&(K|$))for(var Fs=qr;Fs>=0&&h(Ee[Fs])&u;Fs--)ve[Fs]=Be.level}}return{levels:ve,paragraphs:We};function lu(Yr,Ri){for(var br=Yr;br<Ee.length;br++){var Rn=W[br];if(Rn&(O|j))return 1;if(Rn&($|I)||Ri&&Rn===be)return 0;if(Rn&o){var Oo=Yf(br);br=Oo===-1?Ee.length:Oo}}return 0}function Yf(Yr){for(var Ri=1,br=Yr+1;br<Ee.length;br++){var Rn=W[br];if(Rn&$)break;if(Rn&be){if(--Ri===0)return br}else Rn&o&&Ri++}return-1}}var Te="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",Se;function ee(){if(!Se){var Ee=b(Te,!0),Ke=Ee.map,Ue=Ee.reverseMap;Ue.forEach(function(W,G){Ke.set(G,W)}),Se=Ke}}function we(Ee){return ee(),Se.get(Ee)||null}function Z(Ee,Ke,Ue,W){var G=Ee.length;Ue=Math.max(0,Ue==null?0:+Ue),W=Math.min(G-1,W==null?G-1:+W);for(var ce=new Map,Me=Ue;Me<=W;Me++)if(Ke[Me]&1){var ve=we(Ee[Me]);ve!==null&&ce.set(Me,ve)}return ce}function Ie(Ee,Ke,Ue,W){var G=Ee.length;Ue=Math.max(0,Ue==null?0:+Ue),W=Math.min(G-1,W==null?G-1:+W);var ce=[];return Ke.paragraphs.forEach(function(Me){var ve=Math.max(Ue,Me.start),ke=Math.min(W,Me.end);if(ve<ke){for(var We=Ke.levels.slice(ve,ke+1),Be=ke;Be>=ve&&h(Ee[Be])&u;Be--)We[Be]=Me.level;for(var Xe=Me.level,ct=1/0,qe=0;qe<We.length;qe++){var ot=We[qe];ot>Xe&&(Xe=ot),ot<ct&&(ct=ot|1)}for(var ut=Xe;ut>=ct;ut--)for(var at=0;at<We.length;at++)if(We[at]>=ut){for(var Ze=at;at+1<We.length&&We[at+1]>=ut;)at++;at>Ze&&ce.push([Ze+ve,at+ve])}}}),ce}function xe(Ee,Ke,Ue,W){var G=Ne(Ee,Ke,Ue,W),ce=[].concat(Ee);return G.forEach(function(Me,ve){ce[ve]=(Ke.levels[Me]&1?we(Ee[Me]):null)||Ee[Me]}),ce.join("")}function Ne(Ee,Ke,Ue,W){for(var G=Ie(Ee,Ke,Ue,W),ce=[],Me=0;Me<Ee.length;Me++)ce[Me]=Me;return G.forEach(function(ve){for(var ke=ve[0],We=ve[1],Be=ce.slice(ke,We+1),Xe=Be.length;Xe--;)ce[We-Xe]=Be[Xe]}),ce}return e.closingToOpeningBracket=T,e.getBidiCharType=h,e.getBidiCharTypeName=g,e.getCanonicalBracket=P,e.getEmbeddingLevels=fe,e.getMirroredCharacter=we,e.getMirroredCharactersMap=Z,e.getReorderSegments=Ie,e.getReorderedIndices=Ne,e.getReorderedString=xe,e.openingToClosingBracket=E,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const zV=/\bvoid\s+main\s*\(\s*\)\s*{/g;function $O(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let o=mn[i];return o?$O(o):r}return t.replace(e,n)}const to=[];for(let t=0;t<256;t++)to[t]=(t<16?"0":"")+t.toString(16);function zDe(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(to[t&255]+to[t>>8&255]+to[t>>16&255]+to[t>>24&255]+"-"+to[e&255]+to[e>>8&255]+"-"+to[e>>16&15|64]+to[e>>24&255]+"-"+to[n&63|128]+to[n>>8&255]+"-"+to[n>>16&255]+to[n>>24&255]+to[r&255]+to[r>>8&255]+to[r>>16&255]+to[r>>24&255]).toUpperCase()}const Hh=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},jDe=Date.now(),dz=new WeakMap,pz=new Map;let $De=1e10;function HO(t,e){const n=VDe(e);let r=dz.get(t);if(r||dz.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,o=function(u,c){t.onBeforeCompile.call(this,u,c);const f=this.customProgramCacheKey()+"|"+u.vertexShader+"|"+u.fragmentShader;let h=pz[f];if(!h){const g=HDe(this,u,e,n);h=pz[f]=g}u.vertexShader=h.vertexShader,u.fragmentShader=h.fragmentShader,Hh(u.uniforms,this.uniforms),e.timeUniform&&(u.uniforms[e.timeUniform]={get value(){return Date.now()-jDe}}),this[i]&&this[i](u)},a=function(){return s(e.chained?t:t.clone())},s=function(u){const c=Object.create(u,l);return Object.defineProperty(c,"baseMaterial",{value:t}),Object.defineProperty(c,"id",{value:$De++}),c.uuid=zDe(),c.uniforms=Hh({},u.uniforms,e.uniforms),c.defines=Hh({},u.defines,e.defines),c.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",c.extensions=Hh({},u.extensions,e.extensions),c._listeners=void 0,c},l={constructor:{value:a},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:u=>{t.type=u}},isDerivedFrom:{writable:!0,configurable:!0,value:function(u){const c=this.baseMaterial;return u===c||c.isDerivedMaterial&&c.isDerivedFrom(u)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return o},set(u){this[i]=u}},copy:{writable:!0,configurable:!0,value:function(u){return t.copy.call(this,u),!t.isShaderMaterial&&!t.isDerivedMaterial&&(Hh(this.extensions,u.extensions),Hh(this.defines,u.defines),Hh(this.uniforms,g3.clone(u.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const u=new t.constructor;return s(u).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let u=this._depthMaterial;return u||(u=this._depthMaterial=HO(t.isDerivedMaterial?t.getDepthMaterial():new zE({depthPacking:c3}),e),u.defines.IS_DEPTH_MATERIAL="",u.uniforms=this.uniforms),u}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let u=this._distanceMaterial;return u||(u=this._distanceMaterial=HO(t.isDerivedMaterial?t.getDistanceMaterial():new jE,e),u.defines.IS_DISTANCE_MATERIAL="",u.uniforms=this.uniforms),u}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:u,_distanceMaterial:c}=this;u&&u.dispose(),c&&c.dispose(),t.dispose.call(this)}}};return r[n]=a,new a}function HDe(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:o,vertexMainIntro:a,vertexMainOutro:s,vertexTransform:l,fragmentDefs:u,fragmentMainIntro:c,fragmentMainOutro:f,fragmentColorTransform:h,customRewriter:g,timeUniform:v}=r;if(o=o||"",a=a||"",s=s||"",u=u||"",c=c||"",f=f||"",(l||g)&&(e=$O(e)),(h||g)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=$O(n)),g){let b=g({vertexShader:e,fragmentShader:n});e=b.vertexShader,n=b.fragmentShader}if(h){let b=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,x=>(b.push(x),"")),f=`${h}
${b.join(`
`)}
${f}`}if(v){const b=`
uniform float ${v};
`;o=b+o,u=b+u}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,o=`${o}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,a=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${a}
`,e=e.replace(/\b(position|normal|uv)\b/g,(b,x,_,S)=>/\battribute\s+vec[23]\s+$/.test(S.substr(0,_))?x:`troika_${x}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=mz(e,i,o,a,s),n=mz(n,i,u,c,f),{vertexShader:e,fragmentShader:n}}function mz(t,e,n,r,i){return(r||i||n)&&(t=t.replace(zV,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function GDe(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let WDe=0;const gz=new Map;function VDe(t){const e=JSON.stringify(t,GDe);let n=gz.get(e);return n==null&&gz.set(e,n=++WDe),n}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function XDe(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var o=e._bin,a=new Uint8Array(i);if(o.readASCII(a,0,4)=="ttcf"){var s=4;o.readUshort(a,s),s+=2,o.readUshort(a,s),s+=2;var l=o.readUint(a,s);s+=4;for(var u=[],c=0;c<l;c++){var f=o.readUint(a,s);s+=4,u.push(e._readFont(a,f))}return u}return[e._readFont(a,0)]},_readFont:function(i,o){var a=e._bin,s=o;a.readFixed(i,o),o+=4;var l=a.readUshort(i,o);o+=2,a.readUshort(i,o),o+=2,a.readUshort(i,o),o+=2,a.readUshort(i,o),o+=2;for(var u=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],c={_data:i,_offset:s},f={},h=0;h<l;h++){var g=a.readASCII(i,o,4);o+=4,a.readUint(i,o),o+=4;var v=a.readUint(i,o);o+=4;var b=a.readUint(i,o);o+=4,f[g]={offset:v,length:b}}for(h=0;h<u.length;h++){var x=u[h];f[x]&&(c[x.trim()]=e[x.trim()].parse(i,f[x].offset,f[x].length,c))}return c},_tabOffset:function(i,o,a){for(var s=e._bin,l=s.readUshort(i,a+4),u=a+12,c=0;c<l;c++){var f=s.readASCII(i,u,4);u+=4,s.readUint(i,u),u+=4;var h=s.readUint(i,u);if(u+=4,s.readUint(i,u),u+=4,f==o)return h}return 0}};e._bin={readFixed:function(i,o){return(i[o]<<8|i[o+1])+(i[o+2]<<8|i[o+3])/65540},readF2dot14:function(i,o){return e._bin.readShort(i,o)/16384},readInt:function(i,o){return e._bin._view(i).getInt32(o)},readInt8:function(i,o){return e._bin._view(i).getInt8(o)},readShort:function(i,o){return e._bin._view(i).getInt16(o)},readUshort:function(i,o){return e._bin._view(i).getUint16(o)},readUshorts:function(i,o,a){for(var s=[],l=0;l<a;l++)s.push(e._bin.readUshort(i,o+2*l));return s},readUint:function(i,o){return e._bin._view(i).getUint32(o)},readUint64:function(i,o){return 4294967296*e._bin.readUint(i,o)+e._bin.readUint(i,o+4)},readASCII:function(i,o,a){for(var s="",l=0;l<a;l++)s+=String.fromCharCode(i[o+l]);return s},readUnicode:function(i,o,a){for(var s="",l=0;l<a;l++){var u=i[o++]<<8|i[o++];s+=String.fromCharCode(u)}return s},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,o,a){var s=e._bin._tdec;return s&&o==0&&a==i.length?s.decode(i):e._bin.readASCII(i,o,a)},readBytes:function(i,o,a){for(var s=[],l=0;l<a;l++)s.push(i[o+l]);return s},readASCIIArray:function(i,o,a){for(var s=[],l=0;l<a;l++)s.push(String.fromCharCode(i[o+l]));return s},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,o,a,s,l){var u=e._bin,c={},f=o;u.readFixed(i,o),o+=4;var h=u.readUshort(i,o);o+=2;var g=u.readUshort(i,o);o+=2;var v=u.readUshort(i,o);return o+=2,c.scriptList=e._lctf.readScriptList(i,f+h),c.featureList=e._lctf.readFeatureList(i,f+g),c.lookupList=e._lctf.readLookupList(i,f+v,l),c},e._lctf.readLookupList=function(i,o,a){var s=e._bin,l=o,u=[],c=s.readUshort(i,o);o+=2;for(var f=0;f<c;f++){var h=s.readUshort(i,o);o+=2;var g=e._lctf.readLookupTable(i,l+h,a);u.push(g)}return u},e._lctf.readLookupTable=function(i,o,a){var s=e._bin,l=o,u={tabs:[]};u.ltype=s.readUshort(i,o),o+=2,u.flag=s.readUshort(i,o),o+=2;var c=s.readUshort(i,o);o+=2;for(var f=u.ltype,h=0;h<c;h++){var g=s.readUshort(i,o);o+=2;var v=a(i,f,l+g,u);u.tabs.push(v)}return u},e._lctf.numOfOnes=function(i){for(var o=0,a=0;a<32;a++)i>>>a&1&&o++;return o},e._lctf.readClassDef=function(i,o){var a=e._bin,s=[],l=a.readUshort(i,o);if(o+=2,l==1){var u=a.readUshort(i,o);o+=2;var c=a.readUshort(i,o);o+=2;for(var f=0;f<c;f++)s.push(u+f),s.push(u+f),s.push(a.readUshort(i,o)),o+=2}if(l==2){var h=a.readUshort(i,o);for(o+=2,f=0;f<h;f++)s.push(a.readUshort(i,o)),o+=2,s.push(a.readUshort(i,o)),o+=2,s.push(a.readUshort(i,o)),o+=2}return s},e._lctf.getInterval=function(i,o){for(var a=0;a<i.length;a+=3){var s=i[a],l=i[a+1];if(i[a+2],s<=o&&o<=l)return a}return-1},e._lctf.readCoverage=function(i,o){var a=e._bin,s={};s.fmt=a.readUshort(i,o),o+=2;var l=a.readUshort(i,o);return o+=2,s.fmt==1&&(s.tab=a.readUshorts(i,o,l)),s.fmt==2&&(s.tab=a.readUshorts(i,o,3*l)),s},e._lctf.coverageIndex=function(i,o){var a=i.tab;if(i.fmt==1)return a.indexOf(o);if(i.fmt==2){var s=e._lctf.getInterval(a,o);if(s!=-1)return a[s+2]+(o-a[s])}return-1},e._lctf.readFeatureList=function(i,o){var a=e._bin,s=o,l=[],u=a.readUshort(i,o);o+=2;for(var c=0;c<u;c++){var f=a.readASCII(i,o,4);o+=4;var h=a.readUshort(i,o);o+=2;var g=e._lctf.readFeatureTable(i,s+h);g.tag=f.trim(),l.push(g)}return l},e._lctf.readFeatureTable=function(i,o){var a=e._bin,s=o,l={},u=a.readUshort(i,o);o+=2,u>0&&(l.featureParams=s+u);var c=a.readUshort(i,o);o+=2,l.tab=[];for(var f=0;f<c;f++)l.tab.push(a.readUshort(i,o+2*f));return l},e._lctf.readScriptList=function(i,o){var a=e._bin,s=o,l={},u=a.readUshort(i,o);o+=2;for(var c=0;c<u;c++){var f=a.readASCII(i,o,4);o+=4;var h=a.readUshort(i,o);o+=2,l[f.trim()]=e._lctf.readScriptTable(i,s+h)}return l},e._lctf.readScriptTable=function(i,o){var a=e._bin,s=o,l={},u=a.readUshort(i,o);o+=2,u>0&&(l.default=e._lctf.readLangSysTable(i,s+u));var c=a.readUshort(i,o);o+=2;for(var f=0;f<c;f++){var h=a.readASCII(i,o,4);o+=4;var g=a.readUshort(i,o);o+=2,l[h.trim()]=e._lctf.readLangSysTable(i,s+g)}return l},e._lctf.readLangSysTable=function(i,o){var a=e._bin,s={};a.readUshort(i,o),o+=2,s.reqFeature=a.readUshort(i,o),o+=2;var l=a.readUshort(i,o);return o+=2,s.features=a.readUshorts(i,o,l),s},e.CFF={},e.CFF.parse=function(i,o,a){var s=e._bin;(i=new Uint8Array(i.buffer,o,a))[o=0],i[++o],i[++o],i[++o],o++;var l=[];o=e.CFF.readIndex(i,o,l);for(var u=[],c=0;c<l.length-1;c++)u.push(s.readASCII(i,o+l[c],l[c+1]-l[c]));o+=l[l.length-1];var f=[];o=e.CFF.readIndex(i,o,f);var h=[];for(c=0;c<f.length-1;c++)h.push(e.CFF.readDict(i,o+f[c],o+f[c+1]));o+=f[f.length-1];var g=h[0],v=[];o=e.CFF.readIndex(i,o,v);var b=[];for(c=0;c<v.length-1;c++)b.push(s.readASCII(i,o+v[c],v[c+1]-v[c]));if(o+=v[v.length-1],e.CFF.readSubrs(i,o,g),g.CharStrings){o=g.CharStrings,v=[],o=e.CFF.readIndex(i,o,v);var x=[];for(c=0;c<v.length-1;c++)x.push(s.readBytes(i,o+v[c],v[c+1]-v[c]));g.CharStrings=x}if(g.ROS){o=g.FDArray;var _=[];for(o=e.CFF.readIndex(i,o,_),g.FDArray=[],c=0;c<_.length-1;c++){var S=e.CFF.readDict(i,o+_[c],o+_[c+1]);e.CFF._readFDict(i,S,b),g.FDArray.push(S)}o+=_[_.length-1],o=g.FDSelect,g.FDSelect=[];var w=i[o];if(o++,w!=3)throw w;var E=s.readUshort(i,o);for(o+=2,c=0;c<E+1;c++)g.FDSelect.push(s.readUshort(i,o),i[o+2]),o+=3}return g.Encoding&&(g.Encoding=e.CFF.readEncoding(i,g.Encoding,g.CharStrings.length)),g.charset&&(g.charset=e.CFF.readCharset(i,g.charset,g.CharStrings.length)),e.CFF._readFDict(i,g,b),g},e.CFF._readFDict=function(i,o,a){var s;for(var l in o.Private&&(s=o.Private[1],o.Private=e.CFF.readDict(i,s,s+o.Private[0]),o.Private.Subrs&&e.CFF.readSubrs(i,s+o.Private.Subrs,o.Private)),o)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(o[l]=a[o[l]-426+35])},e.CFF.readSubrs=function(i,o,a){var s=e._bin,l=[];o=e.CFF.readIndex(i,o,l);var u,c=l.length;u=c<1240?107:c<33900?1131:32768,a.Bias=u,a.Subrs=[];for(var f=0;f<l.length-1;f++)a.Subrs.push(s.readBytes(i,o+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,o){for(var a=0;a<i.charset.length;a++)if(i.charset[a]==o)return a;return-1},e.CFF.glyphBySE=function(i,o){return o<0||o>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[o])},e.CFF.readEncoding=function(i,o,a){e._bin;var s=[".notdef"],l=i[o];if(o++,l!=0)throw"error: unknown encoding format: "+l;var u=i[o];o++;for(var c=0;c<u;c++)s.push(i[o+c]);return s},e.CFF.readCharset=function(i,o,a){var s=e._bin,l=[".notdef"],u=i[o];if(o++,u==0)for(var c=0;c<a;c++){var f=s.readUshort(i,o);o+=2,l.push(f)}else{if(u!=1&&u!=2)throw"error: format: "+u;for(;l.length<a;){f=s.readUshort(i,o),o+=2;var h=0;for(u==1?(h=i[o],o++):(h=s.readUshort(i,o),o+=2),c=0;c<=h;c++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,o,a){var s=e._bin,l=s.readUshort(i,o)+1,u=i[o+=2];if(o++,u==1)for(var c=0;c<l;c++)a.push(i[o+c]);else if(u==2)for(c=0;c<l;c++)a.push(s.readUshort(i,o+2*c));else if(u==3)for(c=0;c<l;c++)a.push(16777215&s.readUint(i,o+3*c-1));else if(l!=1)throw"unsupported offset size: "+u+", count: "+l;return(o+=l*u)-1},e.CFF.getCharString=function(i,o,a){var s=e._bin,l=i[o],u=i[o+1];i[o+2],i[o+3],i[o+4];var c=1,f=null,h=null;l<=20&&(f=l,c=1),l==12&&(f=100*l+u,c=2),21<=l&&l<=27&&(f=l,c=1),l==28&&(h=s.readShort(i,o+1),c=3),29<=l&&l<=31&&(f=l,c=1),32<=l&&l<=246&&(h=l-139,c=1),247<=l&&l<=250&&(h=256*(l-247)+u+108,c=2),251<=l&&l<=254&&(h=256*-(l-251)-u-108,c=2),l==255&&(h=s.readInt(i,o+1)/65535,c=5),a.val=h??"o"+f,a.size=c},e.CFF.readCharString=function(i,o,a){for(var s=o+a,l=e._bin,u=[];o<s;){var c=i[o],f=i[o+1];i[o+2],i[o+3],i[o+4];var h=1,g=null,v=null;c<=20&&(g=c,h=1),c==12&&(g=100*c+f,h=2),c!=19&&c!=20||(g=c,h=2),21<=c&&c<=27&&(g=c,h=1),c==28&&(v=l.readShort(i,o+1),h=3),29<=c&&c<=31&&(g=c,h=1),32<=c&&c<=246&&(v=c-139,h=1),247<=c&&c<=250&&(v=256*(c-247)+f+108,h=2),251<=c&&c<=254&&(v=256*-(c-251)-f-108,h=2),c==255&&(v=l.readInt(i,o+1)/65535,h=5),u.push(v??"o"+g),o+=h}return u},e.CFF.readDict=function(i,o,a){for(var s=e._bin,l={},u=[];o<a;){var c=i[o],f=i[o+1];i[o+2],i[o+3],i[o+4];var h=1,g=null,v=null;if(c==28&&(v=s.readShort(i,o+1),h=3),c==29&&(v=s.readInt(i,o+1),h=5),32<=c&&c<=246&&(v=c-139,h=1),247<=c&&c<=250&&(v=256*(c-247)+f+108,h=2),251<=c&&c<=254&&(v=256*-(c-251)-f-108,h=2),c==255)throw v=s.readInt(i,o+1)/65535,h=5,"unknown number";if(c==30){var b=[];for(h=1;;){var x=i[o+h];h++;var _=x>>4,S=15&x;if(_!=15&&b.push(_),S!=15&&b.push(S),S==15)break}for(var w="",E=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],T=0;T<b.length;T++)w+=E[b[T]];v=parseFloat(w)}c<=21&&(g=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][c],h=1,c==12&&(g=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],h=2)),g!=null?(l[g]=u.length==1?u[0]:u,u=[]):u.push(v),o+=h}return l},e.cmap={},e.cmap.parse=function(i,o,a){i=new Uint8Array(i.buffer,o,a),o=0;var s=e._bin,l={};s.readUshort(i,o),o+=2;var u=s.readUshort(i,o);o+=2;var c=[];l.tables=[];for(var f=0;f<u;f++){var h=s.readUshort(i,o);o+=2;var g=s.readUshort(i,o);o+=2;var v=s.readUint(i,o);o+=4;var b="p"+h+"e"+g,x=c.indexOf(v);if(x==-1){var _;x=l.tables.length,c.push(v);var S=s.readUshort(i,v);S==0?_=e.cmap.parse0(i,v):S==4?_=e.cmap.parse4(i,v):S==6?_=e.cmap.parse6(i,v):S==12?_=e.cmap.parse12(i,v):console.debug("unknown format: "+S,h,g,v),l.tables.push(_)}if(l[b]!=null)throw"multiple tables for one platform+encoding";l[b]=x}return l},e.cmap.parse0=function(i,o){var a=e._bin,s={};s.format=a.readUshort(i,o),o+=2;var l=a.readUshort(i,o);o+=2,a.readUshort(i,o),o+=2,s.map=[];for(var u=0;u<l-6;u++)s.map.push(i[o+u]);return s},e.cmap.parse4=function(i,o){var a=e._bin,s=o,l={};l.format=a.readUshort(i,o),o+=2;var u=a.readUshort(i,o);o+=2,a.readUshort(i,o),o+=2;var c=a.readUshort(i,o);o+=2;var f=c/2;l.searchRange=a.readUshort(i,o),o+=2,l.entrySelector=a.readUshort(i,o),o+=2,l.rangeShift=a.readUshort(i,o),o+=2,l.endCount=a.readUshorts(i,o,f),o+=2*f,o+=2,l.startCount=a.readUshorts(i,o,f),o+=2*f,l.idDelta=[];for(var h=0;h<f;h++)l.idDelta.push(a.readShort(i,o)),o+=2;for(l.idRangeOffset=a.readUshorts(i,o,f),o+=2*f,l.glyphIdArray=[];o<s+u;)l.glyphIdArray.push(a.readUshort(i,o)),o+=2;return l},e.cmap.parse6=function(i,o){var a=e._bin,s={};s.format=a.readUshort(i,o),o+=2,a.readUshort(i,o),o+=2,a.readUshort(i,o),o+=2,s.firstCode=a.readUshort(i,o),o+=2;var l=a.readUshort(i,o);o+=2,s.glyphIdArray=[];for(var u=0;u<l;u++)s.glyphIdArray.push(a.readUshort(i,o)),o+=2;return s},e.cmap.parse12=function(i,o){var a=e._bin,s={};s.format=a.readUshort(i,o),o+=2,o+=2,a.readUint(i,o),o+=4,a.readUint(i,o),o+=4;var l=a.readUint(i,o);o+=4,s.groups=[];for(var u=0;u<l;u++){var c=o+12*u,f=a.readUint(i,c+0),h=a.readUint(i,c+4),g=a.readUint(i,c+8);s.groups.push([f,h,g])}return s},e.glyf={},e.glyf.parse=function(i,o,a,s){for(var l=[],u=0;u<s.maxp.numGlyphs;u++)l.push(null);return l},e.glyf._parseGlyf=function(i,o){var a=e._bin,s=i._data,l=e._tabOffset(s,"glyf",i._offset)+i.loca[o];if(i.loca[o]==i.loca[o+1])return null;var u={};if(u.noc=a.readShort(s,l),l+=2,u.xMin=a.readShort(s,l),l+=2,u.yMin=a.readShort(s,l),l+=2,u.xMax=a.readShort(s,l),l+=2,u.yMax=a.readShort(s,l),l+=2,u.xMin>=u.xMax||u.yMin>=u.yMax)return null;if(u.noc>0){u.endPts=[];for(var c=0;c<u.noc;c++)u.endPts.push(a.readUshort(s,l)),l+=2;var f=a.readUshort(s,l);if(l+=2,s.length-l<f)return null;u.instructions=a.readBytes(s,l,f),l+=f;var h=u.endPts[u.noc-1]+1;for(u.flags=[],c=0;c<h;c++){var g=s[l];if(l++,u.flags.push(g),(8&g)!=0){var v=s[l];l++;for(var b=0;b<v;b++)u.flags.push(g),c++}}for(u.xs=[],c=0;c<h;c++){var x=(2&u.flags[c])!=0,_=(16&u.flags[c])!=0;x?(u.xs.push(_?s[l]:-s[l]),l++):_?u.xs.push(0):(u.xs.push(a.readShort(s,l)),l+=2)}for(u.ys=[],c=0;c<h;c++)x=(4&u.flags[c])!=0,_=(32&u.flags[c])!=0,x?(u.ys.push(_?s[l]:-s[l]),l++):_?u.ys.push(0):(u.ys.push(a.readShort(s,l)),l+=2);var S=0,w=0;for(c=0;c<h;c++)S+=u.xs[c],w+=u.ys[c],u.xs[c]=S,u.ys[c]=w}else{var E;u.parts=[];do{E=a.readUshort(s,l),l+=2;var T={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(u.parts.push(T),T.glyphIndex=a.readUshort(s,l),l+=2,1&E){var P=a.readShort(s,l);l+=2;var I=a.readShort(s,l);l+=2}else P=a.readInt8(s,l),l++,I=a.readInt8(s,l),l++;2&E?(T.m.tx=P,T.m.ty=I):(T.p1=P,T.p2=I),8&E?(T.m.a=T.m.d=a.readF2dot14(s,l),l+=2):64&E?(T.m.a=a.readF2dot14(s,l),l+=2,T.m.d=a.readF2dot14(s,l),l+=2):128&E&&(T.m.a=a.readF2dot14(s,l),l+=2,T.m.b=a.readF2dot14(s,l),l+=2,T.m.c=a.readF2dot14(s,l),l+=2,T.m.d=a.readF2dot14(s,l),l+=2)}while(32&E);if(256&E){var O=a.readUshort(s,l);for(l+=2,u.instr=[],c=0;c<O;c++)u.instr.push(s[l]),l++}}return u},e.GDEF={},e.GDEF.parse=function(i,o,a,s){var l=o;o+=4;var u=e._bin.readUshort(i,o);return{glyphClassDef:u===0?null:e._lctf.readClassDef(i,l+u)}},e.GPOS={},e.GPOS.parse=function(i,o,a,s){return e._lctf.parse(i,o,a,s,e.GPOS.subt)},e.GPOS.subt=function(i,o,a,s){var l=e._bin,u=a,c={};if(c.fmt=l.readUshort(i,a),a+=2,o==1||o==2||o==3||o==7||o==8&&c.fmt<=2){var f=l.readUshort(i,a);a+=2,c.coverage=e._lctf.readCoverage(i,f+u)}if(o==1&&c.fmt==1){var h=l.readUshort(i,a);a+=2,h!=0&&(c.pos=e.GPOS.readValueRecord(i,a,h))}else if(o==2&&c.fmt>=1&&c.fmt<=2){h=l.readUshort(i,a),a+=2;var g=l.readUshort(i,a);a+=2;var v=e._lctf.numOfOnes(h),b=e._lctf.numOfOnes(g);if(c.fmt==1){c.pairsets=[];var x=l.readUshort(i,a);a+=2;for(var _=0;_<x;_++){var S=u+l.readUshort(i,a);a+=2;var w=l.readUshort(i,S);S+=2;for(var E=[],T=0;T<w;T++){var P=l.readUshort(i,S);S+=2,h!=0&&(U=e.GPOS.readValueRecord(i,S,h),S+=2*v),g!=0&&(z=e.GPOS.readValueRecord(i,S,g),S+=2*b),E.push({gid2:P,val1:U,val2:z})}c.pairsets.push(E)}}if(c.fmt==2){var I=l.readUshort(i,a);a+=2;var O=l.readUshort(i,a);a+=2;var C=l.readUshort(i,a);a+=2;var L=l.readUshort(i,a);for(a+=2,c.classDef1=e._lctf.readClassDef(i,u+I),c.classDef2=e._lctf.readClassDef(i,u+O),c.matrix=[],_=0;_<C;_++){var N=[];for(T=0;T<L;T++){var U=null,z=null;h!=0&&(U=e.GPOS.readValueRecord(i,a,h),a+=2*v),g!=0&&(z=e.GPOS.readValueRecord(i,a,g),a+=2*b),N.push({val1:U,val2:z})}c.matrix.push(N)}}}else if(o==4&&c.fmt==1)c.markCoverage=e._lctf.readCoverage(i,l.readUshort(i,a)+u),c.baseCoverage=e._lctf.readCoverage(i,l.readUshort(i,a+2)+u),c.markClassCount=l.readUshort(i,a+4),c.markArray=e.GPOS.readMarkArray(i,l.readUshort(i,a+6)+u),c.baseArray=e.GPOS.readBaseArray(i,l.readUshort(i,a+8)+u,c.markClassCount);else if(o==6&&c.fmt==1)c.mark1Coverage=e._lctf.readCoverage(i,l.readUshort(i,a)+u),c.mark2Coverage=e._lctf.readCoverage(i,l.readUshort(i,a+2)+u),c.markClassCount=l.readUshort(i,a+4),c.mark1Array=e.GPOS.readMarkArray(i,l.readUshort(i,a+6)+u),c.mark2Array=e.GPOS.readBaseArray(i,l.readUshort(i,a+8)+u,c.markClassCount);else{if(o==9&&c.fmt==1){var $=l.readUshort(i,a);a+=2;var K=l.readUint(i,a);if(a+=4,s.ltype==9)s.ltype=$;else if(s.ltype!=$)throw"invalid extension substitution";return e.GPOS.subt(i,s.ltype,u+K)}console.debug("unsupported GPOS table LookupType",o,"format",c.fmt)}return c},e.GPOS.readValueRecord=function(i,o,a){var s=e._bin,l=[];return l.push(1&a?s.readShort(i,o):0),o+=1&a?2:0,l.push(2&a?s.readShort(i,o):0),o+=2&a?2:0,l.push(4&a?s.readShort(i,o):0),o+=4&a?2:0,l.push(8&a?s.readShort(i,o):0),o+=8&a?2:0,l},e.GPOS.readBaseArray=function(i,o,a){var s=e._bin,l=[],u=o,c=s.readUshort(i,o);o+=2;for(var f=0;f<c;f++){for(var h=[],g=0;g<a;g++)h.push(e.GPOS.readAnchorRecord(i,u+s.readUshort(i,o))),o+=2;l.push(h)}return l},e.GPOS.readMarkArray=function(i,o){var a=e._bin,s=[],l=o,u=a.readUshort(i,o);o+=2;for(var c=0;c<u;c++){var f=e.GPOS.readAnchorRecord(i,a.readUshort(i,o+2)+l);f.markClass=a.readUshort(i,o),s.push(f),o+=4}return s},e.GPOS.readAnchorRecord=function(i,o){var a=e._bin,s={};return s.fmt=a.readUshort(i,o),s.x=a.readShort(i,o+2),s.y=a.readShort(i,o+4),s},e.GSUB={},e.GSUB.parse=function(i,o,a,s){return e._lctf.parse(i,o,a,s,e.GSUB.subt)},e.GSUB.subt=function(i,o,a,s){var l=e._bin,u=a,c={};if(c.fmt=l.readUshort(i,a),a+=2,o!=1&&o!=2&&o!=4&&o!=5&&o!=6)return null;if(o==1||o==2||o==4||o==5&&c.fmt<=2||o==6&&c.fmt<=2){var f=l.readUshort(i,a);a+=2,c.coverage=e._lctf.readCoverage(i,u+f)}if(o==1&&c.fmt>=1&&c.fmt<=2){if(c.fmt==1)c.delta=l.readShort(i,a),a+=2;else if(c.fmt==2){var h=l.readUshort(i,a);a+=2,c.newg=l.readUshorts(i,a,h),a+=2*c.newg.length}}else if(o==2&&c.fmt==1){h=l.readUshort(i,a),a+=2,c.seqs=[];for(var g=0;g<h;g++){var v=l.readUshort(i,a)+u;a+=2;var b=l.readUshort(i,v);c.seqs.push(l.readUshorts(i,v+2,b))}}else if(o==4)for(c.vals=[],h=l.readUshort(i,a),a+=2,g=0;g<h;g++){var x=l.readUshort(i,a);a+=2,c.vals.push(e.GSUB.readLigatureSet(i,u+x))}else if(o==5&&c.fmt==2){if(c.fmt==2){var _=l.readUshort(i,a);a+=2,c.cDef=e._lctf.readClassDef(i,u+_),c.scset=[];var S=l.readUshort(i,a);for(a+=2,g=0;g<S;g++){var w=l.readUshort(i,a);a+=2,c.scset.push(w==0?null:e.GSUB.readSubClassSet(i,u+w))}}}else if(o==6&&c.fmt==3){if(c.fmt==3){for(g=0;g<3;g++){h=l.readUshort(i,a),a+=2;for(var E=[],T=0;T<h;T++)E.push(e._lctf.readCoverage(i,u+l.readUshort(i,a+2*T)));a+=2*h,g==0&&(c.backCvg=E),g==1&&(c.inptCvg=E),g==2&&(c.ahedCvg=E)}h=l.readUshort(i,a),a+=2,c.lookupRec=e.GSUB.readSubstLookupRecords(i,a,h)}}else{if(o==7&&c.fmt==1){var P=l.readUshort(i,a);a+=2;var I=l.readUint(i,a);if(a+=4,s.ltype==9)s.ltype=P;else if(s.ltype!=P)throw"invalid extension substitution";return e.GSUB.subt(i,s.ltype,u+I)}console.debug("unsupported GSUB table LookupType",o,"format",c.fmt)}return c},e.GSUB.readSubClassSet=function(i,o){var a=e._bin.readUshort,s=o,l=[],u=a(i,o);o+=2;for(var c=0;c<u;c++){var f=a(i,o);o+=2,l.push(e.GSUB.readSubClassRule(i,s+f))}return l},e.GSUB.readSubClassRule=function(i,o){var a=e._bin.readUshort,s={},l=a(i,o),u=a(i,o+=2);o+=2,s.input=[];for(var c=0;c<l-1;c++)s.input.push(a(i,o)),o+=2;return s.substLookupRecords=e.GSUB.readSubstLookupRecords(i,o,u),s},e.GSUB.readSubstLookupRecords=function(i,o,a){for(var s=e._bin.readUshort,l=[],u=0;u<a;u++)l.push(s(i,o),s(i,o+2)),o+=4;return l},e.GSUB.readChainSubClassSet=function(i,o){var a=e._bin,s=o,l=[],u=a.readUshort(i,o);o+=2;for(var c=0;c<u;c++){var f=a.readUshort(i,o);o+=2,l.push(e.GSUB.readChainSubClassRule(i,s+f))}return l},e.GSUB.readChainSubClassRule=function(i,o){for(var a=e._bin,s={},l=["backtrack","input","lookahead"],u=0;u<l.length;u++){var c=a.readUshort(i,o);o+=2,u==1&&c--,s[l[u]]=a.readUshorts(i,o,c),o+=2*s[l[u]].length}return c=a.readUshort(i,o),o+=2,s.subst=a.readUshorts(i,o,2*c),o+=2*s.subst.length,s},e.GSUB.readLigatureSet=function(i,o){var a=e._bin,s=o,l=[],u=a.readUshort(i,o);o+=2;for(var c=0;c<u;c++){var f=a.readUshort(i,o);o+=2,l.push(e.GSUB.readLigature(i,s+f))}return l},e.GSUB.readLigature=function(i,o){var a=e._bin,s={chain:[]};s.nglyph=a.readUshort(i,o),o+=2;var l=a.readUshort(i,o);o+=2;for(var u=0;u<l-1;u++)s.chain.push(a.readUshort(i,o)),o+=2;return s},e.head={},e.head.parse=function(i,o,a){var s=e._bin,l={};return s.readFixed(i,o),o+=4,l.fontRevision=s.readFixed(i,o),o+=4,s.readUint(i,o),o+=4,s.readUint(i,o),o+=4,l.flags=s.readUshort(i,o),o+=2,l.unitsPerEm=s.readUshort(i,o),o+=2,l.created=s.readUint64(i,o),o+=8,l.modified=s.readUint64(i,o),o+=8,l.xMin=s.readShort(i,o),o+=2,l.yMin=s.readShort(i,o),o+=2,l.xMax=s.readShort(i,o),o+=2,l.yMax=s.readShort(i,o),o+=2,l.macStyle=s.readUshort(i,o),o+=2,l.lowestRecPPEM=s.readUshort(i,o),o+=2,l.fontDirectionHint=s.readShort(i,o),o+=2,l.indexToLocFormat=s.readShort(i,o),o+=2,l.glyphDataFormat=s.readShort(i,o),o+=2,l},e.hhea={},e.hhea.parse=function(i,o,a){var s=e._bin,l={};return s.readFixed(i,o),o+=4,l.ascender=s.readShort(i,o),o+=2,l.descender=s.readShort(i,o),o+=2,l.lineGap=s.readShort(i,o),o+=2,l.advanceWidthMax=s.readUshort(i,o),o+=2,l.minLeftSideBearing=s.readShort(i,o),o+=2,l.minRightSideBearing=s.readShort(i,o),o+=2,l.xMaxExtent=s.readShort(i,o),o+=2,l.caretSlopeRise=s.readShort(i,o),o+=2,l.caretSlopeRun=s.readShort(i,o),o+=2,l.caretOffset=s.readShort(i,o),o+=2,o+=8,l.metricDataFormat=s.readShort(i,o),o+=2,l.numberOfHMetrics=s.readUshort(i,o),o+=2,l},e.hmtx={},e.hmtx.parse=function(i,o,a,s){for(var l=e._bin,u={aWidth:[],lsBearing:[]},c=0,f=0,h=0;h<s.maxp.numGlyphs;h++)h<s.hhea.numberOfHMetrics&&(c=l.readUshort(i,o),o+=2,f=l.readShort(i,o),o+=2),u.aWidth.push(c),u.lsBearing.push(f);return u},e.kern={},e.kern.parse=function(i,o,a,s){var l=e._bin,u=l.readUshort(i,o);if(o+=2,u==1)return e.kern.parseV1(i,o-2,a,s);var c=l.readUshort(i,o);o+=2;for(var f={glyph1:[],rval:[]},h=0;h<c;h++){o+=2,a=l.readUshort(i,o),o+=2;var g=l.readUshort(i,o);o+=2;var v=g>>>8;if((v&=15)!=0)throw"unknown kern table format: "+v;o=e.kern.readFormat0(i,o,f)}return f},e.kern.parseV1=function(i,o,a,s){var l=e._bin;l.readFixed(i,o),o+=4;var u=l.readUint(i,o);o+=4;for(var c={glyph1:[],rval:[]},f=0;f<u;f++){l.readUint(i,o),o+=4;var h=l.readUshort(i,o);o+=2,l.readUshort(i,o),o+=2;var g=h>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;o=e.kern.readFormat0(i,o,c)}return c},e.kern.readFormat0=function(i,o,a){var s=e._bin,l=-1,u=s.readUshort(i,o);o+=2,s.readUshort(i,o),o+=2,s.readUshort(i,o),o+=2,s.readUshort(i,o),o+=2;for(var c=0;c<u;c++){var f=s.readUshort(i,o);o+=2;var h=s.readUshort(i,o);o+=2;var g=s.readShort(i,o);o+=2,f!=l&&(a.glyph1.push(f),a.rval.push({glyph2:[],vals:[]}));var v=a.rval[a.rval.length-1];v.glyph2.push(h),v.vals.push(g),l=f}return o},e.loca={},e.loca.parse=function(i,o,a,s){var l=e._bin,u=[],c=s.head.indexToLocFormat,f=s.maxp.numGlyphs+1;if(c==0)for(var h=0;h<f;h++)u.push(l.readUshort(i,o+(h<<1))<<1);if(c==1)for(h=0;h<f;h++)u.push(l.readUint(i,o+(h<<2)));return u},e.maxp={},e.maxp.parse=function(i,o,a){var s=e._bin,l={},u=s.readUint(i,o);return o+=4,l.numGlyphs=s.readUshort(i,o),o+=2,u==65536&&(l.maxPoints=s.readUshort(i,o),o+=2,l.maxContours=s.readUshort(i,o),o+=2,l.maxCompositePoints=s.readUshort(i,o),o+=2,l.maxCompositeContours=s.readUshort(i,o),o+=2,l.maxZones=s.readUshort(i,o),o+=2,l.maxTwilightPoints=s.readUshort(i,o),o+=2,l.maxStorage=s.readUshort(i,o),o+=2,l.maxFunctionDefs=s.readUshort(i,o),o+=2,l.maxInstructionDefs=s.readUshort(i,o),o+=2,l.maxStackElements=s.readUshort(i,o),o+=2,l.maxSizeOfInstructions=s.readUshort(i,o),o+=2,l.maxComponentElements=s.readUshort(i,o),o+=2,l.maxComponentDepth=s.readUshort(i,o),o+=2),l},e.name={},e.name.parse=function(i,o,a){var s=e._bin,l={};s.readUshort(i,o),o+=2;var u=s.readUshort(i,o);o+=2,s.readUshort(i,o);for(var c,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],h=o+=2,g=0;g<u;g++){var v=s.readUshort(i,o);o+=2;var b=s.readUshort(i,o);o+=2;var x=s.readUshort(i,o);o+=2;var _=s.readUshort(i,o);o+=2;var S=s.readUshort(i,o);o+=2;var w=s.readUshort(i,o);o+=2;var E,T=f[_],P=h+12*u+w;if(v==0)E=s.readUnicode(i,P,S/2);else if(v==3&&b==0)E=s.readUnicode(i,P,S/2);else if(b==0)E=s.readASCII(i,P,S);else if(b==1)E=s.readUnicode(i,P,S/2);else if(b==3)E=s.readUnicode(i,P,S/2);else{if(v!=1)throw"unknown encoding "+b+", platformID: "+v;E=s.readASCII(i,P,S),console.debug("reading unknown MAC encoding "+b+" as ASCII")}var I="p"+v+","+x.toString(16);l[I]==null&&(l[I]={}),l[I][T!==void 0?T:_]=E,l[I]._lang=x}for(var O in l)if(l[O].postScriptName!=null&&l[O]._lang==1033)return l[O];for(var O in l)if(l[O].postScriptName!=null&&l[O]._lang==0)return l[O];for(var O in l)if(l[O].postScriptName!=null&&l[O]._lang==3084)return l[O];for(var O in l)if(l[O].postScriptName!=null)return l[O];for(var O in l){c=O;break}return console.debug("returning name table with languageID "+l[c]._lang),l[c]},e["OS/2"]={},e["OS/2"].parse=function(i,o,a){var s=e._bin.readUshort(i,o);o+=2;var l={};if(s==0)e["OS/2"].version0(i,o,l);else if(s==1)e["OS/2"].version1(i,o,l);else if(s==2||s==3||s==4)e["OS/2"].version2(i,o,l);else{if(s!=5)throw"unknown OS/2 table version: "+s;e["OS/2"].version5(i,o,l)}return l},e["OS/2"].version0=function(i,o,a){var s=e._bin;return a.xAvgCharWidth=s.readShort(i,o),o+=2,a.usWeightClass=s.readUshort(i,o),o+=2,a.usWidthClass=s.readUshort(i,o),o+=2,a.fsType=s.readUshort(i,o),o+=2,a.ySubscriptXSize=s.readShort(i,o),o+=2,a.ySubscriptYSize=s.readShort(i,o),o+=2,a.ySubscriptXOffset=s.readShort(i,o),o+=2,a.ySubscriptYOffset=s.readShort(i,o),o+=2,a.ySuperscriptXSize=s.readShort(i,o),o+=2,a.ySuperscriptYSize=s.readShort(i,o),o+=2,a.ySuperscriptXOffset=s.readShort(i,o),o+=2,a.ySuperscriptYOffset=s.readShort(i,o),o+=2,a.yStrikeoutSize=s.readShort(i,o),o+=2,a.yStrikeoutPosition=s.readShort(i,o),o+=2,a.sFamilyClass=s.readShort(i,o),o+=2,a.panose=s.readBytes(i,o,10),o+=10,a.ulUnicodeRange1=s.readUint(i,o),o+=4,a.ulUnicodeRange2=s.readUint(i,o),o+=4,a.ulUnicodeRange3=s.readUint(i,o),o+=4,a.ulUnicodeRange4=s.readUint(i,o),o+=4,a.achVendID=[s.readInt8(i,o),s.readInt8(i,o+1),s.readInt8(i,o+2),s.readInt8(i,o+3)],o+=4,a.fsSelection=s.readUshort(i,o),o+=2,a.usFirstCharIndex=s.readUshort(i,o),o+=2,a.usLastCharIndex=s.readUshort(i,o),o+=2,a.sTypoAscender=s.readShort(i,o),o+=2,a.sTypoDescender=s.readShort(i,o),o+=2,a.sTypoLineGap=s.readShort(i,o),o+=2,a.usWinAscent=s.readUshort(i,o),o+=2,a.usWinDescent=s.readUshort(i,o),o+=2},e["OS/2"].version1=function(i,o,a){var s=e._bin;return o=e["OS/2"].version0(i,o,a),a.ulCodePageRange1=s.readUint(i,o),o+=4,a.ulCodePageRange2=s.readUint(i,o),o+=4},e["OS/2"].version2=function(i,o,a){var s=e._bin;return o=e["OS/2"].version1(i,o,a),a.sxHeight=s.readShort(i,o),o+=2,a.sCapHeight=s.readShort(i,o),o+=2,a.usDefault=s.readUshort(i,o),o+=2,a.usBreak=s.readUshort(i,o),o+=2,a.usMaxContext=s.readUshort(i,o),o+=2},e["OS/2"].version5=function(i,o,a){var s=e._bin;return o=e["OS/2"].version2(i,o,a),a.usLowerOpticalPointSize=s.readUshort(i,o),o+=2,a.usUpperOpticalPointSize=s.readUshort(i,o),o+=2},e.post={},e.post.parse=function(i,o,a){var s=e._bin,l={};return l.version=s.readFixed(i,o),o+=4,l.italicAngle=s.readFixed(i,o),o+=4,l.underlinePosition=s.readShort(i,o),o+=2,l.underlineThickness=s.readShort(i,o),o+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,o){var a=i.cmap,s=-1;if(a.p0e4!=null?s=a.p0e4:a.p3e1!=null?s=a.p3e1:a.p1e0!=null?s=a.p1e0:a.p0e3!=null&&(s=a.p0e3),s==-1)throw"no familiar platform and encoding!";var l=a.tables[s];if(l.format==0)return o>=l.map.length?0:l.map[o];if(l.format==4){for(var u=-1,c=0;c<l.endCount.length;c++)if(o<=l.endCount[c]){u=c;break}return u==-1||l.startCount[u]>o?0:65535&(l.idRangeOffset[u]!=0?l.glyphIdArray[o-l.startCount[u]+(l.idRangeOffset[u]>>1)-(l.idRangeOffset.length-u)]:o+l.idDelta[u])}if(l.format==12){if(o>l.groups[l.groups.length-1][1])return 0;for(c=0;c<l.groups.length;c++){var f=l.groups[c];if(f[0]<=o&&o<=f[1])return f[2]+(o-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,o){var a={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[o]){var s=i.SVG.entries[o];return s==null?a:(typeof s=="string"&&(s=e.SVG.toPath(s),i.SVG.entries[o]=s),s)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},u=i.CFF,c=i.CFF.Private;if(u.ROS){for(var f=0;u.FDSelect[f+2]<=o;)f+=2;c=u.FDArray[u.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[o],l,u,c,a)}else i.glyf&&e.U._drawGlyf(o,i,a);return a},e.U._drawGlyf=function(i,o,a){var s=o.glyf[i];s==null&&(s=o.glyf[i]=e.glyf._parseGlyf(o,i)),s!=null&&(s.noc>-1?e.U._simpleGlyph(s,a):e.U._compoGlyph(s,o,a))},e.U._simpleGlyph=function(i,o){for(var a=0;a<i.noc;a++){for(var s=a==0?0:i.endPts[a-1]+1,l=i.endPts[a],u=s;u<=l;u++){var c=u==s?l:u-1,f=u==l?s:u+1,h=1&i.flags[u],g=1&i.flags[c],v=1&i.flags[f],b=i.xs[u],x=i.ys[u];if(u==s)if(h){if(!g){e.U.P.moveTo(o,b,x);continue}e.U.P.moveTo(o,i.xs[c],i.ys[c])}else g?e.U.P.moveTo(o,i.xs[c],i.ys[c]):e.U.P.moveTo(o,(i.xs[c]+b)/2,(i.ys[c]+x)/2);h?g&&e.U.P.lineTo(o,b,x):v?e.U.P.qcurveTo(o,b,x,i.xs[f],i.ys[f]):e.U.P.qcurveTo(o,b,x,(b+i.xs[f])/2,(x+i.ys[f])/2)}e.U.P.closePath(o)}},e.U._compoGlyph=function(i,o,a){for(var s=0;s<i.parts.length;s++){var l={cmds:[],crds:[]},u=i.parts[s];e.U._drawGlyf(u.glyphIndex,o,l);for(var c=u.m,f=0;f<l.crds.length;f+=2){var h=l.crds[f],g=l.crds[f+1];a.crds.push(h*c.a+g*c.b+c.tx),a.crds.push(h*c.c+g*c.d+c.ty)}for(f=0;f<l.cmds.length;f++)a.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,o){var a=e._lctf.getInterval(o,i);return a==-1?0:o[a+2]},e.U._applySubs=function(i,o,a,s){for(var l=i.length-o-1,u=0;u<a.tabs.length;u++)if(a.tabs[u]!=null){var c,f=a.tabs[u];if(!f.coverage||(c=e._lctf.coverageIndex(f.coverage,i[o]))!=-1){if(a.ltype==1)i[o],f.fmt==1?i[o]=i[o]+f.delta:i[o]=f.newg[c];else if(a.ltype==4)for(var h=f.vals[c],g=0;g<h.length;g++){var v=h[g],b=v.chain.length;if(!(b>l)){for(var x=!0,_=0,S=0;S<b;S++){for(;i[o+_+(1+S)]==-1;)_++;v.chain[S]!=i[o+_+(1+S)]&&(x=!1)}if(x){for(i[o]=v.nglyph,S=0;S<b+_;S++)i[o+S+1]=-1;break}}}else if(a.ltype==5&&f.fmt==2)for(var w=e._lctf.getInterval(f.cDef,i[o]),E=f.cDef[w+2],T=f.scset[E],P=0;P<T.length;P++){var I=T[P],O=I.input;if(!(O.length>l)){for(x=!0,S=0;S<O.length;S++){var C=e._lctf.getInterval(f.cDef,i[o+1+S]);if(w==-1&&f.cDef[C+2]!=O[S]){x=!1;break}}if(x){var L=I.substLookupRecords;for(g=0;g<L.length;g+=2)L[g],L[g+1]}}}else if(a.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,o-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,o)||!e.U._glsCovered(i,f.ahedCvg,o+f.inptCvg.length))continue;var N=f.lookupRec;for(P=0;P<N.length;P+=2){w=N[P];var U=s[N[P+1]];e.U._applySubs(i,o+w,U,s)}}}}},e.U._glsCovered=function(i,o,a){for(var s=0;s<o.length;s++)if(e._lctf.coverageIndex(o[s],i[a+s])==-1)return!1;return!0},e.U.glyphsToPath=function(i,o,a){for(var s={cmds:[],crds:[]},l=0,u=0;u<o.length;u++){var c=o[u];if(c!=-1){for(var f=u<o.length-1&&o[u+1]!=-1?o[u+1]:0,h=e.U.glyphToPath(i,c),g=0;g<h.crds.length;g+=2)s.crds.push(h.crds[g]+l),s.crds.push(h.crds[g+1]);for(a&&s.cmds.push(a),g=0;g<h.cmds.length;g++)s.cmds.push(h.cmds[g]);a&&s.cmds.push("X"),l+=i.hmtx.aWidth[c],u<o.length-1&&(l+=e.U.getPairAdjustment(i,c,f))}}return s},e.U.P={},e.U.P.moveTo=function(i,o,a){i.cmds.push("M"),i.crds.push(o,a)},e.U.P.lineTo=function(i,o,a){i.cmds.push("L"),i.crds.push(o,a)},e.U.P.curveTo=function(i,o,a,s,l,u,c){i.cmds.push("C"),i.crds.push(o,a,s,l,u,c)},e.U.P.qcurveTo=function(i,o,a,s,l){i.cmds.push("Q"),i.crds.push(o,a,s,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,o,a,s,l){for(var u=o.stack,c=o.nStems,f=o.haveWidth,h=o.width,g=o.open,v=0,b=o.x,x=o.y,_=0,S=0,w=0,E=0,T=0,P=0,I=0,O=0,C=0,L=0,N={val:0,size:0};v<i.length;){e.CFF.getCharString(i,v,N);var U=N.val;if(v+=N.size,U=="o1"||U=="o18")u.length%2!=0&&!f&&(h=u.shift()+s.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(U=="o3"||U=="o23")u.length%2!=0&&!f&&(h=u.shift()+s.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(U=="o4")u.length>1&&!f&&(h=u.shift()+s.nominalWidthX,f=!0),g&&e.U.P.closePath(l),x+=u.pop(),e.U.P.moveTo(l,b,x),g=!0;else if(U=="o5")for(;u.length>0;)b+=u.shift(),x+=u.shift(),e.U.P.lineTo(l,b,x);else if(U=="o6"||U=="o7")for(var z=u.length,$=U=="o6",K=0;K<z;K++){var q=u.shift();$?b+=q:x+=q,$=!$,e.U.P.lineTo(l,b,x)}else if(U=="o8"||U=="o24"){z=u.length;for(var Q=0;Q+6<=z;)_=b+u.shift(),S=x+u.shift(),w=_+u.shift(),E=S+u.shift(),b=w+u.shift(),x=E+u.shift(),e.U.P.curveTo(l,_,S,w,E,b,x),Q+=6;U=="o24"&&(b+=u.shift(),x+=u.shift(),e.U.P.lineTo(l,b,x))}else{if(U=="o11")break;if(U=="o1234"||U=="o1235"||U=="o1236"||U=="o1237")U=="o1234"&&(S=x,w=(_=b+u.shift())+u.shift(),L=E=S+u.shift(),P=E,O=x,b=(I=(T=(C=w+u.shift())+u.shift())+u.shift())+u.shift(),e.U.P.curveTo(l,_,S,w,E,C,L),e.U.P.curveTo(l,T,P,I,O,b,x)),U=="o1235"&&(_=b+u.shift(),S=x+u.shift(),w=_+u.shift(),E=S+u.shift(),C=w+u.shift(),L=E+u.shift(),T=C+u.shift(),P=L+u.shift(),I=T+u.shift(),O=P+u.shift(),b=I+u.shift(),x=O+u.shift(),u.shift(),e.U.P.curveTo(l,_,S,w,E,C,L),e.U.P.curveTo(l,T,P,I,O,b,x)),U=="o1236"&&(_=b+u.shift(),S=x+u.shift(),w=_+u.shift(),L=E=S+u.shift(),P=E,I=(T=(C=w+u.shift())+u.shift())+u.shift(),O=P+u.shift(),b=I+u.shift(),e.U.P.curveTo(l,_,S,w,E,C,L),e.U.P.curveTo(l,T,P,I,O,b,x)),U=="o1237"&&(_=b+u.shift(),S=x+u.shift(),w=_+u.shift(),E=S+u.shift(),C=w+u.shift(),L=E+u.shift(),T=C+u.shift(),P=L+u.shift(),I=T+u.shift(),O=P+u.shift(),Math.abs(I-b)>Math.abs(O-x)?b=I+u.shift():x=O+u.shift(),e.U.P.curveTo(l,_,S,w,E,C,L),e.U.P.curveTo(l,T,P,I,O,b,x));else if(U=="o14"){if(u.length>0&&!f&&(h=u.shift()+a.nominalWidthX,f=!0),u.length==4){var F=u.shift(),j=u.shift(),X=u.shift(),H=u.shift(),Y=e.CFF.glyphBySE(a,X),se=e.CFF.glyphBySE(a,H);e.U._drawCFF(a.CharStrings[Y],o,a,s,l),o.x=F,o.y=j,e.U._drawCFF(a.CharStrings[se],o,a,s,l)}g&&(e.U.P.closePath(l),g=!1)}else if(U=="o19"||U=="o20")u.length%2!=0&&!f&&(h=u.shift()+s.nominalWidthX),c+=u.length>>1,u.length=0,f=!0,v+=c+7>>3;else if(U=="o21")u.length>2&&!f&&(h=u.shift()+s.nominalWidthX,f=!0),x+=u.pop(),b+=u.pop(),g&&e.U.P.closePath(l),e.U.P.moveTo(l,b,x),g=!0;else if(U=="o22")u.length>1&&!f&&(h=u.shift()+s.nominalWidthX,f=!0),b+=u.pop(),g&&e.U.P.closePath(l),e.U.P.moveTo(l,b,x),g=!0;else if(U=="o25"){for(;u.length>6;)b+=u.shift(),x+=u.shift(),e.U.P.lineTo(l,b,x);_=b+u.shift(),S=x+u.shift(),w=_+u.shift(),E=S+u.shift(),b=w+u.shift(),x=E+u.shift(),e.U.P.curveTo(l,_,S,w,E,b,x)}else if(U=="o26")for(u.length%2&&(b+=u.shift());u.length>0;)_=b,S=x+u.shift(),b=w=_+u.shift(),x=(E=S+u.shift())+u.shift(),e.U.P.curveTo(l,_,S,w,E,b,x);else if(U=="o27")for(u.length%2&&(x+=u.shift());u.length>0;)S=x,w=(_=b+u.shift())+u.shift(),E=S+u.shift(),b=w+u.shift(),x=E,e.U.P.curveTo(l,_,S,w,E,b,x);else if(U=="o10"||U=="o29"){var re=U=="o10"?s:a;if(u.length==0)console.debug("error: empty stack");else{var ie=u.pop(),ge=re.Subrs[ie+re.Bias];o.x=b,o.y=x,o.nStems=c,o.haveWidth=f,o.width=h,o.open=g,e.U._drawCFF(ge,o,a,s,l),b=o.x,x=o.y,c=o.nStems,f=o.haveWidth,h=o.width,g=o.open}}else if(U=="o30"||U=="o31"){var de=u.length,be=(Q=0,U=="o31");for(Q+=de-(z=-3&de);Q<z;)be?(S=x,w=(_=b+u.shift())+u.shift(),x=(E=S+u.shift())+u.shift(),z-Q==5?(b=w+u.shift(),Q++):b=w,be=!1):(_=b,S=x+u.shift(),w=_+u.shift(),E=S+u.shift(),b=w+u.shift(),z-Q==5?(x=E+u.shift(),Q++):x=E,be=!0),e.U.P.curveTo(l,_,S,w,E,b,x),Q+=4}else{if((U+"").charAt(0)=="o")throw console.debug("Unknown operation: "+U,i),U;u.push(U)}}}o.x=b,o.y=x,o.nStems=c,o.haveWidth=f,o.width=h,o.open=g};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function qDe(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),o=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(U,z){for(var $=new n(31),K=0;K<31;++K)$[K]=z+=1<<U[K-1];var q=new r($[30]);for(K=1;K<30;++K)for(var Q=$[K];Q<$[K+1];++Q)q[Q]=Q-$[K]<<5|K;return[$,q]},l=s(i,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var f=s(o,0)[0],h=new n(32768),g=0;g<32768;++g){var v=(43690&g)>>>1|(21845&g)<<1;v=(61680&(v=(52428&v)>>>2|(13107&v)<<2))>>>4|(3855&v)<<4,h[g]=((65280&v)>>>8|(255&v)<<8)>>>1}var b=function(U,z,$){for(var K=U.length,q=0,Q=new n(z);q<K;++q)++Q[U[q]-1];var F,j=new n(z);for(q=0;q<z;++q)j[q]=j[q-1]+Q[q-1]<<1;{F=new n(1<<z);var X=15-z;for(q=0;q<K;++q)if(U[q])for(var H=q<<4|U[q],Y=z-U[q],se=j[U[q]-1]++<<Y,re=se|(1<<Y)-1;se<=re;++se)F[h[se]>>>X]=H}return F},x=new e(288);for(g=0;g<144;++g)x[g]=8;for(g=144;g<256;++g)x[g]=9;for(g=256;g<280;++g)x[g]=7;for(g=280;g<288;++g)x[g]=8;var _=new e(32);for(g=0;g<32;++g)_[g]=5;var S=b(x,9),w=b(_,5),E=function(U){for(var z=U[0],$=1;$<U.length;++$)U[$]>z&&(z=U[$]);return z},T=function(U,z,$){var K=z/8|0;return(U[K]|U[K+1]<<8)>>(7&z)&$},P=function(U,z){var $=z/8|0;return(U[$]|U[$+1]<<8|U[$+2]<<16)>>(7&z)},I=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],O=function(U,z,$){var K=new Error(z||I[U]);if(K.code=U,Error.captureStackTrace&&Error.captureStackTrace(K,O),!$)throw K;return K},C=function(U,z,$){var K=U.length;if(!K||$&&!$.l&&K<5)return z||new e(0);var q=!z||$,Q=!$||$.i;$||($={}),z||(z=new e(3*K));var F,j=function(Ze){var me=z.length;if(Ze>me){var Fe=new e(Math.max(2*me,Ze));Fe.set(z),z=Fe}},X=$.f||0,H=$.p||0,Y=$.b||0,se=$.l,re=$.d,ie=$.m,ge=$.n,de=8*K;do{if(!se){$.f=X=T(U,H,1);var be=T(U,H+1,3);if(H+=3,!be){var fe=U[(Ue=((F=H)/8|0)+(7&F&&1)+4)-4]|U[Ue-3]<<8,Te=Ue+fe;if(Te>K){Q&&O(0);break}q&&j(Y+fe),z.set(U.subarray(Ue,Te),Y),$.b=Y+=fe,$.p=H=8*Te;continue}if(be==1)se=S,re=w,ie=9,ge=5;else if(be==2){var Se=T(U,H,31)+257,ee=T(U,H+10,15)+4,we=Se+T(U,H+5,31)+1;H+=14;for(var Z=new e(we),Ie=new e(19),xe=0;xe<ee;++xe)Ie[a[xe]]=T(U,H+3*xe,7);H+=3*ee;var Ne=E(Ie),Ee=(1<<Ne)-1,Ke=b(Ie,Ne);for(xe=0;xe<we;){var Ue,W=Ke[T(U,H,Ee)];if(H+=15&W,(Ue=W>>>4)<16)Z[xe++]=Ue;else{var G=0,ce=0;for(Ue==16?(ce=3+T(U,H,3),H+=2,G=Z[xe-1]):Ue==17?(ce=3+T(U,H,7),H+=3):Ue==18&&(ce=11+T(U,H,127),H+=7);ce--;)Z[xe++]=G}}var Me=Z.subarray(0,Se),ve=Z.subarray(Se);ie=E(Me),ge=E(ve),se=b(Me,ie),re=b(ve,ge)}else O(1);if(H>de){Q&&O(0);break}}q&&j(Y+131072);for(var ke=(1<<ie)-1,We=(1<<ge)-1,Be=H;;Be=H){var Xe=(G=se[P(U,H)&ke])>>>4;if((H+=15&G)>de){Q&&O(0);break}if(G||O(2),Xe<256)z[Y++]=Xe;else{if(Xe==256){Be=H,se=null;break}var ct=Xe-254;if(Xe>264){var qe=i[xe=Xe-257];ct=T(U,H,(1<<qe)-1)+u[xe],H+=qe}var ot=re[P(U,H)&We],ut=ot>>>4;if(ot||O(3),H+=15&ot,ve=f[ut],ut>3&&(qe=o[ut],ve+=P(U,H)&(1<<qe)-1,H+=qe),H>de){Q&&O(0);break}q&&j(Y+131072);for(var at=Y+ct;Y<at;Y+=4)z[Y]=z[Y-ve],z[Y+1]=z[Y+1-ve],z[Y+2]=z[Y+2-ve],z[Y+3]=z[Y+3-ve];Y=at}}$.l=se,$.p=Be,$.b=Y,se&&(X=1,$.m=ie,$.d=re,$.n=ge)}while(!X);return Y==z.length?z:function(Ze,me,Fe){(Fe==null||Fe>Ze.length)&&(Fe=Ze.length);var pt=new(Ze instanceof n?n:Ze instanceof r?r:e)(Fe-me);return pt.set(Ze.subarray(me,Fe)),pt}(z,0,Y)},L=new e(0),N=typeof TextDecoder<"u"&&new TextDecoder;try{N.decode(L,{stream:!0})}catch{}return t.convert_streams=function(U){var z=new DataView(U),$=0;function K(){var Se=z.getUint16($);return $+=2,Se}function q(){var Se=z.getUint32($);return $+=4,Se}function Q(Se){fe.setUint16(Te,Se),Te+=2}function F(Se){fe.setUint32(Te,Se),Te+=4}for(var j={signature:q(),flavor:q(),length:q(),numTables:K(),reserved:K(),totalSfntSize:q(),majorVersion:K(),minorVersion:K(),metaOffset:q(),metaLength:q(),metaOrigLength:q(),privOffset:q(),privLength:q()},X=0;Math.pow(2,X)<=j.numTables;)X++;X--;for(var H=16*Math.pow(2,X),Y=16*j.numTables-H,se=12,re=[],ie=0;ie<j.numTables;ie++)re.push({tag:q(),offset:q(),compLength:q(),origLength:q(),origChecksum:q()}),se+=16;var ge,de=new Uint8Array(12+16*re.length+re.reduce(function(Se,ee){return Se+ee.origLength+4},0)),be=de.buffer,fe=new DataView(be),Te=0;return F(j.flavor),Q(j.numTables),Q(H),Q(X),Q(Y),re.forEach(function(Se){F(Se.tag),F(Se.origChecksum),F(se),F(Se.origLength),Se.outOffset=se,(se+=Se.origLength)%4!=0&&(se+=4-se%4)}),re.forEach(function(Se){var ee,we=U.slice(Se.offset,Se.offset+Se.compLength);if(Se.compLength!=Se.origLength){var Z=new Uint8Array(Se.origLength);ee=new Uint8Array(we,2),C(ee,Z)}else Z=new Uint8Array(we);de.set(Z,Se.outOffset);var Ie=0;(se=Se.outOffset+Se.origLength)%4!=0&&(Ie=4-se%4),de.set(new Uint8Array(Ie).buffer,Se.outOffset+Se.origLength),ge=se+Ie}),be.slice(0,ge)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function YDe(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,o=2,a=4,s=8,l=16,u=32;let c;function f(I){if(!c){const O={R:o,L:i,D:a,C:l,U:u,T:s};c=new Map;for(let C in r){let L=0;r[C].split(",").forEach(N=>{let[U,z]=N.split("+");U=parseInt(U,36),z=z?parseInt(z,36):0,c.set(L+=U,O[C]);for(let $=z;$--;)c.set(++L,O[C])})}}return c.get(I)||u}const h=1,g=2,v=3,b=4,x=[null,"isol","init","fina","medi"];function _(I){const O=new Uint8Array(I.length);let C=u,L=h,N=-1;for(let U=0;U<I.length;U++){const z=I.codePointAt(U);let $=f(z)|0,K=h;$&s||(C&(i|a|l)?$&(o|a|l)?(K=v,(L===h||L===v)&&O[N]++):$&(i|u)&&(L===g||L===b)&&O[N]--:C&(o|u)&&(L===g||L===b)&&O[N]--,L=O[U]=K,C=$,N=U,z>65535&&U++)}return O}function S(I,O){const C=[];for(let N=0;N<O.length;N++){const U=O.codePointAt(N);U>65535&&N++,C.push(t.U.codeToGlyph(I,U))}const L=I.GSUB;if(L){const{lookupList:N,featureList:U}=L;let z;const $=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,K=[];U.forEach(q=>{if($.test(q.tag))for(let Q=0;Q<q.tab.length;Q++){if(K[q.tab[Q]])continue;K[q.tab[Q]]=!0;const F=N[q.tab[Q]],j=/^(isol|init|fina|medi)$/.test(q.tag);j&&!z&&(z=_(O));for(let X=0;X<C.length;X++)(!z||!j||x[z[X]]===q.tag)&&t.U._applySubs(C,X,F,N)}})}return C}function w(I,O){const C=new Int16Array(O.length*3);let L=0;for(;L<O.length;L++){const $=O[L];if($===-1)continue;C[L*3+2]=I.hmtx.aWidth[$];const K=I.GPOS;if(K){const q=K.lookupList;for(let Q=0;Q<q.length;Q++){const F=q[Q];for(let j=0;j<F.tabs.length;j++){const X=F.tabs[j];if(F.ltype===1){if(t._lctf.coverageIndex(X.coverage,$)!==-1&&X.pos){z(X.pos,L);break}}else if(F.ltype===2){let H=null,Y=N();if(Y!==-1){const se=t._lctf.coverageIndex(X.coverage,O[Y]);if(se!==-1){if(X.fmt===1){const re=X.pairsets[se];for(let ie=0;ie<re.length;ie++)re[ie].gid2===$&&(H=re[ie])}else if(X.fmt===2){const re=t.U._getGlyphClass(O[Y],X.classDef1),ie=t.U._getGlyphClass($,X.classDef2);H=X.matrix[re][ie]}if(H){H.val1&&z(H.val1,Y),H.val2&&z(H.val2,L);break}}}}else if(F.ltype===4){const H=t._lctf.coverageIndex(X.markCoverage,$);if(H!==-1){const Y=N(U),se=Y===-1?-1:t._lctf.coverageIndex(X.baseCoverage,O[Y]);if(se!==-1){const re=X.markArray[H],ie=X.baseArray[se][re.markClass];C[L*3]=ie.x-re.x+C[Y*3]-C[Y*3+2],C[L*3+1]=ie.y-re.y+C[Y*3+1];break}}}else if(F.ltype===6){const H=t._lctf.coverageIndex(X.mark1Coverage,$);if(H!==-1){const Y=N();if(Y!==-1){const se=O[Y];if(E(I,se)===3){const re=t._lctf.coverageIndex(X.mark2Coverage,se);if(re!==-1){const ie=X.mark1Array[H],ge=X.mark2Array[re][ie.markClass];C[L*3]=ge.x-ie.x+C[Y*3]-C[Y*3+2],C[L*3+1]=ge.y-ie.y+C[Y*3+1];break}}}}}}}}else if(I.kern&&!I.cff){const q=N();if(q!==-1){const Q=I.kern.glyph1.indexOf(O[q]);if(Q!==-1){const F=I.kern.rval[Q].glyph2.indexOf($);F!==-1&&(C[q*3+2]+=I.kern.rval[Q].vals[F])}}}}return C;function N($){for(let K=L-1;K>=0;K--)if(O[K]!==-1&&(!$||$(O[K])))return K;return-1}function U($){return E(I,$)===1}function z($,K){for(let q=0;q<3;q++)C[K*3+q]+=$[q]||0}}function E(I,O){const C=I.GDEF&&I.GDEF.glyphClassDef;return C?t.U._getGlyphClass(O,C):0}function T(...I){for(let O=0;O<I.length;O++)if(typeof I[O]=="number")return I[O]}function P(I){const O=Object.create(null),C=I["OS/2"],L=I.hhea,N=I.head.unitsPerEm,U=T(C&&C.sTypoAscender,L&&L.ascender,N),z={unitsPerEm:N,ascender:U,descender:T(C&&C.sTypoDescender,L&&L.descender,0),capHeight:T(C&&C.sCapHeight,U),xHeight:T(C&&C.sxHeight,U),lineGap:T(C&&C.sTypoLineGap,L&&L.lineGap),supportsCodePoint($){return t.U.codeToGlyph(I,$)>0},forEachGlyph($,K,q,Q){let F=0;const j=1/z.unitsPerEm*K,X=S(I,$);let H=0;const Y=w(I,X);return X.forEach((se,re)=>{if(se!==-1){let ie=O[se];if(!ie){const{cmds:ge,crds:de}=t.U.glyphToPath(I,se);let be="",fe=0;for(let Z=0,Ie=ge.length;Z<Ie;Z++){const xe=n[ge[Z]];be+=ge[Z];for(let Ne=1;Ne<=xe;Ne++)be+=(Ne>1?",":"")+de[fe++]}let Te,Se,ee,we;if(de.length){Te=Se=1/0,ee=we=-1/0;for(let Z=0,Ie=de.length;Z<Ie;Z+=2){let xe=de[Z],Ne=de[Z+1];xe<Te&&(Te=xe),Ne<Se&&(Se=Ne),xe>ee&&(ee=xe),Ne>we&&(we=Ne)}}else Te=ee=Se=we=0;ie=O[se]={index:se,advanceWidth:I.hmtx.aWidth[se],xMin:Te,yMin:Se,xMax:ee,yMax:we,path:be}}Q.call(null,ie,F+Y[re*3]*j,Y[re*3+1]*j,H),F+=Y[re*3+2]*j,q&&(F+=q*K)}H+=$.codePointAt(H)>65535?2:1}),F}};return z}return function(O){const C=new Uint8Array(O,0,4),L=t._bin.readASCII(C,0,4);if(L==="wOFF")O=e(O);else if(L==="wOF2")throw new Error("woff2 fonts not supported");return P(t.parse(O)[0])}}const KDe=qg({name:"Typr Font Parser",dependencies:[XDe,qDe,YDe],init(t,e,n){const r=t(),i=e();return n(r,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function ZDe(){return function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(w){var E=w>>5;this.buckets.set(E,(this.buckets.get(E)||0)|1<<(31&w))},e.prototype.has=function(w){var E=this.buckets.get(w>>5);return E!==void 0&&(E&1<<(31&w))!=0},e.prototype.serialize=function(){var w=[];return this.buckets.forEach(function(E,T){w.push((+T).toString(36)+":"+E.toString(36))}),w.join(",")},e.prototype.deserialize=function(w){var E=this;this.buckets.clear(),w.split(",").forEach(function(T){var P=T.split(":");E.buckets.set(parseInt(P[0],36),parseInt(P[1],36))})};var n=Math.pow(2,8),r=n-1,i=~r;function o(w){var E=function(P){return P&i}(w).toString(16),T=function(P){return(P&i)+n-1}(w).toString(16);return"codepoint-index/plane"+(w>>16)+"/"+E+"-"+T+".json"}function a(w,E){var T=w&r,P=E.codePointAt(T/6|0);return((P=(P||48)-48)&1<<T%6)!=0}function s(w,E){var T;(T=w,T.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(P){return P.split("-").map(function(I){return parseInt(I.trim(),16)})})).forEach(function(P){var I=P[0],O=P[1];O===void 0&&(O=I),E(I,O)})}function l(w,E){s(w,function(T,P){for(var I=T;I<=P;I++)E(I)})}var u={},c={},f=new WeakMap,h="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function g(w){var E=f.get(w);return E||(E=new e,l(w.ranges,function(T){return E.add(T)}),f.set(w,E)),E}var v,b=new Map;function x(w,E,T){return w[E]?E:w[T]?T:function(P){for(var I in P)return I}(w)}function _(w,E){var T=E;if(!w.includes(T)){T=1/0;for(var P=0;P<w.length;P++)Math.abs(w[P]-E)<Math.abs(T-E)&&(T=w[P])}return T}function S(w){return v||(v=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(E){v.add(E)})),v.has(w)}return t.CodePointSet=e,t.clearCache=function(){u={},c={}},t.getFontsForString=function(w,E){E===void 0&&(E={});var T,P=E.lang;P===void 0&&(P=new RegExp("\\p{Script=Hangul}","u").test(T=w)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(T)?"ja":"en");var I=E.category;I===void 0&&(I="sans-serif");var O=E.style;O===void 0&&(O="normal");var C=E.weight;C===void 0&&(C=400);var L=(E.dataUrl||h).replace(/\/$/g,""),N=new Map,U=new Uint8Array(w.length),z={},$={},K=new Array(w.length),q=new Map,Q=!1;function F(H){var Y=b.get(H);return Y||(Y=fetch(L+"/"+H).then(function(se){if(!se.ok)throw new Error(se.statusText);return se.json().then(function(re){if(!Array.isArray(re)||re[0]!==1)throw new Error("Incorrect schema version; need 1, got "+re[0]);return re[1]})}).catch(function(se){if(L!==h)return Q||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+L+'", trying default CDN. '+se.message),Q=!0),L=h,b.delete(H),F(H);throw se}),b.set(H,Y)),Y}for(var j=function(H){var Y=w.codePointAt(H),se=o(Y);K[H]=se,u[se]||q.has(se)||q.set(se,F(se).then(function(re){u[se]=re})),Y>65535&&(H++,X=H)},X=0;X<w.length;X++)j(X);return Promise.all(q.values()).then(function(){q.clear();for(var H=function(se){var re=w.codePointAt(se),ie=null,ge=u[K[se]],de=void 0;for(var be in ge){var fe=$[be];if(fe===void 0&&(fe=$[be]=new RegExp(be).test(P||"en")),fe){for(var Te in de=be,ge[be])if(a(re,ge[be][Te])){ie=Te;break}break}}if(!ie){e:for(var Se in ge)if(Se!==de){for(var ee in ge[Se])if(a(re,ge[Se][ee])){ie=ee;break e}}}ie||(console.debug("No font coverage for U+"+re.toString(16)),ie="latin"),K[se]=ie,c[ie]||q.has(ie)||q.set(ie,F("font-meta/"+ie+".json").then(function(we){c[ie]=we})),re>65535&&(se++,Y=se)},Y=0;Y<w.length;Y++)H(Y);return Promise.all(q.values())}).then(function(){for(var H,Y=null,se=0;se<w.length;se++){var re=w.codePointAt(se);if(Y&&(S(re)||g(Y).has(re)))U[se]=U[se-1];else{Y=c[K[se]];var ie=z[Y.id];if(!ie){var ge=Y.typeforms,de=x(ge,I,"sans-serif"),be=x(ge[de],O,"normal"),fe=_((H=ge[de])===null||H===void 0?void 0:H[be],C);ie=z[Y.id]=L+"/font-files/"+Y.id+"/"+de+"."+be+"."+fe+".woff"}var Te=N.get(ie);Te==null&&(Te=N.size,N.set(ie,Te)),U[se]=Te}re>65535&&(se++,U[se]=U[se-1])}return{fontUrls:Array.from(N.keys()),chars:U}})},Object.defineProperty(t,"__esModule",{value:!0}),t}({})}function JDe(t,e){const n=Object.create(null),r=Object.create(null);function i(a,s){const l=u=>{console.error(`Failure loading font ${a}`,u)};try{const u=new XMLHttpRequest;u.open("get",a,!0),u.responseType="arraybuffer",u.onload=function(){if(u.status>=400)l(new Error(u.statusText));else if(u.status>0)try{const c=t(u.response);c.src=a,s(c)}catch(c){l(c)}},u.onerror=l,u.send()}catch(u){l(u)}}function o(a,s){let l=n[a];l?s(l):r[a]?r[a].push(s):(r[a]=[s],i(a,u=>{u.src=a,n[a]=u,r[a].forEach(c=>c(u)),delete r[a]}))}return function(a,s,{lang:l,fonts:u=[],style:c="normal",weight:f="normal",unicodeFontsURL:h}={}){const g=new Uint8Array(a.length),v=[];a.length||S();const b=new Map,x=[];if(c!=="italic"&&(c="normal"),typeof f!="number"&&(f=f==="bold"?700:400),u&&!Array.isArray(u)&&(u=[u]),u=u.slice().filter(E=>!E.lang||E.lang.test(l)).reverse(),u.length){let I=0;(function O(C=0){for(let L=C,N=a.length;L<N;L++){const U=a.codePointAt(L);if(I===1&&v[g[L-1]].supportsCodePoint(U)||L>0&&/\s/.test(a[L]))g[L]=g[L-1],I===2&&(x[x.length-1][1]=L);else for(let z=g[L],$=u.length;z<=$;z++)if(z===$){const K=I===2?x[x.length-1]:x[x.length]=[L,L];K[1]=L,I=2}else{g[L]=z;const{src:K,unicodeRange:q}=u[z];if(!q||w(U,q)){const Q=n[K];if(!Q){o(K,()=>{O(L)});return}if(Q.supportsCodePoint(U)){let F=b.get(Q);typeof F!="number"&&(F=v.length,v.push(Q),b.set(Q,F)),g[L]=F,I=1;break}}}U>65535&&L+1<N&&(g[L+1]=g[L],L++,I===2&&(x[x.length-1][1]=L))}_()})()}else x.push([0,a.length-1]),_();function _(){if(x.length){const E=x.map(T=>a.substring(T[0],T[1]+1)).join(`
`);e.getFontsForString(E,{lang:l||void 0,style:c,weight:f,dataUrl:h}).then(({fontUrls:T,chars:P})=>{const I=v.length;let O=0;x.forEach(L=>{for(let N=0,U=L[1]-L[0];N<=U;N++)g[L[0]+N]=P[O++]+I;O++});let C=0;T.forEach((L,N)=>{o(L,U=>{v[N+I]=U,++C===T.length&&S()})})})}else S()}function S(){s({chars:g,fonts:v})}function w(E,T){for(let P=0;P<T.length;P++){const[I,O=I]=T[P];if(I<=E&&E<=O)return!0}return!1}}}const QDe=qg({name:"FontResolver",dependencies:[JDe,KDe,ZDe],init(t,e,n){return t(e,n())}});function eNe(t,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",o=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function a({text:v,lang:b,fonts:x,style:_,weight:S,preResolvedFonts:w,unicodeFontsURL:E},T){const P=({chars:I,fonts:O})=>{let C,L;const N=[];for(let U=0;U<I.length;U++)I[U]!==L?(L=I[U],N.push(C={start:U,end:U,fontObj:O[I[U]]})):C.end=U;T(N)};w?P(w):t(v,P,{lang:b,fonts:x,style:_,weight:S,unicodeFontsURL:E})}function s({text:v="",font:b,lang:x,sdfGlyphSize:_=64,fontSize:S=400,fontWeight:w=1,fontStyle:E="normal",letterSpacing:T=0,lineHeight:P="normal",maxWidth:I=1/0,direction:O,textAlign:C="left",textIndent:L=0,whiteSpace:N="normal",overflowWrap:U="normal",anchorX:z=0,anchorY:$=0,metricsOnly:K=!1,unicodeFontsURL:q,preResolvedFonts:Q=null,includeCaretPositions:F=!1,chunkedBoundsSize:j=8192,colorRanges:X=null},H){const Y=f(),se={fontLoad:0,typesetting:0};v.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),v=v.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),S=+S,T=+T,I=+I,P=P||"normal",L=+L,a({text:v,lang:x,style:E,weight:w,fonts:typeof b=="string"?[{src:b}]:b,unicodeFontsURL:q,preResolvedFonts:Q},re=>{se.fontLoad=f()-Y;const ie=isFinite(I);let ge=null,de=null,be=null,fe=null,Te=null,Se=null,ee=null,we=null,Z=0,Ie=0,xe=N!=="nowrap";const Ne=new Map,Ee=f();let Ke=L,Ue=0,W=new h;const G=[W];re.forEach(We=>{const{fontObj:Be}=We,{ascender:Xe,descender:ct,unitsPerEm:qe,lineGap:ot,capHeight:ut,xHeight:at}=Be;let Ze=Ne.get(Be);if(!Ze){const He=S/qe,Le=P==="normal"?(Xe-ct+ot)*He:P*S,Je=(Le-(Xe-ct)*He)/2,st=Math.min(Le,(Xe-ct)*He),nt=(Xe+ct)/2*He+st/2;Ze={index:Ne.size,src:Be.src,fontObj:Be,fontSizeMult:He,unitsPerEm:qe,ascender:Xe*He,descender:ct*He,capHeight:ut*He,xHeight:at*He,lineHeight:Le,baseline:-Je-Xe*He,caretTop:nt,caretBottom:nt-st},Ne.set(Be,Ze)}const{fontSizeMult:me}=Ze,Fe=v.slice(We.start,We.end+1);let pt,he;Be.forEachGlyph(Fe,S,T,(He,Le,Je,st)=>{Le+=Ue,st+=We.start,pt=Le,he=He;const nt=v.charAt(st),vt=He.advanceWidth*me,It=W.count;let Et;if("isEmpty"in He||(He.isWhitespace=!!nt&&new RegExp(i).test(nt),He.canBreakAfter=!!nt&&o.test(nt),He.isEmpty=He.xMin===He.xMax||He.yMin===He.yMax||r.test(nt)),!He.isWhitespace&&!He.isEmpty&&Ie++,xe&&ie&&!He.isWhitespace&&Le+vt+Ke>I&&It){if(W.glyphAt(It-1).glyphObj.canBreakAfter)Et=new h,Ke=-Le;else for(let Mn=It;Mn--;)if(Mn===0&&U==="break-word"){Et=new h,Ke=-Le;break}else if(W.glyphAt(Mn).glyphObj.canBreakAfter){Et=W.splitAt(Mn+1);const Cn=Et.glyphAt(0).x;Ke-=Cn;for(let Zn=Et.count;Zn--;)Et.glyphAt(Zn).x-=Cn;break}Et&&(W.isSoftWrapped=!0,W=Et,G.push(W),Z=I)}let Rt=W.glyphAt(W.count);Rt.glyphObj=He,Rt.x=Le+Ke,Rt.y=Je,Rt.width=vt,Rt.charIndex=st,Rt.fontData=Ze,nt===`
`&&(W=new h,G.push(W),Ke=-(Le+vt+T*S)+L)}),Ue=pt+he.advanceWidth*me+T*S});let ce=0;G.forEach(We=>{let Be=!0;for(let Xe=We.count;Xe--;){const ct=We.glyphAt(Xe);Be&&!ct.glyphObj.isWhitespace&&(We.width=ct.x+ct.width,We.width>Z&&(Z=We.width),Be=!1);let{lineHeight:qe,capHeight:ot,xHeight:ut,baseline:at}=ct.fontData;qe>We.lineHeight&&(We.lineHeight=qe);const Ze=at-We.baseline;Ze<0&&(We.baseline+=Ze,We.cap+=Ze,We.ex+=Ze),We.cap=Math.max(We.cap,We.baseline+ot),We.ex=Math.max(We.ex,We.baseline+ut)}We.baseline-=ce,We.cap-=ce,We.ex-=ce,ce+=We.lineHeight});let Me=0,ve=0;if(z&&(typeof z=="number"?Me=-z:typeof z=="string"&&(Me=-Z*(z==="left"?0:z==="center"?.5:z==="right"?1:u(z)))),$&&(typeof $=="number"?ve=-$:typeof $=="string"&&(ve=$==="top"?0:$==="top-baseline"?-G[0].baseline:$==="top-cap"?-G[0].cap:$==="top-ex"?-G[0].ex:$==="middle"?ce/2:$==="bottom"?ce:$==="bottom-baseline"?-G[G.length-1].baseline:u($)*ce)),!K){const We=e.getEmbeddingLevels(v,O);ge=new Uint16Array(Ie),de=new Uint8Array(Ie),be=new Float32Array(Ie*2),fe={},ee=[1/0,1/0,-1/0,-1/0],we=[],F&&(Se=new Float32Array(v.length*4)),X&&(Te=new Uint8Array(Ie*3));let Be=0,Xe=-1,ct=-1,qe,ot;if(G.forEach((ut,at)=>{let{count:Ze,width:me}=ut;if(Ze>0){let Fe=0;for(let st=Ze;st--&&ut.glyphAt(st).glyphObj.isWhitespace;)Fe++;let pt=0,he=0;if(C==="center")pt=(Z-me)/2;else if(C==="right")pt=Z-me;else if(C==="justify"&&ut.isSoftWrapped){let st=0;for(let nt=Ze-Fe;nt--;)ut.glyphAt(nt).glyphObj.isWhitespace&&st++;he=(Z-me)/st}if(he||pt){let st=0;for(let nt=0;nt<Ze;nt++){let vt=ut.glyphAt(nt);const It=vt.glyphObj;vt.x+=pt+st,he!==0&&It.isWhitespace&&nt<Ze-Fe&&(st+=he,vt.width+=he)}}const He=e.getReorderSegments(v,We,ut.glyphAt(0).charIndex,ut.glyphAt(ut.count-1).charIndex);for(let st=0;st<He.length;st++){const[nt,vt]=He[st];let It=1/0,Et=-1/0;for(let Rt=0;Rt<Ze;Rt++)if(ut.glyphAt(Rt).charIndex>=nt){let Mn=Rt,Cn=Rt;for(;Cn<Ze;Cn++){let Zn=ut.glyphAt(Cn);if(Zn.charIndex>vt)break;Cn<Ze-Fe&&(It=Math.min(It,Zn.x),Et=Math.max(Et,Zn.x+Zn.width))}for(let Zn=Mn;Zn<Cn;Zn++){const Ti=ut.glyphAt(Zn);Ti.x=Et-(Ti.x+Ti.width-It)}break}}let Le;const Je=st=>Le=st;for(let st=0;st<Ze;st++){const nt=ut.glyphAt(st);Le=nt.glyphObj;const vt=Le.index,It=We.levels[nt.charIndex]&1;if(It){const Et=e.getMirroredCharacter(v[nt.charIndex]);Et&&nt.fontData.fontObj.forEachGlyph(Et,0,0,Je)}if(F){const{charIndex:Et,fontData:Rt}=nt,Mn=nt.x+Me,Cn=nt.x+nt.width+Me;Se[Et*4]=It?Cn:Mn,Se[Et*4+1]=It?Mn:Cn,Se[Et*4+2]=ut.baseline+Rt.caretBottom+ve,Se[Et*4+3]=ut.baseline+Rt.caretTop+ve;const Zn=Et-Xe;Zn>1&&c(Se,Xe,Zn),Xe=Et}if(X){const{charIndex:Et}=nt;for(;Et>ct;)ct++,X.hasOwnProperty(ct)&&(ot=X[ct])}if(!Le.isWhitespace&&!Le.isEmpty){const Et=Be++,{fontSizeMult:Rt,src:Mn,index:Cn}=nt.fontData,Zn=fe[Mn]||(fe[Mn]={});Zn[vt]||(Zn[vt]={path:Le.path,pathBounds:[Le.xMin,Le.yMin,Le.xMax,Le.yMax]});const Ti=nt.x+Me,Ar=nt.y+ut.baseline+ve;be[Et*2]=Ti,be[Et*2+1]=Ar;const gi=Ti+Le.xMin*Rt,To=Ar+Le.yMin*Rt,Pi=Ti+Le.xMax*Rt,Ci=Ar+Le.yMax*Rt;gi<ee[0]&&(ee[0]=gi),To<ee[1]&&(ee[1]=To),Pi>ee[2]&&(ee[2]=Pi),Ci>ee[3]&&(ee[3]=Ci),Et%j===0&&(qe={start:Et,end:Et,rect:[1/0,1/0,-1/0,-1/0]},we.push(qe)),qe.end++;const Ur=qe.rect;if(gi<Ur[0]&&(Ur[0]=gi),To<Ur[1]&&(Ur[1]=To),Pi>Ur[2]&&(Ur[2]=Pi),Ci>Ur[3]&&(Ur[3]=Ci),ge[Et]=vt,de[Et]=Cn,X){const co=Et*3;Te[co]=ot>>16&255,Te[co+1]=ot>>8&255,Te[co+2]=ot&255}}}}}),Se){const ut=v.length-Xe;ut>1&&c(Se,Xe,ut)}}const ke=[];Ne.forEach(({index:We,src:Be,unitsPerEm:Xe,ascender:ct,descender:qe,lineHeight:ot,capHeight:ut,xHeight:at})=>{ke[We]={src:Be,unitsPerEm:Xe,ascender:ct,descender:qe,lineHeight:ot,capHeight:ut,xHeight:at}}),se.typesetting=f()-Ee,H({glyphIds:ge,glyphFontIndices:de,glyphPositions:be,glyphData:fe,fontData:ke,caretPositions:Se,glyphColors:Te,chunkedBounds:we,fontSize:S,topBaseline:ve+G[0].baseline,blockBounds:[Me,ve-ce,Me+Z,ve],visibleBounds:ee,timings:se})})}function l(v,b){s({...v,metricsOnly:!0},x=>{const[_,S,w,E]=x.blockBounds;b({width:w-_,height:E-S})})}function u(v){let b=v.match(/^([\d.]+)%$/),x=b?parseFloat(b[1]):NaN;return isNaN(x)?0:x/100}function c(v,b,x){const _=v[b*4],S=v[b*4+1],w=v[b*4+2],E=v[b*4+3],T=(S-_)/x;for(let P=0;P<x;P++){const I=(b+P)*4;v[I]=_+T*P,v[I+1]=_+T*(P+1),v[I+2]=w,v[I+3]=E}}function f(){return(self.performance||Date).now()}function h(){this.data=[]}const g=["glyphObj","x","y","width","charIndex","fontData"];return h.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/g.length)},glyphAt(v){let b=h.flyweight;return b.data=this.data,b.index=v,b},splitAt(v){let b=new h;return b.data=this.data.splice(v*g.length),b}},h.flyweight=g.reduce((v,b,x,_)=>(Object.defineProperty(v,b,{get(){return this.data[this.index*g.length+x]},set(S){this.data[this.index*g.length+x]=S}}),v),{data:null,index:0}),{typeset:s,measure:l}}const bd=()=>(self.performance||Date).now(),lA=BV();let vz;function tNe(t,e,n,r,i,o,a,s,l,u,c=!0){return c?rNe(t,e,n,r,i,o,a,s,l,u).then(null,f=>(vz||(console.warn("WebGL SDF generation failed, falling back to JS",f),vz=!0),_z(t,e,n,r,i,o,a,s,l,u))):_z(t,e,n,r,i,o,a,s,l,u)}const Gb=[],nNe=5;let GO=0;function jV(){const t=bd();for(;Gb.length&&bd()-t<nNe;)Gb.shift()();GO=Gb.length?setTimeout(jV,0):0}const rNe=(...t)=>new Promise((e,n)=>{Gb.push(()=>{const r=bd();try{lA.webgl.generateIntoCanvas(...t),e({timing:bd()-r})}catch(i){n(i)}}),GO||(GO=setTimeout(jV,0))}),iNe=4,oNe=2e3,yz={};let aNe=0;function _z(t,e,n,r,i,o,a,s,l,u){const c="TroikaTextSDFGenerator_JS_"+aNe++%iNe;let f=yz[c];return f||(f=yz[c]={workerModule:qg({name:c,workerId:c,dependencies:[BV,bd],init(h,g){const v=h().javascript.generate;return function(...b){const x=g();return{textureData:v(...b),timing:g()-x}}},getTransferables(h){return[h.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(t,e,n,r,i,o).then(({textureData:h,timing:g})=>{const v=bd(),b=new Uint8Array(h.length*4);for(let x=0;x<h.length;x++)b[x*4+u]=h[x];return lA.webglUtils.renderImageData(a,b,s,l,t,e,1<<3-u),g+=bd()-v,--f.requests===0&&(f.idleTimer=setTimeout(()=>{UDe(c)},oNe)),{timing:g}})}function sNe(t){t._warm||(lA.webgl.isSupported(t),t._warm=!0)}const lNe=lA.webglUtils.resizeWebGLCanvasWithoutClearing,rm={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},uNe=new St;function em(){return(self.performance||Date).now()}const xz=Object.create(null);function $V(t,e){t=hNe({},t);const n=em(),{defaultFontURL:r}=rm,i=[];if(r&&i.push({label:"default",src:bz(r)}),t.font&&i.push({label:"user",src:bz(t.font)}),t.font=i,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||rm.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||rm.unicodeFontsURL,t.colorRanges!=null){let g={};for(let v in t.colorRanges)if(t.colorRanges.hasOwnProperty(v)){let b=t.colorRanges[v];typeof b!="number"&&(b=uNe.set(b).getHex()),g[v]=b}t.colorRanges=g}Object.freeze(t);const{textureWidth:o,sdfExponent:a}=rm,{sdfGlyphSize:s}=t,l=o/s*4;let u=xz[s];if(!u){const g=document.createElement("canvas");g.width=o,g.height=s*256/l,u=xz[s]={glyphCount:0,sdfGlyphSize:s,sdfCanvas:g,sdfTexture:new Er(g,void 0,void 0,void 0,ai,ai),contextLost:!1,glyphsByFont:new Map},u.sdfTexture.generateMipmaps=!1,cNe(u)}const{sdfTexture:c,sdfCanvas:f}=u;WV(t).then(g=>{const{glyphIds:v,glyphFontIndices:b,fontData:x,glyphPositions:_,fontSize:S,timings:w}=g,E=[],T=new Float32Array(v.length*4);let P=0,I=0;const O=em(),C=x.map($=>{let K=u.glyphsByFont.get($.src);return K||u.glyphsByFont.set($.src,K=new Map),K});v.forEach(($,K)=>{const q=b[K],{src:Q,unitsPerEm:F}=x[q];let j=C[q].get($);if(!j){const{path:re,pathBounds:ie}=g.glyphData[Q][$],ge=Math.max(ie[2]-ie[0],ie[3]-ie[1])/s*(rm.sdfMargin*s+.5),de=u.glyphCount++,be=[ie[0]-ge,ie[1]-ge,ie[2]+ge,ie[3]+ge];C[q].set($,j={path:re,atlasIndex:de,sdfViewBox:be}),E.push(j)}const{sdfViewBox:X}=j,H=_[I++],Y=_[I++],se=S/F;T[P++]=H+X[0]*se,T[P++]=Y+X[1]*se,T[P++]=H+X[2]*se,T[P++]=Y+X[3]*se,v[K]=j.atlasIndex}),w.quads=(w.quads||0)+(em()-O);const L=em();w.sdf={};const N=f.height,U=Math.ceil(u.glyphCount/l),z=Math.pow(2,Math.ceil(Math.log2(U*s)));z>N&&(console.info(`Increasing SDF texture size ${N}->${z}`),lNe(f,o,z),c.dispose()),Promise.all(E.map($=>HV($,u,t.gpuAccelerateSDF).then(({timing:K})=>{w.sdf[$.atlasIndex]=K}))).then(()=>{E.length&&!u.contextLost&&(GV(u),c.needsUpdate=!0),w.sdfTotal=em()-L,w.total=em()-n,e(Object.freeze({parameters:t,sdfTexture:c,sdfGlyphSize:s,sdfExponent:a,glyphBounds:T,glyphAtlasIndices:v,glyphColors:g.glyphColors,caretPositions:g.caretPositions,chunkedBounds:g.chunkedBounds,ascender:g.ascender,descender:g.descender,lineHeight:g.lineHeight,capHeight:g.capHeight,xHeight:g.xHeight,topBaseline:g.topBaseline,blockBounds:g.blockBounds,visibleBounds:g.visibleBounds,timings:g.timings}))})}),Promise.resolve().then(()=>{u.contextLost||sNe(f)})}function HV({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:o},a){if(o)return Promise.resolve({timing:-1});const{textureWidth:s,sdfExponent:l}=rm,u=Math.max(n[2]-n[0],n[3]-n[1]),c=Math.floor(e/4),f=c%(s/r)*r,h=Math.floor(c/(s/r))*r,g=e%4;return tNe(r,r,t,n,u,l,i,f,h,g,a)}function cNe(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(o=>{r.push(HV(o,t,!0))})}),Promise.all(r).then(()=>{GV(t),t.sdfTexture.needsUpdate=!0})})}function fNe({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;$V({font:t,sdfGlyphSize:n,text:i},r)}function hNe(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let Eb;function bz(t){return Eb||(Eb=typeof document>"u"?{}:document.createElement("a")),Eb.href=t,Eb.href}function GV(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,o=t.sdfCanvas.getContext("webgl");let a=n.image.data;(!a||a.length!==r*i*4)&&(a=new Uint8Array(r*i*4),n.image={width:r,height:i,data:a},n.flipY=!1,n.isDataTexture=!0),o.readPixels(0,0,r,i,o.RGBA,o.UNSIGNED_BYTE,a)}}const dNe=qg({name:"Typesetter",dependencies:[eNe,QDe,BDe],init(t,e,n){return t(e,n())}}),WV=qg({name:"Typesetter",dependencies:[dNe],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});WV.onMainThread;const Sz={};function pNe(t){let e=Sz[t];return e||(e=Sz[t]=new gc(1,1,t,t).translate(.5,.5,0)),e}const mNe="aTroikaGlyphBounds",wz="aTroikaGlyphIndex",gNe="aTroikaGlyphColor";class vNe extends D3{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new so,this.boundingBox=new ao}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=pNe(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,o){this.updateAttributeData(mNe,e,4),this.updateAttributeData(wz,n,1),this.updateAttributeData(gNe,o,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:o,min:a,max:s,sin:l,cos:u}=Math,c=i/2,f=i*2,h=Math.abs(n),g=e[0]/h,v=e[2]/h,b=o((g+c)/f)!==o((v+c)/f)?-h:a(l(g)*h,l(v)*h),x=o((g-c)/f)!==o((v-c)/f)?h:s(l(g)*h,l(v)*h),_=o((g+i)/f)!==o((v+i)/f)?h*2:s(h-u(g)*h,h-u(v)*h);r.min.set(b,e[1],n<0?-_:0),r.max.set(x,e[3],n<0?0:_)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(wz).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let o=r[i].rect;if(o[1]<e.w&&o[3]>e.y&&o[0]<e.z&&o[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,r){const i=this.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(this.setAttribute(e,new Nd(n,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const yNe=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,_Ne=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,xNe=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,bNe=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function SNe(t){const e=HO(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new tt},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Dn(0,0,0,0)},uTroikaClipRect:{value:new Dn(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new tt},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new St},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new un},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:yNe,vertexTransform:_Ne,fragmentDefs:xNe,fragmentColorTransform:bNe,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(zV,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const H3=new mc({color:16777215,side:sl,transparent:!0}),Mz=8421504,Ez=new Jt,Ab=new ae,H2=new ae,py=[],wNe=new ae,G2="+x+y";function Az(t){return Array.isArray(t)?t[0]:t}let VV=()=>{const t=new Dr(new gc(1,1),H3);return VV=()=>t,t},XV=()=>{const t=new Dr(new gc(1,1,32,1),H3);return XV=()=>t,t};const MNe={type:"syncstart"},ENe={type:"synccomplete"},qV=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],ANe=qV.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let YV=class extends Dr{constructor(){const e=new vNe;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=Mz,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=G2,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(MNe),$V({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(ENe),e&&e()})))}onBeforeRender(e,n,r,i,o,a){this.sync(),o.isTroikaTextMaterial&&this._prepareForRender(o)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return SNe(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=H3.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.hasOutline()){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return Az(this.material).getDepthMaterial()}get customDistanceMaterial(){return Az(this.material).getDistanceMaterial()}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:s,blockBounds:l}=i;r.uTroikaSDFTexture.value=s,r.uTroikaSDFTextureSize.value.set(s.image.width,s.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let u=0,c=0,f=0,h,g,v,b=0,x=0;if(n){let{outlineWidth:S,outlineOffsetX:w,outlineOffsetY:E,outlineBlur:T,outlineOpacity:P}=this;u=this._parsePercent(S)||0,c=Math.max(0,this._parsePercent(T)||0),h=P,b=this._parsePercent(w)||0,x=this._parsePercent(E)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(v=this.strokeColor,r.uTroikaStrokeColor.value.set(v??Mz),g=this.strokeOpacity,g==null&&(g=1)),h=this.fillOpacity;r.uTroikaEdgeOffset.value=u,r.uTroikaPositionOffset.value.set(b,x),r.uTroikaBlurRadius.value=c,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=g,r.uTroikaFillOpacity.value=h??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let _=this.clipRect;if(_&&Array.isArray(_)&&_.length===4)r.uTroikaClipRect.value.fromArray(_);else{const S=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-S,l[1]-S,l[2]+S,l[3]+S)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const o=n?this.outlineColor||0:this.color;if(o==null)delete e.color;else{const s=e.hasOwnProperty("color")?e.color:e.color=new St;(o!==s._input||typeof o=="object")&&s.set(s._input=o)}let a=this.orientation||G2;if(a!==e._orientation){let s=r.uTroikaOrient.value;a=a.replace(/[^-+xyz]/g,"");let l=a!==G2&&a.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,u,c,f,h]=l;Ab.set(0,0,0)[c]=u==="-"?1:-1,H2.set(0,0,0)[h]=f==="-"?-1:1,Ez.lookAt(wNe,Ab.cross(H2),H2),s.setFromMatrix4(Ez)}else s.identity();e._orientation=a}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new tt){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new tt){return Ab.copy(e),this.localPositionToTextCoords(this.worldToLocal(Ab),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const o=r.blockBounds,a=i?XV():VV(),s=a.geometry,{position:l,uv:u}=s.attributes;for(let c=0;c<u.count;c++){let f=o[0]+u.getX(c)*(o[2]-o[0]);const h=o[1]+u.getY(c)*(o[3]-o[1]);let g=0;i&&(g=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(c,f,h,g)}s.boundingSphere=this.geometry.boundingSphere,s.boundingBox=this.geometry.boundingBox,a.matrixWorld=this.matrixWorld,a.material.side=this.material.side,py.length=0,a.raycast(e,py);for(let c=0;c<py.length;c++)py[c].object=this,n.push(py[c])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,ANe.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};qV.forEach(t=>{const e="_private_"+t;Object.defineProperty(YV.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new ao;new St;const vke=oe.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:o,characters:a,onSync:s,...l},u)=>{const c=Iu(({invalidate:v})=>v),[f]=oe.useState(()=>new YV),[h,g]=oe.useMemo(()=>{const v=[];let b="";return oe.Children.forEach(o,x=>{typeof x=="string"||typeof x=="number"?b+=x:v.push(x)}),[v,b]},[o]);return BLe(()=>new Promise(v=>fNe({font:r,characters:a},v)),["troika-text",r,a]),oe.useLayoutEffect(()=>void f.sync(()=>{c(),s&&s(f)})),oe.useEffect(()=>()=>f.dispose(),[f]),oe.createElement("primitive",ew({object:f,ref:u,font:r,text:g,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),h)}),yke=oe.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:o=!1,onChange:a,onStart:s,onEnd:l,...u},c)=>{const f=Iu(P=>P.invalidate),h=Iu(P=>P.camera),g=Iu(P=>P.gl),v=Iu(P=>P.events),b=Iu(P=>P.setEvents),x=Iu(P=>P.set),_=Iu(P=>P.get),S=Iu(P=>P.performance),w=e||h,E=r||v.connected||g.domElement,T=oe.useMemo(()=>new IDe(w),[w]);return sDe(()=>{T.enabled&&T.update()},-1),oe.useEffect(()=>(o&&T.connect(o===!0?E:o),T.connect(E),()=>void T.dispose()),[o,E,n,T,f]),oe.useEffect(()=>{const P=C=>{f(),n&&S.regress(),a&&a(C)},I=C=>{s&&s(C)},O=C=>{l&&l(C)};return T.addEventListener("change",P),T.addEventListener("start",I),T.addEventListener("end",O),()=>{T.removeEventListener("start",I),T.removeEventListener("end",O),T.removeEventListener("change",P)}},[a,s,l,T,f,b]),oe.useEffect(()=>{if(t){const P=_().controls;return x({controls:T}),()=>x({controls:P})}},[t,T]),oe.createElement("primitive",ew({ref:c,object:T,enableDamping:i},u))});export{NNe as $,zNe as A,lke as B,$Ne as C,XNe as D,HNe as E,uke as F,Ff as G,CNe as H,KNe as I,nE as J,fke as K,ONe as L,JNe as M,AE as N,QNe as O,hke as P,YNe as Q,le as R,tke as S,ike as T,qNe as U,ZNe as V,jNe as W,k_ as X,U_ as Y,DNe as Z,TNe as _,PNe as a,kNe as a0,LNe as a1,RNe as a2,an as a3,pke as a4,yke as a5,St as a6,vke as a7,rke as a8,$J as b,zL as c,UNe as d,nke as e,GNe as f,BNe as g,WNe as h,ake as i,An as j,ske as k,DEe as l,Du as m,Nm as n,ME as o,dke as p,$g as q,oe as r,cke as s,L1e as t,N_ as u,D_ as v,yE as w,eke as x,FNe as y,VNe as z};

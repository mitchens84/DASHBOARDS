<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thailand-Malaysia Journey Planner | March 21-April 1, 2025</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            /* Core color palette */
            --primary: #3498db;
            --primary-light: #5dade2;
            --primary-dark: #2980b9;
            --secondary: #1abc9c;
            --secondary-light: #48c9b0;
            --secondary-dark: #16a085;
            --tertiary: #9b59b6;
            --tertiary-light: #bb8fce;
            --tertiary-dark: #8e44ad;
            --accent: #f39c12;
            --accent-light: #f8c471;
            --accent-dark: #d35400;
            --background: #f9f9f9;
            --card-bg: #ffffff;
            --text-primary: #2c3e50;
            --text-secondary: #7f8c8d;
            --text-light: #ecf0f1;
            
            /* Status colors */
            --success: #2ecc71;
            --success-light: #a9dfbf;
            --warning: #f1c40f;
            --warning-light: #f9e79f;
            --danger: #e74c3c;
            --danger-light: #f5b7b1;
            --info: #3498db;
            --info-light: #aed6f1;
            
            /* Risk levels */
            --risk-low: #2ecc71;
            --risk-medium: #f39c12;
            --risk-high: #e74c3c;
            --risk-critical: #c0392b;
            
            /* UI elements */
            --border-radius: 8px;
            --border-radius-lg: 12px;
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
            --shadow: 0 4px 6px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 15px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
            
            /* Typography */
            --font-sans: 'Segoe UI', system-ui, -apple-system, sans-serif;
            --font-mono: 'Consolas', monospace;
        }

        /* Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--font-sans);
            color: var(--text-primary);
            background-color: var(--background);
            line-height: 1.6;
            padding: 0;
            margin: 0;
        }
        
        a {
            color: var(--primary);
            text-decoration: none;
            transition: var(--transition);
        }
        
        a:hover {
            color: var(--primary-dark);
            text-decoration: underline;
        }
        
        h1, h2, h3, h4, h5, h6 {
            margin-bottom: 0.5rem;
            font-weight: 600;
            line-height: 1.2;
        }
        
        /* Container and layout */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 1rem;
        }
        
        .row {
            display: flex;
            flex-wrap: wrap;
            margin: 0 -0.5rem;
        }
        
        .col {
            flex: 1;
            padding: 0 0.5rem;
        }
        
        /* Header */
        .app-header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 2rem 0;
            text-align: center;
            margin-bottom: 2rem;
            box-shadow: var(--shadow);
        }
        
        .app-header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        .app-header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .logo {
            max-width: 150px;
            margin-bottom: 1rem;
        }
        
        /* Overview cards */
        .overview {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 2rem;
        }
        
        .overview-card {
            flex: 1;
            min-width: 200px;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
            display: flex;
            align-items: center;
        }
        
        .overview-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }
        
        .overview-icon {
            background: var(--primary-light);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 1rem;
            font-size: 1.3rem;
        }
        
        .overview-content h3 {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 0.25rem;
        }
        
        .overview-content p {
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        /* Trip progress */
        .progress-container {
            margin-bottom: 2rem;
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--shadow-sm);
        }
        
        .progress-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }
        
        .progress-title {
            font-weight: 600;
            font-size: 1.2rem;
        }
        
        .progress-status {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .progress-bar-container {
            height: 8px;
            background: var(--primary-light);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 0.5rem;
        }
        
        .progress-bar {
            height: 100%;
            background: var(--primary);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .milestones {
            display: flex;
            justify-content: space-between;
            margin-top: 0.25rem;
        }
        
        .milestone {
            text-align: center;
            flex: 1;
            position: relative;
        }
        
        .milestone::before {
            content: '';
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: var(--primary-light);
            z-index: 2;
        }
        
        .milestone.active::before {
            background: var(--primary);
        }
        
        .milestone.completed::before {
            background: var(--primary-dark);
        }
        
        .milestone-label {
            font-size: 0.8rem;
            color: var(--text-secondary);
            margin-top: 0.5rem;
        }
        
        /* Tabs */
        .tabs {
            display: flex;
            margin-bottom: 2rem;
            border-bottom: 1px solid #e1e1e1;
            overflow-x: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        .tab {
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            color: var(--text-secondary);
            cursor: pointer;
            position: relative;
            white-space: nowrap;
        }
        
        .tab.active {
            color: var(--primary);
        }
        
        .tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            right: 0;
            height: 3px;
            background: var(--primary);
        }
        
        /* Tab content */
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* Cards */
        .card {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow-sm);
            transition: var(--transition);
        }
        
        .card:hover {
            box-shadow: var(--shadow);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e1e1e1;
        }
        
        .card-title {
            font-weight: 600;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
        }
        
        .card-title i {
            margin-right: 0.5rem;
            color: var(--primary);
        }
        
        /* Itinerary styles */
        .day-container {
            margin-bottom: 2rem;
        }
        
        .day-header {
            background: var(--card-bg);
            border-radius: var(--border-radius-lg);
            padding: 1.5rem;
            margin-bottom: 1rem;
            box-shadow: var(--shadow);
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .day-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--primary);
        }
        
        .day-header:hover {
            transform: translateY(-2px);
        }
        
        .day-title {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .day-title h2 {
            font-size: 1.3rem;
            margin: 0;
        }
        
        .day-title .day-chevron {
            transition: var(--transition);
        }
        
        .day-container.collapsed .day-chevron {
            transform: rotate(-90deg);
        }
        
        .day-subtitle {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 0.25rem;
            display: flex;
            align-items: center;
        }
        
        .day-subtitle i {
            margin-right: 0.5rem;
        }
        
        .day-meta {
            display: flex;
            margin-top: 1rem;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .meta-item {
            display: flex;
            align-items: center;
            font-size: 0.9rem;
            color: var(--text-secondary);
            background: rgba(0, 0, 0, 0.03);
            padding: 0.25rem 0.75rem;
            border-radius: 50px;
        }
        
        .meta-item i {
            margin-right: 0.5rem;
        }
        
        .day-content {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .day-container.collapsed .day-content {
            display: none;
        }
        
        /* Event styles */
        .event {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 1.5rem;
            box-shadow: var(--shadow-sm);
            display: flex;
            margin-bottom: 1rem;
            position: relative;
            overflow: hidden;
        }
        
        .event::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
        }
        
        .event.transport::before {
            background: var(--info);
        }
        
        .event.accommodation::before {
            background: var(--success);
        }
        
        .event.activity::before {
            background: var(--accent);
        }
        
        .event.food::before {
            background: var(--secondary);
        }
        
        .event.important::before {
            background: var(--danger);
        }
        
        .event:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow);
        }
        
        .event-time {
            min-width: 100px;
            color: var(--text-secondary);
            font-size: 0.9rem;
            padding-right: 1rem;
            position: relative;
        }
        
        .event-time::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 1px;
            height: 100%;
            background: #e1e1e1;
        }
        
        .event-icon {
            margin-left: 1rem;
            margin-right: 1rem;
            width: 40px;
            height: 40px;
            background: var(--background);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-primary);
        }
        
        .event.transport .event-icon {
            color: var(--info);
        }
        
        .event.accommodation .event-icon {
            color: var(--success);
        }
        
        .event.activity .event-icon {
            color: var(--accent);
        }
        
        .event.food .event-icon {
            color: var(--secondary);
        }
        
        .event.important .event-icon {
            color: var(--danger);
        }
        
        .event-details {
            flex: 1;
        }
        
        .event-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .event-location {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }
        
        .event-location i {
            margin-right: 0.5rem;
            font-size: 0.8rem;
        }
        
        .event-description {
            font-size: 0.95rem;
            margin-bottom: 0.5rem;
        }
        
        .event-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .event-tag {
            font-size: 0.8rem;
            padding: 0.2rem 0.6rem;
            border-radius: 50px;
            display: flex;
            align-items: center;
        }
        
        .event-tag i {
            margin-right: 0.25rem;
            font-size: 0.7rem;
        }
        
        .tag-info {
            background: var(--info-light);
            color: var(--info);
        }
        
        .tag-success {
            background: var(--success-light);
            color: var(--success);
        }
        
        .tag-warning {
            background: var(--warning-light);
            color: var(--accent-dark);
        }
        
        .tag-danger {
            background: var(--danger-light);
            color: var(--danger);
        }
        
        .event-toggle {
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: var(--primary);
            cursor: pointer;
            display: flex;
            align-items: center;
        }
        
        .event-toggle i {
            margin-left: 0.5rem;
            transition: var(--transition);
        }
        
        .event.expanded .event-toggle i {
            transform: rotate(180deg);
        }
        
        .event-extra {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
            margin-top: 0;
        }
        
        .event.expanded .event-extra {
            max-height: 1000px;
            margin-top: 0.5rem;
        }
        
        /* Checklists */
        .checklist-container {
            background: var(--card-bg);
            border-radius: var(--border-radius);
            margin-bottom: 1.5rem;
            overflow: hidden;
        }
        
        .checklist-header {
            padding: 1rem 1.5rem;
            cursor: pointer;
            background: var(--background);
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 600;
            border-bottom: 1px solid #e1e1e1;
        }
        
        .checklist-header i {
            transition: var(--transition);
        }
        
        .checklist-container.collapsed .checklist-header i {
            transform: rotate(-90deg);
        }
        
        .checklist-content {
            padding: 1rem 1.5rem;
        }
        
        .checklist-container.collapsed .checklist-content {
            display: none;
        }
        
        .checklist-progress {
            height: 4px;
            background: #e1e1e1;
            margin-bottom: 1rem;
            border-radius: 2px;
            overflow: hidden;
        }
        
        .checklist-progress-bar {
            height: 100%;
            background: var(--success);
            width: 0%;
            transition: width 0.3s ease;
        }
        
        .task-list {
            list-style: none;
        }
        
        .task-item {
            padding: 0.75rem 0;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            align-items: flex-start;
        }
        
        .task-item:last-child {
            border-bottom: none;
        }
        
        .task-checkbox {
            margin-right: 0.75rem;
            margin-top: 0.25rem;
        }
        
        .task-content {
            flex: 1;
        }
        
        .task-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
            display: flex;
            align-items: center;
        }
        
        .task-title .priority {
            margin-left: 0.5rem;
            font-size: 0.7rem;
            padding: 0.1rem 0.5rem;
            border-radius: 50px;
            font-weight: normal;
            text-transform: uppercase;
        }
        
        .priority-low {
            background: var(--success-light);
            color: var(--success);
        }
        
        .priority-medium {
            background: var(--warning-light);
            color: var(--accent-dark);
        }
        
        .priority-high {
            background: var(--danger-light);
            color: var(--danger);
        }
        
        .priority-critical {
            background: var(--danger);
            color: white;
        }
        
        .task-description {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .task-item.completed .task-title {
            text-decoration: line-through;
            color: var(--text-secondary);
        }
        
        .task-item.completed .task-description {
            text-decoration: line-through;
            color: var(--text-secondary);
        }
        
        /* Weather widget */
        .weather {
            display: flex;
            align-items: center;
            background: linear-gradient(135deg, #74ebd5, #9face6);
            color: white;
            border-radius: var(--border-radius);
            padding: 1rem;
            margin-bottom: 1rem;
        }
        
        .weather-icon {
            font-size: 2.5rem;
            margin-right: 1rem;
        }
        
        .weather-info p {
            margin: 0;
            line-height: 1.3;
        }
        
        .weather-temp {
            font-size: 1.1rem;
            font-weight: 600;
        }
        
        /* Risk assessment */
        .risk-assessment {
            margin-top: 1rem;
        }
        
        .risk-item {
            display: flex;
            align-items: center;
            margin-bottom: 0.5rem;
            padding: 0.5rem;
            border-radius: var(--border-radius);
            background: var(--background);
        }
        
        .risk-level {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 0.75rem;
        }
        
        .risk-low {
            background: var(--risk-low);
        }
        
        .risk-medium {
            background: var(--risk-medium);
        }
        
        .risk-high {
            background: var(--risk-high);
        }
        
        .risk-critical {
            background: var(--risk-critical);
        }
        
        .risk-text {
            font-size: 0.9rem;
        }
        
        /* Accommodation */
        .accommodation-card {
            margin-top: 1rem;
            display: flex;
            flex-direction: column;
            border: 1px solid #e1e1e1;
            border-radius: var(--border-radius);
            overflow: hidden;
        }
        
        .accommodation-header {
            padding: 1rem;
            background: #f5f5f5;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .accommodation-title {
            font-weight: 600;
            display: flex;
            align-items: center;
        }
        
        .accommodation-title i {
            margin-right: 0.5rem;
            color: var(--success);
        }
        
        .accommodation-price {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .accommodation-body {
            padding: 1rem;
        }
        
        .accommodation-features {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }
        
        .accommodation-feature {
            font-size: 0.8rem;
            padding: 0.2rem 0.6rem;
            border-radius: 50px;
            background: var(--background);
            display: flex;
            align-items: center;
        }
        
        .accommodation-feature i {
            margin-right: 0.25rem;
            font-size: 0.7rem;
        }

        /* Transportation tables */
        .transportation-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .transportation-table th,
        .transportation-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #e1e1e1;
        }

        .transportation-table th {
            font-weight: 600;
            background: var(--background);
        }

        .transportation-table tr:last-child td {
            border-bottom: none;
        }

        .booking-info {
            background: var(--background);
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-top: 1rem;
        }

        .booking-info h4 {
            margin-bottom: 0.5rem;
        }

        .booking-info ul {
            padding-left: 1.5rem;
        }

        .wellness-option {
            background: var(--background);
            padding: 1rem;
            border-radius: var(--border-radius);
            margin-bottom: 1rem;
        }

        .wellness-option h4 {
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }

        .wellness-option h4 i {
            margin-right: 0.5rem;
            color: var(--accent);
        }

        .wellness-option p {
            margin-bottom: 0.25rem;
        }

        .mitigation-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
        }

        .mitigation-table th,
        .mitigation-table td {
            padding: 0.75rem;
            text-align: left;
            border-bottom: 1px solid #e1e1e1;
        }

        .mitigation-table th {
            font-weight: 600;
            background: var(--background);
        }

        .destination-risks {
            margin-top: 1rem;
        }

        .destination-risks h5 {
            margin-top: 1rem;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
        }

        .destination-risks h5 i {
            margin-right: 0.5rem;
            color: var(--primary);
        }

        .destination-risks ul {
            padding-left: 1.5rem;
        }

        .emergency-contacts {
            margin-top: 1rem;
        }

        .emergency-contacts h4 {
            margin-bottom: 0.5rem;
        }

        .emergency-contacts ul {
            padding-left: 1.5rem;
        }

        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            background-color: var(--card-bg);
            color: var(--text-primary);
            border-left: 4px solid var(--info);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            z-index: 1000;
            max-width: 300px;
            font-size: 0.9rem;
            animation: slideIn 0.3s ease, fadeOut 0.5s ease 5s forwards;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; visibility: hidden; }
        }
        
        /* Print styles */
        @media print {
            body {
                background: white;
                font-size: 12pt;
                color: black;
            }
            
            .container {
                max-width: 100%;
                padding: 0;
            }
            
            .app-header {
                background: none;
                color: black;
                padding: 1rem 0;
                box-shadow: none;
                text-align: left;
            }
            
            .logo, .tabs, .progress-container, .overview {
                display: none;
            }
            
            .card, .day-header, .event {
                box-shadow: none;
                border: 1px solid #ccc;
                break-inside: avoid;
            }
            
            .day-container {
                break-before: page;
            }
            
            .day-container.collapsed .day-content {
                display: block;
            }
            
            .checklist-container.collapsed .checklist-content {
                display: block;
            }
            
            .event-extra {
                max-height: none;
                display: block;
            }
            
            .event-toggle {
                display: none;
            }
            
            .task-checkbox {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            
            /* Expand all collapsed elements for printing */
            .day-chevron, .checklist-header i {
                display: none;
            }

            /* Hide buttons */
            .print-button, .reset-button, .notification {
                display: none;
            }
        }
        
        /* Responsive styles */
        @media (max-width: 768px) {
            .container {
                padding: 0 0.5rem;
            }
            
            .row {
                flex-direction: column;
            }
            
            .col {
                padding: 0;
            }
            
            .overview-card {
                min-width: 100%;
            }
            
            .event {
                flex-direction: column;
            }
            
            .event-time {
                min-width: auto;
                padding-right: 0;
                padding-bottom: 0.5rem;
                margin-bottom: 0.5rem;
                border-bottom: 1px solid #e1e1e1;
            }
            
            .event-time::after {
                display: none;
            }
            
            .event-icon {
                display: none;
            }
        }

        /* Action buttons */
        .print-button, .reset-button {
            position: fixed;
            padding: 10px 15px;
            color: white;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            box-shadow: var(--shadow);
            z-index: 1000;
        }

        .print-button {
            bottom: 20px;
            right: 20px;
            background-color: var(--primary);
        }

        .reset-button {
            bottom: 20px;
            right: 140px;
            background-color: var(--danger);
        }

        .print-button:hover, .reset-button:hover {
            box-shadow: var(--shadow-lg);
        }
    </style>
</head>
<body>
    <header class="app-header">
        <div class="container">
            <img src="https://replicate.delivery/xezq/8OGjnRe8uA1eZ0FlF2sV4uqZpExeD0TPb88iHuBQeL8fzOMjC/out-0.webp" alt="Journey Planner" class="logo">
            <h1>Thailand-Malaysia Journey</h1>
            <p>March 21 - April 1, 2025</p>
        </div>
    </header>
    
    <main class="container">
        <div class="overview">
            <div class="overview-card">
                <div class="overview-icon">
                    <i class="fas fa-calendar-alt"></i>
                </div>
                <div class="overview-content">
                    <h3>Duration</h3>
                    <p>12 Days</p>
                </div>
            </div>
            <div class="overview-card">
                <div class="overview-icon">
                    <i class="fas fa-map-marker-alt"></i>
                </div>
                <div class="overview-content">
                    <h3>Destinations</h3>
                    <p>4 Locations</p>
                </div>
            </div>
            <div class="overview-card">
                <div class="overview-icon">
                    <i class="fas fa-plane"></i>
                </div>
                <div class="overview-content">
                    <h3>Flights</h3>
                    <p>4 Segments</p>
                </div>
            </div>
            <div class="overview-card">
                <div class="overview-icon">
                    <i class="fas fa-visa"></i>
                </div>
                <div class="overview-content">
                    <h3>Visa Status</h3>
                    <p>Exit Required by March 27</p>
                </div>
            </div>
        </div>
        
        <div class="progress-container">
            <div class="progress-header">
                <div class="progress-title">Journey Progress</div>
                <div class="progress-status">Planning Phase</div>
            </div>
            <div class="progress-bar-container">
                <div class="progress-bar" id="journeyProgress"></div>
            </div>
            <div class="milestones">
                <div class="milestone active" data-date="2025-03-15">
                    <div class="milestone-label">Planning</div>
                </div>
                <div class="milestone" data-date="2025-03-21">
                    <div class="milestone-label">Departure</div>
                </div>
                <div class="milestone" data-date="2025-03-26">
                    <div class="milestone-label">Krabi</div>
                </div>
                <div class="milestone" data-date="2025-03-27">
                    <div class="milestone-label">Malaysia</div>
                </div>
                <div class="milestone" data-date="2025-04-01">
                    <div class="milestone-label">Return</div>
                </div>
            </div>
        </div>
        
        <div class="tabs">
            <div class="tab active" data-tab="itinerary">Itinerary</div>
            <div class="tab" data-tab="checklist">Checklists</div>
            <div class="tab" data-tab="accommodation">Accommodation</div>
            <div class="tab" data-tab="transport">Transportation</div>
            <div class="tab" data-tab="activities">Activities & Meditation</div>
            <div class="tab" data-tab="risks">Risk Assessment</div>
        </div>
        
        <!-- ITINERARY TAB -->
        <div class="tab-content active" id="itinerary">
            <!-- DAY 1: March 21 -->
            <div class="day-container">
                <div class="day-header">
                    <div class="day-title">
                        <h2>Day 1: Friday, March 21</h2>
                        <i class="fas fa-chevron-down day-chevron"></i>
                    </div>
                    <div class="day-subtitle">
                        <i class="fas fa-route"></i> Chiang Mai to Koh Phangan
                    </div>
                    <div class="day-meta">
                        <div class="meta-item">
                            <i class="fas fa-sun"></i> 30-35°C, Hot & Humid
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-plane"></i> 2 Flights
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-ship"></i> 1 Ferry
                        </div>
                    </div>
                </div>
                <div class="day-content">
                    <div class="event transport">
                        <div class="event-time">07:00 AM</div>
                        <div class="event-icon">
                            <i class="fas fa-taxi"></i>
                        </div>
                        <div class="event-details">
                            <div class="event-title">
                                Depart for Chiang Mai Airport
                            </div>
                            <div class="event-location">
                                <i class="fas fa-map-marker-alt"></i> Chiang Mai Accommodation to CNX
                            </div>
                            <div class="event-description">
                                Allow ample time to reach airport for your morning flight.
                            </div>
                            <div class="event-tags">
                                <div class="event-tag tag-info">
                                    <i class="fas fa-clock"></i> 30 mins travel time
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="event transport">
                        <div class="event-time">07:55 AM</div>
                        <div class="event-icon">
                            <i class="fas fa-plane-departure"></i>
                        </div>
                        <div class="event-details">
                            <div class="event-title">
                                Flight: Nok Air DD 125
                            </div>
                            <div class="event-location">
                                <i class="fas fa-map-marker-alt"></i> Chiang Mai (CNX) to Bangkok Don Mueang (DMK)
                            </div>
                            <div class="event-description">
                                First leg of your journey south.
                            </div>
                            <div class="event-tags">
                                <div class="event-tag tag-info">
                                    <i class="fas fa-clock"></i> Flight Duration: 1h 15m
                                </div>
                                <div class="event-tag tag-info">
                                    <i class="fas fa-ticket-alt"></i> Booking Reference: 7AZLNP
                                </div>
                                <div class="event-tag tag-success">
                                    <i class="fas fa-check-circle"></i> Confirmed
                                </div>
                            </div>
                            <div class="event-toggle">
                                More Details <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="event-extra">
                                <p><strong>Check-in:</strong> Arrive at airport by 6:30 AM (1.5 hours before departure)</p>
                                <p><strong>Baggage Allowance:</strong> 20kg checked, 7kg cabin baggage</p>
                                <p><strong>Meal Service:</strong> None included, consider bringing snacks</p>
                                <p><strong>Airline Contact:</strong> Nok Air +66 2 900 9955</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="event activity">
                        <div class="event-time">09:10 AM - 11:20 AM</div>
                        <div class="event-icon">
                            <i class="fas fa-coffee"></i>
                        </div>
                        <div class="event-details">
                            <div class="event-title">
                                Bangkok Layover
                            </div>
                            <div class="event-location">
                                <i class="fas fa-map-marker-alt"></i> Don Mueang Airport (DMK)
                            </div>
                            <div class="event-description">
                                Short layover before connecting flight to Surat Thani.
                            </div>
                            <div class="event-tags">
                                <div class="event-tag tag-success">
                                    <i class="fas fa-utensils"></i> Plant-Based Options Available
                                </div>
                            </div>
                            <div class="event-toggle">
                                More Details <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="event-extra">
                                <p><strong>Dining Options:</strong> Magic Food Point on Level 1 has plant-based options</p>
                                <p><strong>Connection:</strong> Remain in the domestic terminal for your next flight</p>
                                <p><strong>Facilities:</strong> Free WiFi available throughout terminal</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="event transport">
                        <div class="event-time">11:20 AM</div>
                        <div class="event-icon">
                            <i class="fas fa-plane"></i>
                        </div>
                        <div class="event-details">
                            <div class="event-title">
                                Flight: Thai Lion Air SL734
                            </div>
                            <div class="event-location">
                                <i class="fas fa-map-marker-alt"></i> Bangkok (DMK) to Surat Thani (URT)
                            </div>
                            <div class="event-description">
                                Second flight leg to Southern Thailand.
                            </div>
                            <div class="event-tags">
                                <div class="event-tag tag-info">
                                    <i class="fas fa-clock"></i> Flight Duration: 1h 15m
                                </div>
                                <div class="event-tag tag-warning">
                                    <i class="fas fa-exclamation-circle"></i> Booking Required
                                </div>
                            </div>
                            <div class="event-toggle">
                                More Details <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="event-extra">
                                <p><strong>Estimated Cost:</strong> ฿1,200-1,800</p>
                                <p><strong>Baggage Allowance:</strong> Check airline policy when booking</p>
                                <p><strong>Booking Website:</strong> Thai Lion Air (<a href="https://www.lionairthai.com/" target="_blank">www.lionairthai.com</a>)</p>
                                <p><strong>Alternative:</strong> Thai AirAsia also operates this route</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="event transport">
                        <div class="event-time">12:35 PM - 05:00 PM</div>
                        <div class="event-icon">
                            <i class="fas fa-shuttle-van"></i>
                        </div>
                        <div class="event-details">
                            <div class="event-title">
                                Bus & Ferry to Koh Phangan
                            </div>
                            <div class="event-location">
                                <i class="fas fa-map-marker-alt"></i> Surat Thani Airport to Koh Phangan
                            </div>
                            <div class="event-description">
                                Combined ticket includes bus to Donsak Pier and ferry to Koh Phangan.
                            </div>
                            <div class="event-tags">
                                <div class="event-tag tag-info">
                                    <i class="fas fa-clock"></i> Total Duration: ~4.5 hours
                                </div>
                                <div class="event-tag tag-warning">
                                    <i class="fas fa-exclamation-circle"></i> Booking Required
                                </div>
                            </div>
                            <div class="event-toggle">
                                More Details <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="event-extra">
                                <p><strong>Estimated Cost:</strong> ฿650-850 for combined ticket</p>
                                <p><strong>Purchase:</strong> Buy at Surat Thani Airport transportation counter upon arrival</p>
                                <p><strong>Journey Components:</strong> 1-hour bus to Donsak Pier + 2.5-hour ferry to Koh Phangan</p>
                                <p><strong>Ferry Operators:</strong> Raja Ferry or Seatran (included in joint ticket)</p>
                                <p><strong>Arrival Point:</strong> Thong Sala Pier, Koh Phangan</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="event accommodation">
                        <div class="event-time">05:00 PM - 06:30 PM</div>
                        <div class="event-icon">
                            <i class="fas fa-home"></i>
                        </div>
                        <div class="event-details">
                            <div class="event-title">
                                Transport to Accommodation
                            </div>
                            <div class="event-location">
                                <i class="fas fa-map-marker-alt"></i> Thong Sala Pier to Srithanu Area
                            </div>
                            <div class="event-description">
                                Take a shared taxi (songthaew) from the pier to your accommodation in the Srithanu area.
                            </div>
                            <div class="event-tags">
                                <div class="event-tag tag-info">
                                    <i class="fas fa-coins"></i> Cost: ฿100-200
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="event accommodation">
                        <div class="event-time">06:30 PM</div>
                        <div class="event-icon">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="event-details">
                            <div class="event-title">
                                Check-in at Accommodation
                            </div>
                            <div class="event-location">
                                <i class="fas fa-map-marker-alt"></i> Srithanu, Koh Phangan
                            </div>
                            <div class="event-description">
                                Arrive and settle into your accommodation for the next 5 nights.
                            </div>
                            <div class="event-tags">
                                <div class="event-tag tag-danger">
                                    <i class="fas fa-exclamation-triangle"></i> Booking Required ASAP
                                </div>
                            </div>
                            <div class="event-toggle">
                                More Details <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="event-extra">
                                <p><strong>Recommended Options:</strong></p>
                                <ul>
                                    <li>Samma Karuna Retreat (฿900-1,200/night)</li>
                                    <li>Phangan Cove (฿750-1,100/night)</li>
                                    <li>Benjamin's Hut (฿600-800/night)</li>
                                </ul>
                                <p><strong>Important:</strong> Book immediately due to Full Moon Party period (March 25)</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="event food">
                        <div class="event-time">07:30 PM</div>
                        <div class="event-icon">
                            <i class="fas fa-utensils"></i>
                        </div>
                        <div class="event-details">
                            <div class="event-title">
                                Dinner at Karma Kafe
                            </div>
                            <div class="event-location">
                                <i class="fas fa-map-marker-alt"></i> Karma Kafe, Srithanu Road
                            </div>
                            <div class="event-description">
                                Enjoy a light plant-based dinner at this popular local café.
                            </div>
                            <div class="event-tags">
                                <div class="event-tag tag-success">
                                    <i class="fas fa-leaf"></i> 100% Plant-Based
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- DAY 2: March 22 -->
            <div class="day-container collapsed">
                <div class="day-header">
                    <div class="day-title">
                        <h2>Day 2: Saturday, March 22</h2>
                        <i class="fas fa-chevron-down day-chevron"></i>
                    </div>
                    <div class="day-subtitle">
                        <i class="fas fa-map-marker-alt"></i> Koh Phangan Exploration
                    </div>
                    <div class="day-meta">
                        <div class="meta-item">
                            <i class="fas fa-sun"></i> 28-33°C, Sunny
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-umbrella-beach"></i> Beach Time
                        </div>
                        <div class="meta-item">
                            <i class="fas fa-om"></i> Meditation
                        </div>
                    </div>
                </div>
                <div class="day-content">
                    <div class="event activity">
                        <div class="event-time">07:00 AM - 08:30 AM</div>
                        <div class="event-icon">
                            <i class="fas fa-om"></i>
                        </div>
                        <div class="event-details">
                            <div class="event-title">
                                Morning Meditation
                            </div>
                            <div class="event-location">
                                <i class="fas fa-map-marker-alt"></i> Samma Karuna or Self-guided at Accommodation
                            </div>
                            <div class="event-description">
                                Begin your day with meditation practice, either at your accommodation or at a nearby center.
                            </div>
                            <div class="event-tags">
                                <div class="event-tag tag-info">
                                    <i class="fas fa-info-circle"></i> Drop-in Welcome
                                </div>
                            </div>
                            <div class="event-toggle">
                                More Details <i class="fas fa-chevron-down"></i>
                            </div>
                            <div class="event-extra">
                                <p><strong>Samma Karuna:</strong> Daily morning meditation from 7:00 AM, 200-300 THB drop-in fee</p>
                                <p><strong>Alternative:</strong> Zen Beach offers beautiful setting for self-practice at sunrise</p>
                                <p><strong>What to Bring:</strong> Light clothing, water bottle, mosquito repellent</p>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Additional day 2 events would be listed here -->
                </div>
            </div>
            
            <!-- Remaining days would follow the same pattern -->
        </div>
        
        <!-- CHECKLIST TAB -->
        <div class="tab-content" id="checklist">
            <div class="checklist-container">
                <div class="checklist-header">
                    <span><i class="fas fa-bolt"></i> Immediate Actions (By March 16)</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="checklist-content">
                    <div class="checklist-progress">
                        <div class="checklist-progress-bar" id="immediateProgress"></div>
                    </div>
                    <ul class="task-list" id="immediateChecklist">
                        <li class="task-item" data-priority="high">
                            <input type="checkbox" class="task-checkbox" id="task1">
                            <div class="task-content">
                                <div class="task-title">
                                    Book remaining transportation segments
                                    <span class="priority priority-high">High</span>
                                </div>
                                <div class="task-description">
                                    Book Bangkok to Surat Thani flight and ferry+bus combo.
                                </div>
                            </div>
                        </li>
                        <li class="task-item" data-priority="critical">
                            <input type="checkbox" class="task-checkbox" id="task2">
                            <div class="task-content">
                                <div class="task-title">
                                    Secure Koh Phangan accommodation
                                    <span class="priority priority-critical">Critical</span>
                                </div>
                                <div class="task-description">
                                    Book Srithanu area accommodation for March 21-26 (high priority due to Full Moon Party).
                                </div>
                            </div>
                        </li>
                        <li class="task-item" data-priority="critical">
                            <input type="checkbox" class="task-checkbox" id="task3">
                            <div class="task-content">
                                <div class="task-title">
                                    Complete 90-day reporting
                                    <span class="priority priority-critical">Critical</span>
                                </div>
                                <div class="task-description">
                                    Visit Immigration Office before March 24 deadline with required documentation.
                                </div>
                            </div>
                        </li>
                        <li class="task-item" data-priority="medium">
                            <input type="checkbox" class="task-checkbox" id="task4">
                            <div class="task-content">
                                <div class="task-title">
                                    Check passport validity
                                    <span class="priority priority-medium">Medium</span>
                                </div>
                                <div class="task-description">
                                    Ensure passport has minimum 6 months validity beyond return date.
                                </div>
                            </div>
                        </li>
                        <li class="task-item" data-priority="medium">
                            <input type="checkbox" class="task-checkbox" id="task5">
                            <div class="task-content">
                                <div class="task-title">
                                    Verify travel insurance coverage
                                    <span class="priority priority-medium">Medium</span>
                                </div>
                                <div class="task-description">
                                    Confirm policy is active and covers entire journey.
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="checklist-container collapsed">
                <div class="checklist-header">
                    <span><i class="fas fa-passport"></i> Documentation Preparation (By March 18)</span>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="checklist-content">
                    <div class="checklist-progress">
                        <div class="checklist-progress-bar" id="docsProgress"></div>
                    </div>
                    <ul class="task-list" id="docsChecklist">
                        <li class="task-item" data-priority="high">
                            <input type="checkbox" class="task-checkbox" id="doc1">
                            <div class="task-content">
                                <div class="task-title">
                                    Prepare passport and visa documents
                                    <span class="priority priority-high">High</span>
                                </div>
                                <div class="task-description">
                                    Make copies of passport, visa page, entry stamp, and 90-day report receipt.
                                </div>
                            </div>
                        </li>
                        <li class="task-item" data-priority="medium">
                            <input type="checkbox" class="task-checkbox" id="doc2">
                            <div class="task-content">
                                <div class="task-title">
                                    Organize travel documents
                                    <span class="priority priority-medium">Medium</span>
                                </div>
                                <div class="task-description">
                                    Print or save digitally: all flight confirmations, accommodation confirmations, travel insurance policy.
                                </div>
                            </div>
                        </li>
                        <li class="task-item" data-priority="medium">
                            <input type="checkbox" class="task-checkbox" id="doc3">
                            <div class="task-content">
                                <div class="task-title">
                                    Financial preparation
                                    <span class="priority priority-medium">Medium</span>
                                </div>
                                <div class="task-description">
                                    Notify bank of travel plans, ensure credit/debit cards will work in Malaysia, withdraw sufficient Thai Baht.
                                </div>
                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            
            <!-- Additional checklist sections would be included here -->
        </div>
        
        <!-- ACCOMMODATION TAB -->
        <div class="tab-content" id="accommodation">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <i class="fas fa-bed"></i> Koh Phangan (March 21-26)
                    </div>
                </div>
                <div class="card-content">
                    <p>Recommended area: <strong>Srithanu (West Coast)</strong></p>
                    <p>Wellness-oriented community with excellent plant-based dining options, quieter beaches, and several yoga and meditation centers.</p>
                    
                    <div class="accommodation-card">
                        <div class="accommodation-header">
                            <div class="accommodation-title">
                                <i class="fas fa-star"></i> Samma Karuna Retreat
                            </div>
                            <div class="accommodation-price">
                                ฿900-1,200/night
                            </div>
                        </div>
                        <div class="accommodation-body">
                            <p>Retreat center with yoga classes and meditation spaces in a beachfront setting with community atmosphere.</p>
                            <div class="accommodation-features">
                                <div class="accommodation-feature">
                                    <i class="fas fa-utensils"></i> On-site vegan café
                                </div>
                                <div class="accommodation-feature">
                                    <i class="fas fa-wifi"></i> Modest WiFi
                                </div>
                                <div class="accommodation-feature">
                                    <i class="fas fa-om"></i> Daily yoga classes
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="accommodation-card">
                        <div class="accommodation-header">
                            <div class="accommodation-title">
                                <i class="fas fa-home"></i> Phangan Cove
                            </div>
                            <div class="accommodation-price">
                                ฿750-1,100/night
                            </div>
                        </div>
                        <div class="accommodation-body">
                            <p>Comfortable bungalows in a peaceful garden setting near the beach.</p>
                            <div class="accommodation-features">
                                <div class="accommodation-feature">
                                    <i class="fas fa-utensils"></i> 10-min walk to vegan cafés
                                </div>
                                <div class="accommodation-feature">
                                    <i class="fas fa-wifi"></i> Adequate WiFi
                                </div>
                                <div class="accommodation-feature">
                                    <i class="fas fa-tree"></i> Garden spaces
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="accommodation-card">
                        <div class="accommodation-header">
                            <div class="accommodation-title">
                                <i class="fas fa-leaf"></i> Benjamin's Hut
                            </div>
                            <div class="accommodation-price">
                                ฿600-800/night
                            </div>
                        </div>
                        <div class="accommodation-body">
                            <p>Simple eco-friendly bungalows in a natural setting with a focus on sustainability.</p>
                            <div class="accommodation-features">
                                <div class="accommodation-feature">
                                    <i class="fas fa-utensils"></i> Near multiple vegan options
                                </div>
                                <div class="accommodation-feature">
                                    <i class="fas fa-wifi"></i> Basic WiFi
                                </div>
                                <div class="accommodation-feature">
                                    <i class="fas fa-laptop"></i> Outdoor workspaces
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Additional accommodation cards for other locations would be included here -->
        </div>
        
        <!-- TRANSPORT TAB -->
        <div class="tab-content" id="transport">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <i class="fas fa-route"></i> Bangkok to Koh Phangan (March 21)
                    </div>
                </div>
                <div class="card-content">
                    <p class="mb-3"><strong>Recommended Option:</strong> Flight + Bus + Ferry</p>
                    
                    <table class="transportation-table">
                        <thead>
                            <tr>
                                <th>Component</th>
                                <th>Schedule</th>
                                <th>Duration</th>
                                <th>Cost (THB)</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Flight: Thai Lion Air SL734</td>
                                <td>DMK 11:20 → URT 12:35</td>
                                <td>1h 15m</td>
                                <td>฿1,200-1,800</td>
                                <td>Good baggage allowance</td>
                            </tr>
                            <tr>
                                <td>Combined Bus+Ferry Ticket</td>
                                <td>13:00 departure</td>
                                <td>4h</td>
                                <td>฿650</td>
                                <td>Includes bus to pier and Raja Ferry</td>
                            </tr>
                            <tr>
                                <td><strong>Total</strong></td>
                                <td>9:10 → 17:00</td>
                                <td><strong>7h 50m</strong></td>
                                <td><strong>฿1,850-2,450</strong></td>
                                <td>Best balance of cost/convenience</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <div class="booking-info">
                        <h4>Booking Information</h4>
                        <ul>
                            <li><strong>Flight:</strong> Book directly through <a href="https://www.lionairthai.com/" target="_blank">Thai Lion Air</a></li>
                            <li><strong>Ferry+Bus:</strong> Purchase combined ticket at Surat Thani Airport transportation counter</li>
                            <li><strong>Booking Priority:</strong> High - secure flight immediately</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <i class="fas fa-route"></i> Koh Phangan to Krabi (March 26)
                    </div>
                </div>
                <div class="card-content">
                    <p class="mb-3"><strong>Recommended Option:</strong> Ferry + Bus Combination</p>
                    
                    <table class="transportation-table">
                        <thead>
                            <tr>
                                <th>Component</th>
                                <th>Schedule</th>
                                <th>Duration</th>
                                <th>Cost (THB)</th>
                                <th>Notes</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Combined Ferry+Bus Ticket</td>
                                <td>08:00 departure</td>
                                <td>7h</td>
                                <td>฿850</td>
                                <td>Via Lomprayah or Seatran</td>
                            </tr>
                            <tr>
                                <td><strong>Total</strong></td>
                                <td>08:00 → 15:00</td>
                                <td><strong>7h</strong></td>
                                <td><strong>฿850</strong></td>
                                <td>Most straightforward, best value</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <div class="booking-info">
                        <h4>Booking Information</h4>
                        <ul>
                            <li><strong>Recommended Provider:</strong> <a href="https://www.lomprayah.com/" target="_blank">Lomprayah</a> or <a href="https://12go.asia/" target="_blank">12Go Asia</a> (aggregator)</li>
                            <li><strong>Booking Priority:</strong> Medium - book after securing accommodation</li>
                            <li><strong>Important:</strong> Select departure at least one day before Malaysia flight to allow buffer for potential ferry cancellations</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <!-- Additional transportation cards would be included here -->
        </div>
        
        <!-- ACTIVITIES TAB -->
        <div class="tab-content" id="activities">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <i class="fas fa-om"></i> Koh Phangan Meditation & Wellness
                    </div>
                </div>
                <div class="card-content">
                    <div class="wellness-option">
                        <h4><i class="fas fa-leaf"></i> Samma Karuna</h4>
                        <p><strong>Location:</strong> Srithanu, West Coast</p>
                        <p><strong>Offerings:</strong> Daily meditation sessions, yoga classes, workshops</p>
                        <p><strong>Cost:</strong> 200-300 THB drop-in fee</p>
                        <p><strong>Schedule:</strong> Morning meditation at 7:00 AM daily, afternoon yoga at 4:00 PM</p>
                    </div>
                    
                    <div class="wellness-option">
                        <h4><i class="fas fa-water"></i> Zen Beach</h4>
                        <p><strong>Location:</strong> Srithanu, West Coast</p>
                        <p><strong>Offerings:</strong> Beautiful natural setting for self-guided practice, sunset gatherings</p>
                        <p><strong>Cost:</strong> Free</p>
                        <p><strong>Schedule:</strong> Sunset community gathering daily around 6:00 PM</p>
                    </div>
                    
                    <div class="wellness-option">
                        <h4><i class="fas fa-spa"></i> Agama Yoga</h4>
                        <p><strong>Location:</strong> Sri Thanu</p>
                        <p><strong>Offerings:</strong> Yoga classes, workshops, meditation sessions</p>
                        <p><strong>Cost:</strong> 300-400 THB drop-in fee</p>
                        <p><strong>Schedule:</strong> Various classes throughout the day</p>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <i class="fas fa-om"></i> Malaysia Meditation Options
                    </div>
                </div>
                <div class="card-content">
                    <div class="wellness-option">
                        <h4><i class="fas fa-gopuram"></i> Buddhist Maha Vihara</h4>
                        <p><strong>Location:</strong> Brickfields, Kuala Lumpur</p>
                        <p><strong>Offerings:</strong> Daily meditation sessions (morning and evening)</p>
                        <p><strong>Cost:</strong> Donation basis</p>
                        <p><strong>Schedule:</strong> Morning session at 6:30 AM, evening session at 7:30 PM</p>
                    </div>
                    
                    <div class="wellness-option">
                        <h4><i class="fas fa-brain"></i> Brahm Centre Malaysia</h4>
                        <p><strong>Location:</strong> Bandar Utama, Petaling Jaya (KL suburb)</p>
                        <p><strong>Offerings:</strong> Mindfulness meditation courses, shorter workshops</p>
                        <p><strong>Cost:</strong> MYR 120-350 for course packages</p>
                        <p><strong>Approach:</strong> Secular mindfulness, science-based methodology</p>
                    </div>
                    
                    <h4 class="mt-4">Self-Guided Retreat Recommendation</h4>
                    <p>For a 5-day KL stay, consider this approach:</p>
                    <ol>
                        <li><strong>Split Stay Option:</strong> 3 days in Kuala Lumpur (Bangsar area) + 2 days at Sekeping Serendah or The Shorea for nature immersion</li>
                        <li><strong>Morning Practice:</strong> Visit Buddhist Maha Vihara temple (6:30am daily sessions) or practice at KLCC Park (before 7:30am)</li>
                        <li><strong>Mid-Day Work:</strong> WORQ co-working space in Bangsar or café work at plant-based cafés</li>
                        <li><strong>Evening Practice:</strong> Temple sessions or self-guided practice at accommodation</li>
                    </ol>
                </div>
            </div>
            
            <!-- Additional activity cards would be included here -->
        </div>
        
        <!-- RISKS TAB -->
        <div class="tab-content" id="risks">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <i class="fas fa-exclamation-triangle"></i> Critical Safety Factors
                    </div>
                </div>
                <div class="card-content">
                    <div class="risk-assessment">
                        <div class="risk-item">
                            <div class="risk-level risk-low"></div>
                            <div class="risk-text">
                                <strong>Political Stability:</strong> Both Thailand and Malaysia are politically stable; minor demonstrations possible but unlikely to affect tourists
                            </div>
                        </div>
                        <div class="risk-item">
                            <div class="risk-level risk-medium"></div>
                            <div class="risk-text">
                                <strong>Crime:</strong> Standard tourist precautions advised; Koh Phangan has elevated petty theft risk during Full Moon period (March 25)
                            </div>
                        </div>
                        <div class="risk-item">
                            <div class="risk-level risk-medium"></div>
                            <div class="risk-text">
                                <strong>Health Infrastructure:</strong> Both countries have good medical facilities in tourist areas; island medical services more limited
                            </div>
                        </div>
                        <div class="risk-item">
                            <div class="risk-level risk-medium"></div>
                            <div class="risk-text">
                                <strong>Transportation Safety:</strong> Ferry services generally reliable but occasional delays; road safety variable especially in rural areas
                            </div>
                        </div>
                    </div>
                    
                    <h4 class="mt-4">High Priority Mitigations</h4>
                    <table class="mitigation-table">
                        <thead>
                            <tr>
                                <th>Risk</th>
                                <th>Mitigation Strategy</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Ferry Disruptions</td>
                                <td>Book morning ferries when possible; build buffer day before KL flight</td>
                            </tr>
                            <tr>
                                <td>Heat-Related Issues</td>
                                <td>Plan activities during cooler hours; maintain hydration with electrolyte supplements</td>
                            </tr>
                            <tr>
                                <td>Full Moon Party Impact</td>
                                <td>Book accommodation away from party beaches; secure reservations early</td>
                            </tr>
                        </tbody>
                    </table>
                    
                    <h4 class="mt-4">Destination-Specific Safety Notes</h4>
                    
                    <div class="destination-risks">
                        <h5><i class="fas fa-map-marker-alt"></i> Koh Phangan</h5>
                        <ul>
                            <li><strong>Full Moon Party:</strong> Scheduled March 25 - exercise increased vigilance regarding belongings</li>
                            <li><strong>Water Safety:</strong> Monitor weather conditions before water activities</li>
                            <li><strong>Transport:</strong> Motorbike rental requires extreme caution - consider alternatives</li>
                            <li><strong>Beach Security:</strong> Don't leave valuables unattended, even on quieter beaches</li>
                        </ul>
                        
                        <h5><i class="fas fa-map-marker-alt"></i> Kuala Lumpur</h5>
                        <ul>
                            <li><strong>Monsoon Considerations:</strong> Heavy afternoon downpours common - plan indoor activities</li>
                            <li><strong>Street Safety:</strong> Exercise standard urban precautions, especially after dark</li>
                            <li><strong>Ramadan Effects:</strong> Some services may have modified hours during Ramadan period</li>
                            <li><strong>Transportation:</strong> Use official taxi services or ride-hailing apps rather than unofficial taxis</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <div class="card-title">
                        <i class="fas fa-first-aid"></i> Emergency Resources
                    </div>
                </div>
                <div class="card-content">
                    <div class="emergency-contacts">
                        <h4>Emergency Contact Numbers</h4>
                        <ul>
                            <li><strong>Thailand Tourist Police:</strong> 1155</li>
                            <li><strong>Thailand Medical Emergency:</strong> 1669</li>
                            <li><strong>Malaysia Emergency:</strong> 999</li>
                        </ul>
                        
                        <h4 class="mt-3">Transportation Support</h4>
                        <ul>
                            <li><strong>Nok Air:</strong> +66 2 900 9955</li>
                            <li><strong>Thai Lion Air:</strong> +66 2 529 9999</li>
                            <li><strong>Batik Air:</strong> +60 3 7628 0255</li>
                            <li><strong>AirAsia:</strong> +60 3 8660 4343</li>
                            <li><strong>Lomprayah Ferry:</strong> +66 77 427 765</li>
                        </ul>
                        
                        <h4 class="mt-3">Medical Resources</h4>
                        <ul>
                            <li><strong>Koh Phangan Hospital:</strong> +66 77 377 034</li>
                            <li><strong>Bangkok Hospital Samui:</strong> +66 77 429 500</li>
                            <li><strong>International SOS (KL):</strong> +60 3 2787 3787</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </main>
    
    <footer>
        <div class="container">
            <p>&copy; 2025 Thailand-Malaysia Trip Planner | Last Updated: March, 2025</p>
        </div>
    </footer>

    <!-- Action buttons -->
    <button class="print-button" id="printButton"><i class="fas fa-print"></i> Print Itinerary</button>
    <button class="reset-button" id="resetButton"><i class="fas fa-redo"></i> Reset Progress</button>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Create a memory storage object if localStorage is not available
            const storage = (function() {
                let memoryStorage = {};
                
                try {
                    // Test if localStorage is available
                    if (typeof localStorage === 'object') {
                        localStorage.setItem('test', 'test');
                        localStorage.removeItem('test');
                        return {
                            getItem: function(key) {
                                return localStorage.getItem(key);
                            },
                            setItem: function(key, value) {
                                localStorage.setItem(key, value);
                            },
                            removeItem: function(key) {
                                localStorage.removeItem(key);
                            },
                            clear: function() {
                                localStorage.clear();
                            },
                            available: true
                        };
                    }
                } catch (e) {
                    // localStorage not available or permission denied
                    showNotification("Local storage not available. Your progress won't be saved between sessions.");
                }
                
                // Fallback to memory storage
                return {
                    getItem: function(key) {
                        return memoryStorage[key] || null;
                    },
                    setItem: function(key, value) {
                        memoryStorage[key] = value;
                    },
                    removeItem: function(key) {
                        delete memoryStorage[key];
                    },
                    clear: function() {
                        memoryStorage = {};
                    },
                    available: false
                };
            })();
            
            // Helper function to show notifications
            function showNotification(message) {
                const notification = document.createElement('div');
                notification.className = 'notification';
                notification.textContent = message;
                document.body.appendChild(notification);
                
                // Remove notification after animation completes
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 5500);
            }
            
            // Tab switching
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const tabId = tab.getAttribute('data-tab');
                    
                    // Remove active class from all tabs and contents
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(c => c.classList.remove('active'));
                    
                    // Add active class to selected tab and content
                    tab.classList.add('active');
                    document.getElementById(tabId).classList.add('active');
                    
                    // Save active tab to storage
                    try {
                        storage.setItem('activeTab', tabId);
                    } catch (e) {
                        // Silently fail if storage fails
                    }
                });
            });
            
            // Load saved tab if exists
            try {
                const savedTab = storage.getItem('activeTab');
                if (savedTab) {
                    const tabToActivate = document.querySelector(`.tab[data-tab="${savedTab}"]`);
                    if (tabToActivate) tabToActivate.click();
                }
            } catch (e) {
                // Silently fail if storage fails
            }
            
            // Day container toggling
            const dayHeaders = document.querySelectorAll('.day-header');
            
            dayHeaders.forEach(header => {
                header.addEventListener('click', () => {
                    const dayContainer = header.parentElement;
                    dayContainer.classList.toggle('collapsed');
                    
                    // Save collapsed state to storage
                    try {
                        saveDayStates();
                    } catch (e) {
                        // Silently fail if storage fails
                    }
                });
            });
            
            // Checklist container toggling
            const checklistHeaders = document.querySelectorAll('.checklist-header');
            
            checklistHeaders.forEach(header => {
                header.addEventListener('click', () => {
                    const checklistContainer = header.parentElement;
                    checklistContainer.classList.toggle('collapsed');
                    
                    // Save collapsed state to storage
                    try {
                        saveChecklistStates();
                    } catch (e) {
                        // Silently fail if storage fails
                    }
                });
            });
            
            // Event details toggling
            const eventToggles = document.querySelectorAll('.event-toggle');
            
            eventToggles.forEach(toggle => {
                toggle.addEventListener('click', (e) => {
                    e.stopPropagation(); // Prevent bubbling to day-header
                    const event = toggle.closest('.event');
                    event.classList.toggle('expanded');
                    
                    // We don't save this state to storage since it's less important
                });
            });
            
            // Task checkbox functionality
            const taskCheckboxes = document.querySelectorAll('.task-checkbox');
            
            taskCheckboxes.forEach(checkbox => {
                checkbox.addEventListener('change', () => {
                    const taskItem = checkbox.closest('.task-item');
                    
                    if (checkbox.checked) {
                        taskItem.classList.add('completed');
                    } else {
                        taskItem.classList.remove('completed');
                        
                        // Re-add priority class
                        const priority = taskItem.getAttribute('data-priority');
                        if (priority) {
                            taskItem.classList.add(priority);
                        }
                    }
                    
                    // Update progress bars
                    updateChecklistProgress();
                    
                    // Save checklist state to storage
                    try {
                        saveChecklistData();
                    } catch (e) {
                        // Silently fail if storage fails
                    }
                });
            });
            
            // Function to update checklist progress bars
            function updateChecklistProgress() {
                const checklists = [
                    { id: 'immediateChecklist', progressBarId: 'immediateProgress' },
                    { id: 'docsChecklist', progressBarId: 'docsProgress' }
                    // Add more checklists as needed
                ];
                
                checklists.forEach(list => {
                    const checklist = document.getElementById(list.id);
                    if (!checklist) return;
                    
                    const total = checklist.querySelectorAll('.task-item').length;
                    const completed = checklist.querySelectorAll('.task-item.completed').length;
                    const progressPercentage = total > 0 ? (completed / total) * 100 : 0;
                    
                    const progressBar = document.getElementById(list.progressBarId);
                    if (progressBar) {
                        progressBar.style.width = `${progressPercentage}%`;
                    }
                });
                
                // Update overall journey progress
                updateJourneyProgress();
            }
            
            // Function to update journey progress
            function updateJourneyProgress() {
                const totalTasks = document.querySelectorAll('.task-item').length;
                const completedTasks = document.querySelectorAll('.task-item.completed').length;
                const progressPercentage = totalTasks > 0 ? (completedTasks / totalTasks) * 100 : 0;
                
                const journeyProgress = document.getElementById('journeyProgress');
                if (journeyProgress) {
                    journeyProgress.style.width = `${progressPercentage}%`;
                }
                
                // Update milestone status
                updateMilestones();
            }
            
            // Function to update milestones
            function updateMilestones() {
                const milestones = document.querySelectorAll('.milestone');
                const today = new Date();
                
                milestones.forEach(milestone => {
                    const dateStr = milestone.getAttribute('data-date');
                    if (!dateStr) return;
                    
                    const milestoneDate = new Date(dateStr);
                    
                    if (milestoneDate <= today) {
                        milestone.classList.add('completed');
                    } else {
                        milestone.classList.remove('completed');
                    }
                });
            }
            
            // Function to save day states to storage
            function saveDayStates() {
                const dayContainers = document.querySelectorAll('.day-container');
                const dayStates = {};
                
                dayContainers.forEach((container, index) => {
                    dayStates[`day${index + 1}`] = container.classList.contains('collapsed');
                });
                
                storage.setItem('dayStates', JSON.stringify(dayStates));
            }
            
            // Function to save checklist states to storage
            function saveChecklistStates() {
                const checklistContainers = document.querySelectorAll('.checklist-container');
                const checklistStates = {};
                
                checklistContainers.forEach((container, index) => {
                    checklistStates[`checklist${index + 1}`] = container.classList.contains('collapsed');
                });
                
                storage.setItem('checklistStates', JSON.stringify(checklistStates));
            }
            
            // Function to save checklist data to storage
            function saveChecklistData() {
                const taskItems = document.querySelectorAll('.task-item');
                const checklistData = {};
                
                taskItems.forEach(item => {
                    const checkbox = item.querySelector('.task-checkbox');
                    if (checkbox) {
                        checklistData[checkbox.id] = checkbox.checked;
                    }
                });
                
                storage.setItem('checklistData', JSON.stringify(checklistData));
            }
            
            // Load saved data from storage
            try {
                // Load saved day states if exists
                const savedDayStates = storage.getItem('dayStates');
                if (savedDayStates) {
                    const dayStates = JSON.parse(savedDayStates);
                    const dayContainers = document.querySelectorAll('.day-container');
                    
                    dayContainers.forEach((container, index) => {
                        const dayId = `day${index + 1}`;
                        if (dayStates[dayId]) {
                            container.classList.add('collapsed');
                        } else {
                            container.classList.remove('collapsed');
                        }
                    });
                }
                
                // Load saved checklist states if exists
                const savedChecklistStates = storage.getItem('checklistStates');
                if (savedChecklistStates) {
                    const checklistStates = JSON.parse(savedChecklistStates);
                    const checklistContainers = document.querySelectorAll('.checklist-container');
                    
                    checklistContainers.forEach((container, index) => {
                        const checklistId = `checklist${index + 1}`;
                        if (checklistStates[checklistId]) {
                            container.classList.add('collapsed');
                        } else {
                            container.classList.remove('collapsed');
                        }
                    });
                }
                
                // Load saved checklist data if exists
                const savedChecklistData = storage.getItem('checklistData');
                if (savedChecklistData) {
                    const checklistData = JSON.parse(savedChecklistData);
                    
                    for (const checkboxId in checklistData) {
                        const checkbox = document.getElementById(checkboxId);
                        if (checkbox) {
                            checkbox.checked = checklistData[checkboxId];
                            
                            // Update task item styling
                            const taskItem = checkbox.closest('.task-item');
                            if (taskItem) {
                                if (checkbox.checked) {
                                    taskItem.classList.add('completed');
                                } else {
                                    taskItem.classList.remove('completed');
                                    
                                    // Re-add priority class
                                    const priority = taskItem.getAttribute('data-priority');
                                    if (priority) {
                                        taskItem.classList.add(priority);
                                    }
                                }
                            }
                        }
                    }
                    
                    // Update progress bars
                    updateChecklistProgress();
                }
            } catch (e) {
                // If there's any error loading data, just continue
                console.error("Error loading saved data:", e);
            }
            
            // Calculate days remaining
            function updateDaysRemaining() {
                const departureDate = new Date('2025-03-21');
                const today = new Date();
                const timeDiff = departureDate.getTime() - today.getTime();
                const daysRemaining = Math.ceil(timeDiff / (1000 * 3600 * 24));
                
                const progressStatus = document.querySelector('.progress-status');
                if (progressStatus) {
                    if (daysRemaining > 0) {
                        progressStatus.textContent = `${daysRemaining} days until departure`;
                    } else if (daysRemaining === 0) {
                        progressStatus.textContent = 'Departure day!';
                    } else {
                        progressStatus.textContent = 'Journey in progress';
                    }
                }
            }
            
            // Add print button functionality
            const printButton = document.getElementById('printButton');
            if (printButton) {
                printButton.addEventListener('click', () => {
                    window.print();
                });
            }
            
            // Add reset button functionality
            const resetButton = document.getElementById('resetButton');
            if (resetButton) {
                resetButton.addEventListener('click', () => {
                    if (confirm('Are you sure you want to reset all progress? This cannot be undone.')) {
                        // Clear storage
                        try {
                            storage.clear();
                        } catch (e) {
                            // Silently fail if storage fails
                        }
                        
                        // Uncheck all checkboxes
                        document.querySelectorAll('.task-checkbox').forEach(checkbox => {
                            checkbox.checked = false;
                            const taskItem = checkbox.closest('.task-item');
                            if (taskItem) {
                                taskItem.classList.remove('completed');
                                // Re-add priority class
                                const priority = taskItem.getAttribute('data-priority');
                                if (priority) {
                                    taskItem.classList.add(priority);
                                }
                            }
                        });
                        
                        // Update progress
                        updateChecklistProgress();
                        
                        // Show notification
                        showNotification('Progress has been reset successfully.');
                    }
                });
            }
            
            // Initialize
            updateDaysRemaining();
            updateChecklistProgress();
            updateMilestones();
            
            // Show storage availability notification if needed
            if (!storage.available) {
                showNotification('Storage is limited in this environment. Your progress won't be saved between sessions.');
            }
        });
    </script>
</body>
</html>
